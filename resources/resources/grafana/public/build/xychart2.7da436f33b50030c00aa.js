"use strict";(self.webpackChunkgrafana=self.webpackChunkgrafana||[]).push([[3772],{54391:(ze,Z,n)=>{n.d(Z,{R:()=>g});var B=n(32196),F=n(96540),G=n(40845),w=n(14578),h=n(10354),ae=n(72093);const g=({name:N,onChange:H,verifyLayerNameUniqueness:J,overrideStyles:he})=>{const X=(0,G.of)(Q),[j,ne]=(0,F.useState)(!1),[V,k]=(0,F.useState)(null),D=O=>{ne(!0)},T=O=>{if(ne(!1),V){k(null);return}N!==O&&H(O)},Se=O=>{const W=O.currentTarget.value.trim();if(W.length===0){k("An empty layer name is not allowed");return}if(J&&!J(W)&&W!==N){k("Layer name already exists");return}V&&k(null)},pe=O=>{T(O.currentTarget.value.trim())},Me=O=>{O.key==="Enter"&&T(O.currentTarget.value)},xe=O=>{O.target.select()};return F.createElement(F.Fragment,null,F.createElement("div",{className:X.wrapper},!j&&F.createElement("button",{className:X.layerNameWrapper,title:"Edit layer name",onClick:D,"data-testid":"layer-name-div"},F.createElement("span",{className:he?"":X.layerName},N),F.createElement(w.I,{name:"pen",className:X.layerEditIcon,size:"sm"})),j&&F.createElement(F.Fragment,null,F.createElement(h.p,{type:"text",defaultValue:N,onBlur:pe,autoFocus:!0,onKeyDown:Me,onFocus:xe,invalid:V!==null,onChange:Se,className:X.layerNameInput,"data-testid":"layer-name-input"}),V&&F.createElement(ae.P,{horizontal:!0},V))))},Q=N=>({wrapper:(0,B.css)({label:"Wrapper",display:"flex",alignItems:"center",marginLeft:N.spacing(.5)}),layerNameWrapper:(0,B.css)({display:"flex",cursor:"pointer",border:"1px solid transparent",borderRadius:N.shape.radius.default,alignItems:"center",padding:`0 0 0 ${N.spacing(.5)}`,margin:0,background:"transparent","&:hover":{background:N.colors.action.hover,border:`1px dashed ${N.colors.border.strong}`},"&:focus":{border:`2px solid ${N.colors.primary.border}`},"&:hover, &:focus":{".query-name-edit-icon":{visibility:"visible"}}}),layerName:(0,B.css)({fontWeight:N.typography.fontWeightMedium,color:N.colors.primary.text,cursor:"pointer",overflow:"hidden",marginLeft:N.spacing(.5)}),layerEditIcon:(0,B.cx)((0,B.css)({marginLeft:N.spacing(2),visibility:"hidden"}),"query-name-edit-icon"),layerNameInput:(0,B.css)({maxWidth:"300px",margin:"-4px 0"})})},735:(ze,Z,n)=>{n.d(Z,{Q9:()=>G,QB:()=>h,it:()=>F});var B=n(52622),F=(g=>(g.Auto="auto",g.Manual="manual",g))(F||{}),G=(g=>(g.Lines="lines",g.Points="points",g.PointsAndLines="points+lines",g))(G||{});const w={exclude:[]},h={label:B.yL.Auto,show:"points"},ae={series:[]}},80983:(ze,Z,n)=>{n.r(Z),n.d(Z,{plugin:()=>nt});var B=n(65158),F=n(89654),G=n(22680),w=n(32196),h=n(96540),ae=n(84596),g=n(1173),Q=n(27310),N=n(28240),H=n(11261),J=n(40845),he=n(55852),X=n(29158),j=n(88575),ne=n(88323),V=n(76218),k=n(54391),D=(e=>(e.Auto="auto",e.Manual="manual",e))(D||{}),T=(e=>(e.Lines="lines",e.Points="points",e.PointsAndLines="points+lines",e))(T||{});const Se={id:""},pe={show:"points"},Me={series:[]},xe=({value:e,onChange:a,context:o})=>{const r=(0,J.of)(O),s=o.options?.mapping,y=(0,ae.A)(s),v=y!=null&&s!==y,u={frame:{matcher:{id:g.jR.byIndex,options:0}}};(v||e==null)&&(e=[{...u}],a([...e]));const[d,E]=(0,h.useState)(0),b=()=>{e=e.concat({...u}),E(e.length-1),a([...e])},z=l=>{e=e.filter((c,x)=>x!==l),E(0),a([...e])},i=e[d],f=`${s}${d}`,t=s===D.Manual?Q.X4.ExcludeBaseNames:o.data.length===1?Q.X4.IncludeAll:Q.X4.OnlyBaseNames;return o.data.forEach((l,c)=>{l.fields.forEach((x,m)=>{x.state={...x.state,origin:{frameIndex:c,fieldIndex:m}}})}),h.createElement(h.Fragment,null,s===D.Manual&&h.createElement(h.Fragment,null,h.createElement(he.$n,{icon:"plus",size:"sm",variant:"secondary",onClick:b,className:r.marginBot},"Add series"),h.createElement("div",{className:r.marginBot},e.map((l,c)=>h.createElement("div",{key:`series/${c}`,className:c===d?`${r.row} ${r.sel}`:r.row,onClick:()=>E(c),role:"button","aria-label":`Select series ${c+1}`,tabIndex:0,onKeyPress:x=>{x.key==="Enter"&&E(c)}},h.createElement(k.R,{name:l.name?.fixed??`Series ${c+1}`,onChange:x=>{l.name={fixed:x===""||x===`Series ${c+1}`?void 0:x},a([...e])}}),h.createElement(X.K,{name:"trash-alt",title:"remove",className:(0,w.cx)(r.actionIcon),onClick:()=>z(c),tooltip:"Delete series"}))))),d>=0&&i!=null&&h.createElement(h.Fragment,{key:f},h.createElement(j.D,{label:"Frame"},h.createElement(ne.l6,{placeholder:s===D.Auto?"All frames":"Select frame",isClearable:!0,options:o.data.map((l,c)=>({value:c,label:`${(0,N.Ri)(l,c)} (index: ${c}, rows: ${l.length})`})),value:i.frame?.matcher.options,onChange:l=>{l==null?delete i.frame:i.frame={matcher:{id:g.jR.byIndex,options:Number(l.value)}},a([...e])}})),h.createElement(j.D,{label:"X field"},h.createElement(V.O,{value:i.x?.matcher.options,context:o,onChange:l=>{l==null?delete i.x:i.x={matcher:{id:g.Ct.byName,options:l}},a([...e])},item:{id:"x",name:"x",settings:{filter:l=>(s===D.Auto||l.state?.origin?.frameIndex===i.frame?.matcher.options)&&l.type===H.PU.number&&!l.config.custom?.hideFrom?.viz,baseNameMode:t,placeholderText:s===D.Auto?"First number field in each frame":void 0}}})),h.createElement(j.D,{label:"Y field"},h.createElement(V.O,{value:i.y?.matcher?.options,context:o,onChange:l=>{l==null?delete i.y:i.y={matcher:{id:g.Ct.byName,options:l}},a([...e])},item:{id:"y",name:"y",settings:{filter:l=>(s===D.Auto||l.state?.origin?.frameIndex===i.frame?.matcher.options)&&l.type===H.PU.number&&!l.config.custom?.hideFrom?.viz,baseNameMode:t,placeholderText:s===D.Auto?"Remaining number fields in each frame":void 0}}})),h.createElement(j.D,{label:"Size field"},h.createElement(V.O,{value:i.size?.matcher?.options,context:o,onChange:l=>{l==null?delete i.size:i.size={matcher:{id:g.Ct.byName,options:l}},a([...e])},item:{id:"size",name:"size",settings:{filter:l=>l.name!==i.x?.matcher.options&&(s===D.Auto||l.state?.origin?.frameIndex===i.frame?.matcher.options)&&l.type===H.PU.number&&!l.config.custom?.hideFrom?.viz,baseNameMode:t,placeholderText:""}}})),h.createElement(j.D,{label:"Color field"},h.createElement(V.O,{value:i.color?.matcher?.options,context:o,onChange:l=>{l==null?delete i.color:i.color={matcher:{id:g.Ct.byName,options:l}},a([...e])},item:{id:"color",name:"color",settings:{filter:l=>l.name!==i.x?.matcher.options&&(s===D.Auto||l.state?.origin?.frameIndex===i.frame?.matcher.options)&&l.type===H.PU.number&&!l.config.custom?.hideFrom?.viz,baseNameMode:t,placeholderText:""}}}))))},O=e=>({marginBot:(0,w.css)({marginBottom:"20px"}),row:(0,w.css)({padding:`${e.spacing(.5,1)}`,borderRadius:`${e.shape.radius.default}`,background:`${e.colors.background.secondary}`,minHeight:`${e.spacing(4)}`,display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"3px",cursor:"pointer",border:`1px solid ${e.components.input.borderColor}`,"&:hover":{border:`1px solid ${e.components.input.borderHover}`}}),sel:(0,w.css)({border:`1px solid ${e.colors.primary.border}`,"&:hover":{border:`1px solid ${e.colors.primary.border}`}}),actionIcon:(0,w.css)({color:`${e.colors.text.secondary}`,"&:hover":{color:`${e.colors.text}`}})});var W=n(23596),Ce=n(32264),Pe=n(67266),Ve=n(55726),Re=n(81297),A=n(52622),Ne=n(77455),we=n(11389),We=n(58749),Ke=n(52415),Ue=n(79871),He=n(21164),je=n(22731),ye=n(83195),se=n(85200),re=n(24293);function _(e,a){return e.display?(0,ye.cN)(e.display(a)):`${a}`}function Xe(e){return e.id===g.jR.byIndex?(a,o)=>o===e.options:()=>!1}function Ye(e,a,o,r){(0,N.Fm)(o),(0,N.j2)(o,r);let s=[];a.length===0&&(a=[{}]);const{palette:y,getColorByName:v}=Ce.$.theme2.visualization;if(a.forEach((u,d)=>{if(e===D.Manual&&(u.frame?.matcher==null||u.x?.matcher==null||u.y?.matcher==null))return;let E=(0,se.NS)(u.x?.matcher??{id:g.Ct.byType,options:"number"}),b=(0,se.NS)(u.y?.matcher??{id:g.Ct.byType,options:"number"}),z=u.color?(0,se.NS)(u.color.matcher):null,i=u.size?(0,se.NS)(u.size.matcher):null,f=u.frame?Xe(u.frame.matcher):null;o.forEach((t,l)=>{if(f!=null&&!f(t,l))return;let c=[],x=[],m=t.fields.filter(p=>p.type===H.PU.number),S=m.find(p=>E(p,t,o)),I=z!=null?m.find(p=>p!==S&&z(p,t,o)):void 0,C=i!=null?m.find(p=>p!==S&&p!==I&&i(p,t,o)):void 0;S!=null&&(m.forEach(p=>{if(!(p===S||p===I||p===C)&&!(e===D.Manual&&x.length>0)&&b(p,t,o)&&!p.config.custom?.hideFrom?.viz){let P=p,M={name:{value:u.name?.fixed??(0,N.Ct)(P,t,o)},showPoints:P.config.custom.show===T.Lines?A.yL.Never:A.yL.Always,showLine:P.config.custom.show!==T.Points,lineWidth:P.config.custom.lineWidth??2,lineStyle:P.config.custom.lineStyle,x:{field:S},y:{field:P},color:{},size:{},_rest:c};I!=null&&(M.color.field=I),C!=null&&(M.size.field=C,M.size.min=C.config.custom.pointSize?.min??5,M.size.max=C.config.custom.pointSize?.max??100),x.push(M)}}),x.length,t.fields.forEach(p=>{x.some(({x:R,y:M,color:Y,size:L})=>R.field===p||M.field===p||Y.field===p||L.field===p)||c.push(p)}),s.push(...x))})}),s.length!==0){let u=0;s.forEach((d,E)=>{if(d.color.field==null){let b=d.y.field.config.color??{mode:re.Y.PaletteClassic},z="";b.mode===re.Y.PaletteClassic?z=v(y[u++%y.length]):b.mode===re.Y.Fixed&&(z=v(b.fixedColor)),d.color.fixed=z}d.size.field==null&&(d.size.fixed=d.y.field.config.custom.pointSize?.fixed??5)}),Ze(s)}return s}function Ze(e){let a=e.map(s=>s.name.value.split(/\s+/g));const{prefix:o,suffix:r}=Fe(a);(o<1/0||r<1/0)&&e.forEach((s,y)=>{s.name.value=a[y].slice(o,a[y].length-r).join(" ")})}function Le(e){let a=e.map(v=>v.split(/\s+/g)),{prefix:o,suffix:r}=Fe(a),s=a[0];if(s.length===1&&o===1&&r===1)return"";let y=[];return o>0&&y.push(...s.slice(0,o)),r>0&&y.push(...s.slice(-r)),y.join(" ")}function Fe(e){let a=1/0,o=1/0,r=e[0];for(let s=1;s<e.length;s++)e[s].length<r.length&&(r=e[s]);for(let s=1;s<e.length;s++){let y=e[s];if(y!==r){let v=0;for(let d=0;d<r.length&&y[d]===r[d];d++)v++;v<a&&(a=v);let u=0;for(let d=r.length-1;d>=0&&y[d]===r[d];d--)u++;u<o&&(o=u)}}return{prefix:a,suffix:o}}function ee(e,a){return e!==a&&e.includes(" ")&&(e=e.replace(a,"").trim()),e}const Ge=({dataIdxs:e,seriesIdx:a,data:o,xySeries:r,dismiss:s,isPinned:y})=>{const v=(0,J.of)(je.$),u=e.find(m=>m!==null),d=r[a-1],E=d.x.field,b=d.y.field,z=d.size.field,i=d.color.field;let f=d.name.value,t=d.color.fixed;const l={label:f,value:"",color:(0,W.alpha)(t,.5),colorIndicator:Ue.fX.marker_md},c=[{label:ee(E.state?.displayName??E.name,f),value:_(E,E.values[u])},{label:ee(b.state?.displayName??b.name,f),value:_(b,b.values[u])}];z!=null&&c.push({label:ee(z.state?.displayName??z.name,f),value:_(z,z.values[u])}),i!=null&&c.push({label:ee(i.state?.displayName??i.name,f),value:_(i,i.values[u])}),d._rest.forEach(m=>{c.push({label:ee(m.state?.displayName??m.name,f),value:_(m,m.values[u])})});let x;if(y&&a!=null){const m=(0,He.u)(b,u);x=h.createElement(We.S,{dataLinks:m})}return h.createElement("div",{className:v.wrapper},h.createElement(Ke.A,{item:l,isPinned:y}),h.createElement(we.o,{items:c,isPinned:y}),x)};var de=n(36613),Qe=n(51336),Ae=n(4134);const Je=(e,a)=>{if(e.length===0)return{builder:null,prepData:()=>[]};let o,r;function s(i){return(t,l,c,x)=>(de.A.orient(t,l,(m,S,I,C,p,P,R,M,Y,L,U,xt,yt,gt,vt)=>{const ie=de.A.pxRatio,le=e[l-1];let ge=t.data[l],ve=le.showLine,st=le.showPoints===A.yL.Always,oe=1;t.ctx.save(),t.ctx.rect(t.bbox.left,t.bbox.top,t.bbox.width,t.bbox.height),t.ctx.clip(),t.ctx.fillStyle=m.fill(),t.ctx.strokeStyle=m.stroke(),t.ctx.lineWidth=oe;let rt=2*Math.PI,De=C.key,Te=p.key;const Oe={max:void 0,fixed:5},dt=!1;let ce=(Oe.max??Oe.fixed)*ie,ct=t.posToVal(-ce/2,De),mt=t.posToVal(t.bbox.width/ie+ce/2,De),ut=t.posToVal(t.bbox.height/ie+ce/2,Te),ft=t.posToVal(-ce/2,Te),ht=i.disp.size.values(t,l),$e=i.disp.color.values(t,l),pt=i.disp.color.alpha,Be=ve?new Path2D:null,me=null;for(let $=0;$<ge[0].length;$++){let Ee=ge[0][$],be=ge[1][$],q=ht[$]*ie;if(Ee>=ct&&Ee<=mt&&be>=ut&&be<=ft){let ue=P(Ee,C,L,M),fe=R(be,p,U,Y);ve&&Be.lineTo(ue,fe),st&&(t.ctx.moveTo(ue+q/2,fe),t.ctx.beginPath(),t.ctx.arc(ue,fe,q/2,0,rt),dt&&$e[$]!==me&&(me=$e[$],t.ctx.fillStyle=(0,W.alpha)(me,pt),t.ctx.strokeStyle=me),t.ctx.fill(),t.ctx.stroke(),i.each(t,l,$,ue-q/2-oe/2,fe-q/2-oe/2,q+oe,q+oe))}}if(ve){t.ctx.strokeStyle=le.color.fixed,t.ctx.lineWidth=le.lineWidth*ie;const{lineStyle:$}=le;$&&$.fill!=="solid"&&($.fill==="dot"&&(t.ctx.lineCap="round"),t.ctx.setLineDash($.dash??[10,10])),t.ctx.stroke(Be)}t.ctx.restore()}),null)}let y=s({disp:{size:{values:(i,f)=>i.data[f][2]},color:{values:(i,f)=>i.data[f][3],alpha:.5}},each:(i,f,t,l,c,x,m)=>{l-=i.bbox.left,c-=i.bbox.top,o.add({x:l,y:c,w:x,h:m,sidx:f,didx:t})}});const v=new Qe.e;v.setCursor({drag:{setScale:!0},dataIdx:(i,f)=>{if(f===1){const t=de.A.pxRatio;r=null;let l=1/0,c=i.cursor.left*t,x=i.cursor.top*t;o.get(c,x,1,1,m=>{if((0,Ae.ur)(c,x,m.x,m.y,m.x+m.w,m.y+m.h)){let S=m.x+m.w/2,I=m.y+m.h/2,C=S-c,p=I-x,P=Math.sqrt(C**2+p**2);P<=m.w/2&&P<=l&&(l=P,r=m)}})}return r&&f===r.sidx?r.didx:null},points:{size:(i,f)=>r&&f===r.sidx?r.w/de.A.pxRatio:0,fill:(i,f)=>"rgba(255,255,255,0.4)"}}),v.addHook("init",(i,f)=>{i.over.style.overflow="hidden"}),v.addHook("drawClear",i=>{o=o||new Ae.C$(0,0,i.bbox.width,i.bbox.height),o.clear(),i.series.forEach((f,t)=>{t>0&&(f._paths=null)})}),v.setMode(2);let u=e[0].x.field,d=u.config,E=d.custom,b=E?.scaleDistribution;v.addScale({scaleKey:"x",isTime:!1,orientation:A.Lt.Horizontal,direction:A.ON.Right,distribution:b?.type,log:b?.log,linearThreshold:b?.linearThreshold,min:d.min,max:d.max,softMin:E?.axisSoftMin,softMax:E?.axisSoftMax,centeredZero:E?.axisCenteredZero,decimals:d.decimals});let z=E.axisLabel;if(z==null||z===""){let i=e.map(t=>t.x.field.state?.displayName??""),f=e.length===1?u.state?.displayName??u.name:new Set(i).size===1?i[0]:Le(i);f!==""&&(z=f)}return v.addAxis({scaleKey:"x",placement:E?.axisPlacement!==A.vM.Hidden?A.vM.Bottom:A.vM.Hidden,show:E?.axisPlacement!==A.vM.Hidden,grid:{show:E?.axisGridShow},border:{show:E?.axisBorderShow},theme:a,label:z,formatValue:(i,f)=>(0,ye.cN)(u.display(i,f))}),e.forEach((i,f)=>{let t=i.y.field;const l=i.color.fixed,c=i.color.fixed;let x=t.config.unit??"y",m=t.config,S=m.custom,I=S?.scaleDistribution;v.addScale({scaleKey:x,orientation:A.Lt.Vertical,direction:A.ON.Up,distribution:I?.type,log:I?.log,linearThreshold:I?.linearThreshold,min:m.min,max:m.max,softMin:S?.axisSoftMin,softMax:S?.axisSoftMax,centeredZero:S?.axisCenteredZero,decimals:m.decimals});let C=S.axisLabel;if(C==null||C===""){let p=e.map(R=>R.y.field.state?.displayName??""),P=e.length===1?t.state?.displayName??t.name:new Set(p).size===1?p[0]:Le(p);P!==""&&(C=P)}v.addAxis({scaleKey:x,theme:a,placement:S?.axisPlacement===A.vM.Auto?A.vM.Left:S?.axisPlacement,show:S?.axisPlacement!==A.vM.Hidden,grid:{show:S?.axisGridShow},border:{show:S?.axisBorderShow},size:S?.axisWidth,label:C,formatValue:(p,P)=>(0,ye.cN)(t.display(p,P))}),v.addSeries({facets:[{scale:"x",auto:!0},{scale:x,auto:!0}],pathBuilder:y,theme:a,scaleKey:"",lineColor:(0,W.alpha)(""+l,1),fillColor:(0,W.alpha)(c??"#ffff",.5),show:!t.state?.hideFrom?.viz})}),{builder:v,prepData:ke}};function ke(e){return[null,...e.map((a,o)=>{let r=a.x.field.values.length,s;if(a.size.field!=null){let{min:y,max:v}=a.size,u=y**2,E=v**2-u,b=a.size.field.values,z=Math.min(...b),f=Math.max(...b)-z;s=Array(r);for(let t=0;t<b.length;t++){let c=(b[t]-z)/f,x=u+c*E;s[t]=x**.5}}else s=Array(r).fill(a.size.fixed);return[a.x.field.values,a.y.field.values,s,Array(r).fill(a.color.fixed)]})]}const qe=e=>{const a=(0,J.of)(_e);let{mapping:o,series:r}=e.options,s=(0,h.useMemo)(()=>Ye(o,r,e.data.series,e.fieldConfig),[o,r,e.data.series,e.fieldConfig]),{builder:y,prepData:v}=(0,h.useMemo)(()=>Je(s,Ce.$.theme2),[o,r,e.data.structureRev,e.fieldConfig,e.options.tooltip]),u=(0,h.useMemo)(()=>v(s),[s]),d=y==null||u.length===0?"Err":"";const E=()=>{if(!e.options.legend.showLegend)return null;const b=[];s.forEach((t,l)=>{let c=t.y.field;c.config.custom.hideFrom?.legend||b.push({yAxis:1,label:t.name.value,color:(0,W.alpha)(t.color.fixed,1),getItemKey:()=>`${l}-${t.name.value}`,fieldName:c.state?.displayName??c.name,disabled:c.state?.hideFrom?.viz??!1})});const{placement:z,displayMode:i,width:f}=e.options.legend;return h.createElement(Pe.KU.Legend,{placement:z,width:f},h.createElement(Ve.t,{className:a.legend,placement:z,items:b,displayMode:i}))};return d?h.createElement("div",{className:"panel-empty"},h.createElement("p",null,d)):h.createElement(Pe.KU,{width:e.width,height:e.height,legend:E()},(b,z)=>h.createElement(Re.Z,{config:y,data:u,width:b,height:z},e.options.tooltip.mode!==A.$N.None&&h.createElement(Ne.xl,{config:y,hoverMode:Ne.b3.xyOne,render:(i,f,t,l,c)=>h.createElement(Ge,{data:e.data.series,dataIdxs:f,xySeries:s,dismiss:c,isPinned:l,seriesIdx:t}),maxWidth:e.options.tooltip.maxWidth,maxHeight:e.options.tooltip.maxHeight})))},_e=()=>({legend:(0,w.css)({div:{justifyContent:"flex-start"}})});var K=n(37055),et=n(38248),tt=n(11404),Ie=n(43228);const it=5;function lt(e){return{standardOptions:{[K.uo.Min]:{hideFromDefaults:!0},[K.uo.Max]:{hideFromDefaults:!0},[K.uo.Unit]:{hideFromDefaults:!0},[K.uo.Decimals]:{hideFromDefaults:!0},[K.uo.NoValue]:{hideFromDefaults:!0},[K.uo.DisplayName]:{hideFromDefaults:!0},[K.uo.Thresholds]:{hideFromDefaults:!0},[K.uo.Mappings]:{hideFromDefaults:!0},[K.uo.Color]:{settings:{byValueSupport:!0,bySeriesSupport:!0,preferThresholdsMode:!1},defaultValue:{mode:re.Y.PaletteClassic}}},useCustomConfig:a=>{a.addRadio({path:"show",name:"Show",defaultValue:e.show,settings:{options:[{label:"Points",value:T.Points},{label:"Lines",value:T.Lines},{label:"Both",value:T.PointsAndLines}]}}).addSliderInput({path:"pointSize.fixed",name:"Point size",defaultValue:e.pointSize?.fixed??it,settings:{min:1,max:100,step:1},showIf:o=>o.show!==T.Lines}).addNumberInput({path:"pointSize.min",name:"Min point size",showIf:o=>o.show!==T.Lines}).addNumberInput({path:"pointSize.max",name:"Max point size",showIf:o=>o.show!==T.Lines}).addCustomEditor({id:"lineStyle",path:"lineStyle",name:"Line style",showIf:o=>o.show!==T.Points,editor:Ie.F,override:Ie.F,process:Q.hS,shouldApply:o=>o.type===H.PU.number}).addSliderInput({path:"lineWidth",name:"Line width",defaultValue:e.lineWidth,settings:{min:0,max:10,step:1},showIf:o=>o.show!==T.Points}),et.r(a,e),tt.e(a)}}}var te=n(735);const ot=e=>(e?.pluginVersion??"")===""?at(e):e.options;function at(e){const{dims:a,seriesMapping:o,series:r,...s}=e.options,{exclude:y=[],frame:v,x:u}=a??{},d=e.fieldConfig.defaults.custom;let E=r;o===te.it.Auto&&(E=[{x:void 0,y:void 0}]);let b=0;const z=E.map(({x:f,y:t,pointColor:l,pointSize:c,frame:x})=>{const{fixed:m,field:S}=l??{},{fixed:I,field:C,min:p,max:P}=c??{};let R,M;return f==null&&u==null?R={id:g.Ct.byType,options:"number"}:R={id:g.Ct.byName,options:f??u},t==null?M={id:g.Ct.byType,options:"number"}:M={id:g.Ct.byName,options:t},S==null&&m&&d.pointColor?.fixed!==m&&(e.fieldConfig.overrides.some(L=>L.matcher.id===M.id&&L.matcher.options===M.options&&L.properties.some(U=>U.id==="color"))||e.fieldConfig.overrides.push({matcher:M,properties:[{id:"color",value:{mode:"fixed",fixedColor:m}}]})),C==null&&I&&d.pointSize?.fixed!==I&&(e.fieldConfig.overrides.some(L=>L.matcher.id===M.id&&L.matcher.options===M.options&&L.properties.some(U=>U.id==="custom.pointSize.fixed"))||e.fieldConfig.overrides.push({matcher:M,properties:[{id:"custom.pointSize.fixed",value:I}]})),C!=null&&(p&&d.pointSize?.min!==p&&(e.fieldConfig.overrides.some(L=>L.matcher.id===M.id&&L.matcher.options===M.options&&L.properties.some(U=>U.id==="custom.pointSize.min"))||e.fieldConfig.overrides.push({matcher:{id:g.Ct.byName,options:C},properties:[{id:"custom.pointSize.min",value:p}]})),P&&d.pointSize?.max!==P&&(e.fieldConfig.overrides.some(L=>L.matcher.id===M.id&&L.matcher.options===M.options&&L.properties.some(U=>U.id==="custom.pointSize.max"))||e.fieldConfig.overrides.push({matcher:{id:g.Ct.byName,options:C},properties:[{id:"custom.pointSize.max",value:P}]}))),{frame:{matcher:{id:g.jR.byIndex,options:x??(o===te.it.Manual?b++:v??0)}},x:{matcher:R},y:{matcher:M,...y.length&&{exclude:{id:g.Ct.byNames,options:y}}},...S&&{color:{matcher:{id:g.Ct.byName,options:S}}},...C&&{size:{matcher:{id:g.Ct.byName,options:C}}}}});return{...s,mapping:o===te.it.Auto?te.it.Auto:te.it.Manual,series:z}}const nt=new B.m(qe).setMigrationHandler(ot).useFieldConfig(lt(pe)).setPanelOptions(e=>{e.addRadio({path:"mapping",name:"Series mapping",defaultValue:"auto",settings:{options:[{value:"auto",label:"Auto"},{value:"manual",label:"Manual"}]}}).addCustomEditor({id:"series",path:"series",name:"",editor:xe,defaultValue:[{}]}),F.D(e,!0),G.H(e)})}}]);

//# sourceMappingURL=xychart2.7da436f33b50030c00aa.js.map