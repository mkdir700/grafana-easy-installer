{"version":3,"file":"alert-rules-drawer-content.fe2ad2261f5242667d26.js","mappings":"sOAgBe,SAASA,EAAwB,CAAE,aAAAC,CAAa,EAAU,CACvE,MAAMC,KAAW,eAAY,EAEvB,CAAE,QAASC,CAAkB,KAAI,KAAS,SAAY,CAC1D,MAAMD,KAAS,MAA6B,CAAE,gBAAiB,IAA0B,CAAC,CAAC,CAC7F,EAAG,CAACA,CAAQ,CAAC,EAGPE,KADoB,MAA0B,IAAyB,EAE1E,QAASC,GAAOA,EAAG,MAAM,EACzB,QAASC,GAAMA,EAAE,KAAK,EACtB,OAAQC,GAASA,EAAK,YAAY,KAAW,YAAY,IAAMN,CAAY,EAExEO,EAAUL,EAEhB,OACE,gCACGK,EACC,gBAAC,IAAkB,CAAC,KAAK,qBAAsB,GAE/C,gBAAC,IAAU,CAAC,MAAAJ,EAAc,yBAA0B,GAAO,gBAAiB,GAAO,CAEvF,CAEJ,C","sources":["webpack://grafana/./public/app/features/alerting/unified/integration/AlertRulesDrawerContent.tsx"],"sourcesContent":["import React from 'react';\nimport { useAsync } from 'react-use';\n\nimport { LoadingPlaceholder } from '@grafana/ui';\nimport { useDispatch } from 'app/types';\n\nimport { RulesTable } from '../components/rules/RulesTable';\nimport { useCombinedRuleNamespaces } from '../hooks/useCombinedRuleNamespaces';\nimport { fetchPromAndRulerRulesAction } from '../state/actions';\nimport { Annotation } from '../utils/constants';\nimport { GRAFANA_RULES_SOURCE_NAME } from '../utils/datasource';\n\ninterface Props {\n  dashboardUid: string;\n}\n\nexport default function AlertRulesDrawerContent({ dashboardUid }: Props) {\n  const dispatch = useDispatch();\n\n  const { loading: loadingAlertRules } = useAsync(async () => {\n    await dispatch(fetchPromAndRulerRulesAction({ rulesSourceName: GRAFANA_RULES_SOURCE_NAME }));\n  }, [dispatch]);\n\n  const grafanaNamespaces = useCombinedRuleNamespaces(GRAFANA_RULES_SOURCE_NAME);\n  const rules = grafanaNamespaces\n    .flatMap((ns) => ns.groups)\n    .flatMap((g) => g.rules)\n    .filter((rule) => rule.annotations[Annotation.dashboardUID] === dashboardUid);\n\n  const loading = loadingAlertRules;\n\n  return (\n    <>\n      {loading ? (\n        <LoadingPlaceholder text=\"Loading alert rules\" />\n      ) : (\n        <RulesTable rules={rules} showNextEvaluationColumn={false} showGroupColumn={false} />\n      )}\n    </>\n  );\n}\n"],"names":["AlertRulesDrawerContent","dashboardUid","dispatch","loadingAlertRules","rules","ns","g","rule","loading"],"sourceRoot":""}