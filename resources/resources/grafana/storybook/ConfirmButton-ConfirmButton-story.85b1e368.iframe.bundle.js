"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[2690],{"../../node_modules/@mdx-js/react/lib/index.js":function(g,f,i){i.d(f,{BN:function(){return o},RP:function(){return C},gz:function(){return c},xA:function(){return a}});var d=i("../../node_modules/react/index.js");const o=d.createContext({});function c(s){return n;function n(l){const p=C(l.components);return d.createElement(s,{...l,allComponents:p})}}function C(s){const n=d.useContext(o);return d.useMemo(()=>typeof s=="function"?s(n):{...n,...s},[n,s])}const r={};function a({components:s,children:n,disableParentContext:l}){let p;return l?p=typeof s=="function"?s({}):s||r:p=C(s),d.createElement(o.Provider,{value:p},n)}},"../../node_modules/@storybook/addon-actions/dist/index.mjs":function(g,f,i){i.d(f,{XI:function(){return d.XI}});var d=i("../../node_modules/@storybook/addon-actions/dist/chunk-AY7I2SME.mjs"),o=(...c)=>{let C=config,r=c;r.length===1&&Array.isArray(r[0])&&([r]=r),r.length!==1&&typeof r[r.length-1]!="string"&&(C={...config,...r.pop()});let a=r[0];(r.length!==1||typeof a=="string")&&(a={},r.forEach(n=>{a[n]=n}));let s={};return Object.keys(a).forEach(n=>{s[n]=action(a[n],C)}),s}},"../../node_modules/react/cjs/react-jsx-runtime.production.min.js":function(g,f,i){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var d=i("../../node_modules/react/index.js"),o=Symbol.for("react.element"),c=Symbol.for("react.fragment"),C=Object.prototype.hasOwnProperty,r=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(n,l,p){var m,h={},_=null,x=null;p!==void 0&&(_=""+p),l.key!==void 0&&(_=""+l.key),l.ref!==void 0&&(x=l.ref);for(m in l)C.call(l,m)&&!a.hasOwnProperty(m)&&(h[m]=l[m]);if(n&&n.defaultProps)for(m in l=n.defaultProps,l)h[m]===void 0&&(h[m]=l[m]);return{$$typeof:o,type:n,key:_,ref:x,props:h,_owner:r.current}}f.Fragment=c,f.jsx=s,f.jsxs=s},"../../node_modules/react/jsx-runtime.js":function(g,f,i){g.exports=i("../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./src/components/ConfirmButton/ConfirmButton.story.tsx":function(g,f,i){i.r(f),i.d(f,{Basic:function(){return j},Delete:function(){return E},WithCustomButton:function(){return O},default:function(){return ie}});var d=i("../../node_modules/@storybook/addon-actions/dist/index.mjs"),o=i("../../node_modules/react/index.js"),c=i("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),C=i("./src/themes/ThemeContext.tsx"),r=i("./src/components/Button/Button.tsx");const a=({children:e,className:t,closeOnConfirm:u,confirmText:D="Save",confirmVariant:V="primary",disabled:$=!1,onCancel:F,onClick:K,onConfirm:q,size:z="md"})=>{const k=(0,o.useRef)(null),U=(0,o.useRef)(null),[T,A]=(0,o.useState)(!1),[G,J]=(0,o.useState)(!1),b=(0,C.of)(s);(0,o.useEffect)(()=>{var v,S;T?((v=U.current)==null||v.focus(),J(!0)):G&&((S=k.current)==null||S.focus(),J(!1))},[G,T]);const Q=v=>{v&&v.preventDefault(),A(!0),K?.()},ae=v=>{var S;v&&v.preventDefault(),A(!1),(S=k.current)==null||S.focus(),F?.()},se=v=>{v&&v.preventDefault(),q?.(),u&&A(!1)},le=(0,c.cx)(t,b.mainButton,{[b.mainButtonHide]:T}),ce=(0,c.cx)(b.confirmButton,{[b.confirmButtonHide]:!T}),ue=(0,c.cx)(b.confirmButtonContainer,{[b.confirmButtonContainerHide]:!T});return o.createElement("div",{className:b.container},o.createElement("span",{className:le},typeof e=="string"?o.createElement(r.$n,{disabled:$,size:z,fill:"text",onClick:Q,ref:k},e):o.cloneElement(e,{disabled:$,onClick:Q,ref:k})),o.createElement("div",{className:ue},o.createElement("span",{className:ce},o.createElement(r.$n,{size:z,variant:V,onClick:se,ref:U},D),o.createElement(r.$n,{size:z,fill:"text",onClick:ae},"Cancel"))))};a.displayName="ConfirmButton";const s=e=>({container:(0,c.AH)({alignItems:"center",display:"flex",justifyContent:"flex-end",position:"relative"}),mainButton:(0,c.AH)({opacity:1,transition:e.transitions.create(["opacity"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut}),zIndex:2}),mainButtonHide:(0,c.AH)({opacity:0,transition:e.transitions.create(["opacity","visibility"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeIn}),visibility:"hidden",zIndex:0}),confirmButtonContainer:(0,c.AH)({overflow:"visible",position:"absolute",pointerEvents:"all",right:0}),confirmButtonContainerHide:(0,c.AH)({overflow:"hidden",pointerEvents:"none"}),confirmButton:(0,c.AH)({alignItems:"flex-start",background:e.colors.background.primary,display:"flex",opacity:1,transform:"translateX(0)",transition:e.transitions.create(["opacity","transform"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeOut}),zIndex:1}),confirmButtonHide:(0,c.AH)({opacity:0,transform:"translateX(100%)",transition:e.transitions.create(["opacity","transform","visibility"],{duration:e.transitions.duration.shortest,easing:e.transitions.easing.easeIn}),visibility:"hidden"})});try{a.displayName="ConfirmButton",a.__docgenInfo={description:"",displayName:"ConfirmButton",props:{onConfirm:{defaultValue:null,description:"Confirm action callback",name:"onConfirm",required:!0,type:{name:"() => void"}},className:{defaultValue:null,description:"Custom button styles",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},confirmText:{defaultValue:{value:"Save"},description:"Text for the Confirm button",name:"confirmText",required:!1,type:{name:"string"}},disabled:{defaultValue:{value:"false"},description:"Disable button click action",name:"disabled",required:!1,type:{name:"boolean"}},confirmVariant:{defaultValue:{value:"primary"},description:"Variant of the Confirm button",name:"confirmVariant",required:!1,type:{name:"enum",value:[{value:'"primary"'},{value:'"secondary"'},{value:'"destructive"'},{value:'"success"'}]}},closeOnConfirm:{defaultValue:null,description:"Hide confirm actions when after of them is clicked",name:"closeOnConfirm",required:!1,type:{name:"boolean"}},onClick:{defaultValue:null,description:"Optional on click handler for the original button",name:"onClick",required:!1,type:{name:"(() => void)"}},onCancel:{defaultValue:null,description:"Callback for the cancel action",name:"onCancel",required:!1,type:{name:"(() => void)"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ConfirmButton/ConfirmButton.tsx#ConfirmButton"]={docgenInfo:a.__docgenInfo,name:"ConfirmButton",path:"src/components/ConfirmButton/ConfirmButton.tsx#ConfirmButton"})}catch{}var n=i("../../node_modules/react/jsx-runtime.js"),l=i("../../node_modules/@mdx-js/react/lib/index.js"),p=i("../../node_modules/@storybook/blocks/dist/index.mjs");function m(e){const t=Object.assign({h1:"h1",p:"p",h2:"h2",code:"code",pre:"pre"},(0,l.RP)(),e.components);return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(p.W8,{title:"MDX|ConfirmButton",component:a}),`
`,(0,n.jsx)(t.h1,{id:"confirmbutton",children:"ConfirmButton"}),`
`,(0,n.jsx)(t.p,{children:"The ConfirmButton is an interactive component that adds a double-confirm option to a clickable action. When clicked, the action is replaced by an inline confirmation with the option to cancel. In Grafana, this is used, for example, for editing values in settings tables."}),`
`,(0,n.jsx)(t.h2,{id:"variants",children:"Variants"}),`
`,(0,n.jsxs)(t.p,{children:["There are four variants of the ",(0,n.jsx)(t.code,{children:"ConfirmButton"}),": primary, secondary, destructive, and link. The primary and secondary variants include a primary or secondary ",(0,n.jsx)(t.code,{children:"Button"})," component. The primary and secondary variant should be used to confirm actions like saving or adding data. The destructive variant includes a destructive ",(0,n.jsx)(t.code,{children:"Button"})," component. The destructive variant should be used to double-confirm a deletion or removal of an element. The link variant doesn't include any button and double-confirms as links instead."]}),`
`,(0,n.jsx)(t.p,{children:"Apart from the button variant, you can also modify the button size and the button text."}),`
`,(0,n.jsx)(t.h2,{id:"usage",children:"Usage"}),`
`,(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:`<ConfirmButton
  closeOnConfirm
  size="md"
  confirmText="Are you sure?"
  confirmVariant="secondary"
  onConfirm={() => {
    console.log('Action confirmed!');
  }}
>
  Click me
</ConfirmButton>
`})}),`
`,(0,n.jsx)(t.h2,{id:"with-a-custom-button",children:"With a custom button"}),`
`,(0,n.jsxs)(t.p,{children:["You can pass a custom button as a child to the ",(0,n.jsx)(t.code,{children:"ConfirmButton"}),". The child will automatically receive the correct ",(0,n.jsx)(t.code,{children:"onClick"})," from ",(0,n.jsx)(t.code,{children:"ConfirmButton"}),"."]}),`
`,(0,n.jsx)(t.pre,{children:(0,n.jsx)(t.code,{className:"language-jsx",children:`<ConfirmButton
  closeOnConfirm
  size="md"
  confirmText="Are you sure?"
  confirmVariant="secondary"
  onConfirm={() => {
    console.log('Action confirmed!');
  }}
>
  <Button variant="secondary">Click me</Button>
</ConfirmButton>
`})}),`
`,(0,n.jsx)(p.ov,{of:a})]})}function h(e={}){const{wrapper:t}=Object.assign({},(0,l.RP)(),e.components);return t?(0,n.jsx)(t,Object.assign({},e,{children:(0,n.jsx)(m,e)})):m(e)}var _=h;const x=({size:e,disabled:t,onConfirm:u,"aria-label":D,closeOnConfirm:V})=>o.createElement(a,{confirmText:"Delete",confirmVariant:"destructive",size:e||"md",disabled:t,onConfirm:u,closeOnConfirm:V},o.createElement(r.$n,{"aria-label":D,variant:"destructive",icon:"times",size:e||"sm"}));try{x.displayName="DeleteButton",x.__docgenInfo={description:"",displayName:"DeleteButton",props:{onConfirm:{defaultValue:null,description:"Confirm action callback",name:"onConfirm",required:!0,type:{name:"() => void"}},size:{defaultValue:null,description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},disabled:{defaultValue:null,description:"Disable button click action",name:"disabled",required:!1,type:{name:"boolean"}},"aria-label":{defaultValue:null,description:"",name:"aria-label",required:!1,type:{name:"string"}},closeOnConfirm:{defaultValue:null,description:"Close after delete button is clicked",name:"closeOnConfirm",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/ConfirmButton/DeleteButton.tsx#DeleteButton"]={docgenInfo:x.__docgenInfo,name:"DeleteButton",path:"src/components/ConfirmButton/DeleteButton.tsx#DeleteButton"})}catch{}var Z=Object.defineProperty,ee=Object.defineProperties,ne=Object.getOwnPropertyDescriptors,I=Object.getOwnPropertySymbols,te=Object.prototype.hasOwnProperty,oe=Object.prototype.propertyIsEnumerable,P=(e,t,u)=>t in e?Z(e,t,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[t]=u,y=(e,t)=>{for(var u in t||(t={}))te.call(t,u)&&P(e,u,t[u]);if(I)for(var u of I(t))oe.call(t,u)&&P(e,u,t[u]);return e},B=(e,t)=>ee(e,ne(t)),R,N,w,X,H,M,L,Y,W;const re={title:"Buttons/ConfirmButton",component:a,subcomponents:{DeleteButton:x},parameters:{docs:{page:_},controls:{exclude:["className","onClick","onCancel","onConfirm"]}},args:{buttonText:"Edit",confirmText:"Save",size:"md",confirmVariant:"primary",disabled:!1,closeOnConfirm:!0},argTypes:{confirmVariant:{control:{type:"select"},options:["primary","secondary","destructive","link"]},size:{control:{type:"select"},options:["xs","sm","md","lg"]}}},j=e=>o.createElement(a,{closeOnConfirm:e.closeOnConfirm,size:e.size,confirmText:e.confirmText,disabled:e.disabled,confirmVariant:e.confirmVariant,onConfirm:()=>{(0,d.XI)("Saved")("save!")}},e.buttonText),O=e=>o.createElement(a,{closeOnConfirm:e.closeOnConfirm,size:e.size,confirmText:e.confirmText,disabled:e.disabled,confirmVariant:e.confirmVariant,onConfirm:()=>{(0,d.XI)("Saved")("save!")}},o.createElement(r.$n,{size:e.size,variant:"secondary",icon:"pen"},e.buttonText)),E=e=>o.createElement(x,{size:e.size,disabled:e.disabled,onConfirm:()=>{(0,d.XI)("Deleted")("delete!")}});var ie=re;j.parameters=B(y({},j.parameters),{docs:B(y({},(R=j.parameters)==null?void 0:R.docs),{source:y({originalSource:`args => {
  return <ConfirmButton closeOnConfirm={args.closeOnConfirm} size={args.size} confirmText={args.confirmText} disabled={args.disabled} confirmVariant={args.confirmVariant} onConfirm={() => {
    action('Saved')('save!');
  }}>
      {args.buttonText}
    </ConfirmButton>;
}`},(w=(N=j.parameters)==null?void 0:N.docs)==null?void 0:w.source)})}),O.parameters=B(y({},O.parameters),{docs:B(y({},(X=O.parameters)==null?void 0:X.docs),{source:y({originalSource:`args => {
  return <ConfirmButton closeOnConfirm={args.closeOnConfirm} size={args.size} confirmText={args.confirmText} disabled={args.disabled} confirmVariant={args.confirmVariant} onConfirm={() => {
    action('Saved')('save!');
  }}>
      <Button size={args.size} variant="secondary" icon="pen">
        {args.buttonText}
      </Button>
    </ConfirmButton>;
}`},(M=(H=O.parameters)==null?void 0:H.docs)==null?void 0:M.source)})}),E.parameters=B(y({},E.parameters),{docs:B(y({},(L=E.parameters)==null?void 0:L.docs),{source:y({originalSource:`args => {
  return <DeleteButton size={args.size} disabled={args.disabled} onConfirm={() => {
    action('Deleted')('delete!');
  }} />;
}`},(W=(Y=E.parameters)==null?void 0:Y.docs)==null?void 0:W.source)})})}}]);
