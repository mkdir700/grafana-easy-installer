"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[3958],{"../../node_modules/@mdx-js/react/lib/index.js":function(h,u,t){t.d(u,{BN:function(){return c},RP:function(){return p},gz:function(){return g},xA:function(){return f}});var o=t("../../node_modules/react/index.js");const c=o.createContext({});function g(r){return d;function d(l){const a=p(l.components);return o.createElement(r,{...l,allComponents:a})}}function p(r){const d=o.useContext(c);return o.useMemo(()=>typeof r=="function"?r(d):{...d,...r},[d,r])}const v={};function f({components:r,children:d,disableParentContext:l}){let a;return l?a=typeof r=="function"?r({}):r||v:a=p(r),o.createElement(c.Provider,{value:a},d)}},"../../node_modules/react/cjs/react-jsx-runtime.production.min.js":function(h,u,t){/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var o=t("../../node_modules/react/index.js"),c=Symbol.for("react.element"),g=Symbol.for("react.fragment"),p=Object.prototype.hasOwnProperty,v=o.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,f={key:!0,ref:!0,__self:!0,__source:!0};function r(d,l,a){var m,s={},x=null,j=null;a!==void 0&&(x=""+a),l.key!==void 0&&(x=""+l.key),l.ref!==void 0&&(j=l.ref);for(m in l)p.call(l,m)&&!f.hasOwnProperty(m)&&(s[m]=l[m]);if(d&&d.defaultProps)for(m in l=d.defaultProps,l)s[m]===void 0&&(s[m]=l[m]);return{$$typeof:c,type:d,key:x,ref:j,props:s,_owner:v.current}}u.Fragment=g,u.jsx=r,u.jsxs=r},"../../node_modules/react/jsx-runtime.js":function(h,u,t){h.exports=t("../../node_modules/react/cjs/react-jsx-runtime.production.min.js")},"./src/components/FileUpload/FileUpload.story.tsx":function(h,u,t){t.r(u),t.d(u,{Basic:function(){return y},default:function(){return K}});var o=t("../../node_modules/react/index.js"),c=t("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),g=t("../../node_modules/uuid/dist/esm-browser/v4.js"),p=t("../grafana-e2e-selectors/src/selectors/index.ts"),v=t("./src/themes/ThemeContext.tsx"),f=t("./src/themes/mixins.ts"),r=t("./src/utils/file.ts"),d=t("./src/components/Button/Button.tsx"),l=t("./src/components/Icon/Icon.tsx");const a=({onFileUpload:n,className:e,children:i="Upload file",accept:F="*",size:Y="md",showFileName:k})=>{const O=(0,v.of)(m(Y)),[T,G]=(0,o.useState)(""),I=(0,g.A)(),J=(0,o.useCallback)(D=>{var R,w,z;const A=(w=(R=D.currentTarget)==null?void 0:R.files)==null?void 0:w[0];A&&G((z=A.name)!=null?z:""),n(D)},[n]);return o.createElement(o.Fragment,null,o.createElement("input",{type:"file",id:I,className:O.fileUpload,onChange:J,multiple:!1,accept:F,"data-testid":p.Tp.components.FileUpload.inputField}),o.createElement("label",{htmlFor:I,className:(0,c.cx)(O.labelWrapper,e)},o.createElement(l.I,{name:"upload",className:O.icon}),i),k&&T&&o.createElement("span",{"aria-label":"File name",className:O.fileName,"data-testid":p.Tp.components.FileUpload.fileNameSpan},(0,r.i)(T)))},m=n=>e=>{const i=(0,d.hs)({theme:e,variant:"primary",size:n,iconOnly:!1}),F=(0,f.Hi)(e);return{fileUpload:(0,c.AH)({height:"0.1px",opacity:"0",overflow:"hidden",position:"absolute",width:"0.1px",zIndex:-1,"&:focus + label":F,"&:focus-visible + label":F}),labelWrapper:i.button,icon:i.icon,fileName:(0,c.AH)({marginLeft:e.spacing(.5)})}};try{a.displayName="FileUpload",a.__docgenInfo={description:"",displayName:"FileUpload",props:{onFileUpload:{defaultValue:null,description:"Callback function to handle uploaded file",name:"onFileUpload",required:!0,type:{name:"(event: FormEvent<HTMLInputElement>) => void"}},accept:{defaultValue:{value:"*"},description:"Accepted file extensions",name:"accept",required:!1,type:{name:"string"}},className:{defaultValue:null,description:"Overwrite or add to style",name:"className",required:!1,type:{name:"string"}},size:{defaultValue:{value:"md"},description:"Button size",name:"size",required:!1,type:{name:"enum",value:[{value:'"xs"'},{value:'"sm"'},{value:'"md"'},{value:'"lg"'}]}},showFileName:{defaultValue:null,description:"Show the file name",name:"showFileName",required:!1,type:{name:"boolean"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/FileUpload/FileUpload.tsx#FileUpload"]={docgenInfo:a.__docgenInfo,name:"FileUpload",path:"src/components/FileUpload/FileUpload.tsx#FileUpload"})}catch{}var s=t("../../node_modules/react/jsx-runtime.js"),x=t("../../node_modules/@mdx-js/react/lib/index.js"),j=t("../../node_modules/@storybook/blocks/dist/index.mjs");function b(n){const e=Object.assign({h1:"h1",p:"p",code:"code",h3:"h3",pre:"pre"},(0,x.RP)(),n.components);return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(e.h1,{id:"fileupload",children:"FileUpload"}),`
`,(0,s.jsxs)(e.p,{children:["A button-styled input that triggers file upload popup. Button text and accepted file extensions can be customized via ",(0,s.jsx)(e.code,{children:"label"})," and ",(0,s.jsx)(e.code,{children:"accepted"})," props respectively."]}),`
`,(0,s.jsx)(e.h3,{id:"usage",children:"Usage"}),`
`,(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-jsx",children:`import { FileUpload } from '@grafana/ui';

<FileUpload
  onFileUpload={({ currentTarget }) => console.log('file', currentTarget?.files && currentTarget.files[0])}
/>;
`})}),`
`,(0,s.jsx)(e.h3,{id:"props",children:"Props"}),`
`,(0,s.jsx)(j.ov,{of:a})]})}function B(n={}){const{wrapper:e}=Object.assign({},(0,x.RP)(),n.components);return e?(0,s.jsx)(e,Object.assign({},n,{children:(0,s.jsx)(b,n)})):b(n)}var L=B,M=Object.defineProperty,X=Object.defineProperties,V=Object.getOwnPropertyDescriptors,_=Object.getOwnPropertySymbols,H=Object.prototype.hasOwnProperty,W=Object.prototype.propertyIsEnumerable,C=(n,e,i)=>e in n?M(n,e,{enumerable:!0,configurable:!0,writable:!0,value:i}):n[e]=i,U=(n,e)=>{for(var i in e||(e={}))H.call(e,i)&&C(n,i,e[i]);if(_)for(var i of _(e))W.call(e,i)&&C(n,i,e[i]);return n},E=(n,e)=>X(n,V(e)),P,S,N;const $={title:"Forms/FileUpload",component:a,parameters:{docs:{page:L},controls:{exclude:["className","onFileUpload"]}},argTypes:{size:{control:{type:"select"},options:["xs","sm","md","lg"]}}},y=n=>o.createElement(a,{size:n.size,onFileUpload:({currentTarget:e})=>console.log("file",e?.files&&e.files[0])});y.args={size:"md"};var K=$;y.parameters=E(U({},y.parameters),{docs:E(U({},(P=y.parameters)==null?void 0:P.docs),{source:U({originalSource:`args => {
  return <FileUpload size={args.size} onFileUpload={({
    currentTarget
  }) => console.log('file', currentTarget?.files && currentTarget.files[0])} />;
}`},(N=(S=y.parameters)==null?void 0:S.docs)==null?void 0:N.source)})})},"./src/utils/file.ts":function(h,u,t){t.d(u,{i:function(){return o}});function o(c){const p=c.lastIndexOf("."),v=c.substring(p),f=c.substring(0,p);return f.length<16?c:`${f.substring(0,16)}...${v}`}}}]);
