"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[9892],{"../grafana-data/src/datetime/datemath.ts":function(W,V,l){l.d(V,{A_:function(){return v},fn:function(){return h},qg:function(){return N}});var g=l("../../node_modules/lodash/lodash.js"),B=l.n(g),C=l("../grafana-data/src/datetime/moment_wrapper.ts");const o=["y","M","w","d","h","m","s","Q"];function v(c){return c?!!(typeof c=="string"&&(c.substring(0,3)==="now"||c.includes("||"))):!1}function N(c,f,d,_){if(c){if(typeof c!="string")return(0,C.Ar)(c)?c:(0,g.isDate)(c)?(0,C.KQ)(c):void 0;{let y,O="",u,t;return c.substring(0,3)==="now"?(y=(0,C.oZ)(d),O=c.substring(3)):(u=c.indexOf("||"),u===-1?(t=c,O=""):(t=c.substring(0,u),O=c.substring(u+2)),y=(0,C.KQ)(t,C.mt)),O.length?r(O,y,f,_):y}}}function h(c){const f=N(c);return f&&(0,C.Ar)(f)?f.isValid():!1}function r(c,f,d,_=0){const y=c.replace(/\s/g,""),O=(0,C.KQ)(f);let u=0;const t=y.length;for(;u<t;){const i=y.charAt(u++);let p,M,A,D=!1;if(i==="/")p=0;else if(i==="+")p=1;else if(i==="-")p=2;else return;if(isNaN(parseInt(y.charAt(u),10)))M=1;else if(y.length===2)M=parseInt(y.charAt(u),10);else{const S=u;for(;!isNaN(parseInt(y.charAt(u),10));)if(u++,u>10)return;M=parseInt(y.substring(S,u),10)}if(p===0&&M!==1)return;A=y.charAt(u++),A==="f"&&(A=y.charAt(u++),D=!0);const I=A;if((0,g.includes)(o,I))p===0?D?x(_,O,I,d):d?O.endOf(I):O.startOf(I):p===1?O.add(M,I):p===2&&O.subtract(M,I);else return}return O}function x(c,f,d,_){switch(d){case"y":return _?x(c,f,d,!1).add(11,"M").endOf("M"):f.subtract((f.month()-c+12)%12,"M").startOf("M"),f;case"Q":return _?x(c,f,d,!1).add(2,"M").endOf("M"):f.subtract((f.month()-c+12)%3,"M").startOf("M"),f;default:return}}},"../grafana-data/src/datetime/parser.ts":function(W,V,l){l.d(V,{b:function(){return x}});var g=l("../../node_modules/lodash/lodash.js"),B=l.n(g),C=l("../../node_modules/moment-timezone/index.js"),o=l.n(C),v=l("../grafana-data/src/datetime/common.ts"),N=l("../grafana-data/src/datetime/datemath.ts"),h=l("../grafana-data/src/datetime/formats.ts"),r=l("../grafana-data/src/datetime/moment_wrapper.ts");const x=(d,_)=>(0,r.Ar)(d)?d:typeof d=="string"?c(d,_):f(d,_),c=(d,_)=>{var y;if(d.indexOf("now")!==-1)return(0,N.fn)(d)&&(0,N.qg)(d,_?.roundUp,_?.timeZone,_?.fiscalYearStartMonth)||o()();const O=(0,v.O)(_),u=o().tz.zone(O),t=(y=_?.format)!=null?y:h.WC.fullDate;if(u&&u.name)return o().tz(d,t,u.name);switch((0,g.lowerCase)(O)){case"utc":return o().utc(d,t);default:return o()(d,t)}},f=(d,_)=>{const y=d,O=(0,v.O)(_),u=o().tz.zone(O);if(u&&u.name)return o().tz(y,u.name);switch((0,g.lowerCase)(O)){case"utc":return o().utc(y);default:return o()(y)}}},"../grafana-data/src/field/displayProcessor.ts":function(W,V,l){l.d(V,{J:function(){return U}});var g=l("../../node_modules/lodash/lodash.js"),B=l("../grafana-data/src/datetime/parser.ts"),C=l("../grafana-data/src/datetime/moment_wrapper.ts"),o=l("../grafana-data/src/types/dataFrame.ts");function v(e){return typeof e=="number"?e:e===""||e===null||e===void 0||Array.isArray(e)?NaN:typeof e=="boolean"?e?1:0:(0,g.toNumber)(e)}var N=l("../grafana-data/src/text/string.ts"),h=(e=>(e.ValueToText="value",e.RangeToText="range",e.RegexToText="regex",e.SpecialValue="special",e))(h||{}),r=(e=>(e.True="true",e.False="false",e.Null="null",e.NaN="nan",e.NullAndNaN="null+nan",e.Empty="empty",e))(r||{}),x=Object.defineProperty,c=Object.defineProperties,f=Object.getOwnPropertyDescriptors,d=Object.getOwnPropertySymbols,_=Object.prototype.hasOwnProperty,y=Object.prototype.propertyIsEnumerable,O=(e,m,n)=>m in e?x(e,m,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[m]=n,u=(e,m)=>{for(var n in m||(m={}))_.call(m,n)&&O(e,n,m[n]);if(d)for(var n of d(m))y.call(m,n)&&O(e,n,m[n]);return e},t=(e,m)=>c(e,f(m));function i(e,m){for(const n of e)switch(n.type){case h.ValueToText:if(m==null)continue;const P=n.options[m];if(P)return P;break;case h.RangeToText:if(m==null)continue;const R=parseFloat(m);if(isNaN(R)||!isNaN(n.options.from)&&R<n.options.from||!isNaN(n.options.to)&&R>n.options.to)continue;return n.options.result;case h.RegexToText:if(m==null||typeof m!="string")continue;const j=(0,N.dO)(n.options.pattern);if(m.match(j)){const z=u({},n.options.result);return z.text!=null&&(z.text=m.replace(j,n.options.result.text||"")),z}case h.SpecialValue:switch(n.options.match){case r.Null:{if(m==null)return n.options.result;break}case r.NaN:{if(typeof m=="number"&&isNaN(m))return n.options.result;break}case r.NullAndNaN:{if(typeof m=="number"&&isNaN(m)||m==null)return n.options.result;break}case r.True:{if(m===!0||m==="true")return n.options.result;break}case r.False:{if(m===!1||m==="false")return n.options.result;break}case r.Empty:{if(m==="")return n.options.result;break}}}return null}function p(e){return(typeof e=="number"||typeof e=="string"&&e.trim()!=="")&&!isNaN(e)}var M=(e=>(e[e.ValueToText=1]="ValueToText",e[e.RangeToText=2]="RangeToText",e))(M||{});function A(e,m){var n,P,R,T;const F=[];let j=e.mappingType;if(e.mappingType||(e.valueMaps&&e.valueMaps.length?j=1:e.rangeMaps&&e.rangeMaps.length&&(j=2)),j===1)for(let z=0;z<e.valueMaps.length;z++){const $=e.valueMaps[z];F.push(D(t(u({},$),{id:z,type:MappingType.ValueToText}),((P=(n=e.fieldConfig)==null?void 0:n.defaults)==null?void 0:P.thresholds)||m))}else if(j===2)for(let z=0;z<e.rangeMaps.length;z++){const $=e.rangeMaps[z];F.push(D(t(u({},$),{id:z,type:MappingType.RangeToText}),((T=(R=e.fieldConfig)==null?void 0:R.defaults)==null?void 0:T.thresholds)||m))}return F}function D(e,m){const n={type:MappingType.ValueToText,options:{}},P=[];let R;const T=parseFloat(e.text);if(m&&!isNaN(T)){const F=getActiveThreshold(T,m.steps);F&&F.color&&(R=F.color)}switch(e.type){case 1:case MappingType.ValueToText:e.value!=null&&(e.value==="null"?P.push({type:MappingType.SpecialValue,options:{match:SpecialValueMatch.Null,result:{text:e.text,color:R}}}):n.options[String(e.value)]={text:e.text,color:R});break;case 2:case MappingType.RangeToText:e.from==="null"||e.to==="null"?P.push({type:MappingType.SpecialValue,options:{match:SpecialValueMatch.Null,result:{text:e.text,color:R}}}):P.push({type:MappingType.RangeToText,options:{from:+e.from,to:+e.to,result:{text:e.text,color:R}}});break}return Object.keys(n.options).length>0&&P.unshift(n),P[0]}var I=l("../grafana-data/src/valueFormats/valueFormats.ts"),S=l("../grafana-data/src/field/scale.ts");const a={dateTimeAsIso:!0,dateTimeAsIsoNoDateIfToday:!0,dateTimeAsUS:!0,dateTimeAsUSNoDateIfToday:!0,dateTimeAsLocal:!0,dateTimeAsLocalNoDateIfToday:!0,dateTimeFromNow:!0};function U(e){var m;if(!e||(0,g.isEmpty)(e)||!e.field)return E;const n=e.field,P=(m=n.config)!=null?m:{},{palette:R}=e.theme.visualization;let T=P.unit,F=T&&(a[T]||T.startsWith("time:")),j=!1;if(n.type===o.PU.time&&!F){if(T="dateTimeAsSystem",F=!0,n.values&&n.values.length>1){let L=n.values[0],Z=n.values[n.values.length-1];typeof L=="string"?(L=(0,B.b)(L).unix(),Z=(0,B.b)(Z).unix()):(L/=1e3,Z/=1e3),j=Math.abs(Z-L)<60}}else n.type===o.PU.boolean?(0,I.j9)(T)||(T="bool"):!T&&n.type===o.PU.string&&(T="string");const z=T?.startsWith("currency"),$=(0,I.j9)(T),se=n.type===o.PU.number,ae=!F&&!z&&!$&&!(T==="locale")&&se&&P.decimals==null,k=(0,I.j_)(T||"none"),q=(0,S.jc)(n,e.theme);return(L,Z)=>{const{mappings:X}=P,ie=T==="string";F&&typeof L=="string"&&(L=(0,C.yT)(L).valueOf());let Q=ie?NaN:v(L),K,ee,te,Y,H,G;if(X&&X.length>0){const w=i(X,L);w&&(w.text!=null&&(K=w.text),w.color!=null&&(Y=e.theme.visualization.getColorByName(w.color)),w.icon!=null&&(H=w.icon))}else if(n.type===o.PU.enum){if(L==null)return{text:"",numeric:NaN};const w=+L;if(P&&P.type&&P.type.enum){const{text:ne,color:re}=P.type.enum;if(K=ne?ne[w]:`${L}`,Y=re?re[w]:void 0,Y==null){const oe=R[w%R.length];Y=e.theme.visualization.getColorByName(oe)}}}if(!Number.isNaN(Q)){if(K==null&&!(0,g.isBoolean)(L)){let w;ae&&Z!=null?(w=k(Q,Z,null,e.timeZone,j),w.text=+w.text+""):w=k(Q,P.decimals,null,e.timeZone,j),K=w.text,te=w.suffix,ee=w.prefix}if(Y==null){const w=q(Q);Y=w.color,G=w.percent}}if(K==null&&(0,g.isArray)(L)&&(K=(0,g.join)(L,", ")),K==null&&(K=(0,g.toString)(L),K||(P.noValue?K=P.noValue:K="")),!Y){const w=q(-1/0);Y=w.color,G=w.percent}const J={text:K,numeric:Q,prefix:ee,suffix:te,color:Y};return H!=null&&(J.icon=H),G!=null&&(J.percent=G),J}}function E(e){return{text:(0,g.toString)(e),numeric:v(e)}}function s(){return e=>({text:getFieldTypeFromValue(e)==="other"?`${JSON.stringify(e,b())}`:`${e}`,numeric:null})}const b=()=>{const e=new WeakSet;return(m,n)=>{if(typeof n=="object"&&n!==null){if(e.has(n))return;e.add(n)}return n}}},"../grafana-data/src/field/fieldColor.ts":function(W,V,l){l.d(V,{Hs:function(){return d},Qi:function(){return f},uf:function(){return x}});var g=l("../../node_modules/d3-interpolate/src/rgb.js"),B=l("../../node_modules/string-hash/index.js"),C=l.n(B),o=l("../../node_modules/tinycolor2/esm/tinycolor.js"),v=l("../grafana-data/src/themes/colorManipulator.ts"),N=l("../grafana-data/src/types/fieldColor.ts"),h=l("../grafana-data/src/utils/Registry.ts"),r=l("../grafana-data/src/field/thresholds.ts");const x=new h.O(()=>[{id:N.Y.Fixed,name:"Single color",description:"Set a specific color",getCalculator:y},{id:N.Y.Shades,name:"Shades of a color",description:"Select shades of a specific color",getCalculator:O},{id:N.Y.Thresholds,name:"From thresholds",isByValue:!0,description:"Derive colors from thresholds",getCalculator:(u,t)=>(i,p,M)=>{const A=M??r.QS;return t.visualization.getColorByName(A.color)}},new c({id:N.Y.PaletteClassic,name:"Classic palette",isContinuous:!1,isByValue:!1,getColors:u=>u.visualization.palette}),new c({id:N.Y.PaletteClassicByName,name:"Classic palette (by series name)",isContinuous:!1,isByValue:!1,useSeriesName:!0,getColors:u=>u.visualization.palette.filter(t=>v.eM(u.visualization.getColorByName(t),u.colors.background.primary)>=u.colors.contrastThreshold)}),new c({id:N.Y.ContinuousGrYlRd,name:"Green-Yellow-Red",isContinuous:!0,isByValue:!0,getColors:u=>["green","yellow","red"]}),new c({id:N.Y.ContinuousRdYlGr,name:"Red-Yellow-Green",isContinuous:!0,isByValue:!0,getColors:u=>["red","yellow","green"]}),new c({id:N.Y.ContinuousBlYlRd,name:"Blue-Yellow-Red",isContinuous:!0,isByValue:!0,getColors:u=>["dark-blue","super-light-yellow","dark-red"]}),new c({id:N.Y.ContinuousYlRd,name:"Yellow-Red",isContinuous:!0,isByValue:!0,getColors:u=>["super-light-yellow","dark-red"]}),new c({id:N.Y.ContinuousBlPu,name:"Blue-Purple",isContinuous:!0,isByValue:!0,getColors:u=>["blue","purple"]}),new c({id:N.Y.ContinuousYlBl,name:"Yellow-Blue",isContinuous:!0,isByValue:!0,getColors:u=>["super-light-yellow","dark-blue"]}),new c({id:N.Y.ContinuousBlues,name:"Blues",isContinuous:!0,isByValue:!0,getColors:u=>["panel-bg","dark-blue"]}),new c({id:N.Y.ContinuousReds,name:"Reds",isContinuous:!0,isByValue:!0,getColors:u=>["panel-bg","dark-red"]}),new c({id:N.Y.ContinuousGreens,name:"Greens",isContinuous:!0,isByValue:!0,getColors:u=>["panel-bg","dark-green"]}),new c({id:N.Y.ContinuousPurples,name:"Purples",isContinuous:!0,isByValue:!0,getColors:u=>["panel-bg","dark-purple"]})]);class c{constructor(t){this.id=t.id,this.name=t.name,this.description=t.description,this.getNamedColors=t.getColors,this.isContinuous=t.isContinuous,this.isByValue=t.isByValue,this.useSeriesName=t.useSeriesName}getColors(t){return this.getNamedColors?this.colorCache&&this.colorCacheTheme===t?this.colorCache:(this.colorCache=this.getNamedColors(t).map(t.visualization.getColorByName),this.colorCacheTheme=t,this.colorCache):[]}getInterpolator(){return this.interpolator||(this.interpolator=(0,g.Ik)(this.colorCache)),this.interpolator}getCalculator(t,i){const p=this.getColors(i);return this.isByValue?this.isContinuous?(M,A,D)=>this.getInterpolator()(A):(M,A,D)=>p[A*(p.length-1)]:this.useSeriesName?(M,A,D)=>p[Math.abs(C()(t.name))%p.length]:(M,A,D)=>{var I,S;const a=(S=(I=t.state)==null?void 0:I.seriesIndex)!=null?S:0;return p[a%p.length]}}}function f(u){var t,i;return x.get((i=(t=u.config.color)==null?void 0:t.mode)!=null?i:N.Y.Thresholds)}function d(u){return x.get(u??N.Y.Thresholds)}function _(u,t){var i,p,M;const A=f(u);if(!A.isByValue)return{color:A.getCalculator(u,t)(0,0),threshold:fallBackThreshold,percent:1};const D=getScaleCalculator(u,t),I=(p=(i=u.config.color)==null?void 0:i.seriesBy)!=null?p:"last",a=(M=reduceField({field:u,reducers:[I]})[I])!=null?M:0;return D(a)}function y(u,t){return()=>{var i,p;return t.visualization.getColorByName((p=(i=u.config.color)==null?void 0:i.fixedColor)!=null?p:N.F)}}function O(u,t){return()=>{var i,p,M,A;const D=t.visualization.getColorByName((p=(i=u.config.color)==null?void 0:i.fixedColor)!=null?p:N.F),I=[D],S=6,a=10,U=35,E=35;for(let b=1;b<S;b++)I.push((0,o.A)(D).spin(b/S*a).brighten(b/S*U).toHexString()),I.push((0,o.A)(D).spin(-(b/S)*a).darken(b/S*E).toHexString());const s=(A=(M=u.state)==null?void 0:M.seriesIndex)!=null?A:0;return I[s%I.length]}}},"../grafana-data/src/field/scale.ts":function(W,V,l){l.d(V,{AP:function(){return O},jc:function(){return _},xg:function(){return u}});var g=l("../../node_modules/lodash/lodash.js"),B=l.n(g),C=l("../grafana-data/src/transformations/fieldReducer.ts"),o=l("../grafana-data/src/types/dataFrame.ts"),v=l("../grafana-data/src/field/fieldColor.ts"),N=l("../grafana-data/src/field/thresholds.ts"),h=Object.defineProperty,r=Object.getOwnPropertySymbols,x=Object.prototype.hasOwnProperty,c=Object.prototype.propertyIsEnumerable,f=(t,i,p)=>i in t?h(t,i,{enumerable:!0,configurable:!0,writable:!0,value:p}):t[i]=p,d=(t,i)=>{for(var p in i||(i={}))x.call(i,p)&&f(t,p,i[p]);if(r)for(var p of r(i))c.call(i,p)&&f(t,p,i[p]);return t};function _(t,i){var p,M;if(t.type===o.PU.boolean)return y(t,i);const D=(0,v.Qi)(t).getCalculator(t,i),I=(M=(p=t.state)==null?void 0:p.range)!=null?M:O(t);return S=>{let a=0;S!==-1/0&&(a=(S-I.min)/I.delta,Number.isNaN(a)&&(a=0));const U=(0,N.k5)(t,S,a);return{percent:a,threshold:U,color:D(S,a,U)}}}function y(t,i){const p={color:i.visualization.getColorByName("green"),percent:1,threshold:void 0},M={color:i.visualization.getColorByName("red"),percent:0,threshold:void 0},A=(0,v.Qi)(t);if(A.isContinuous&&A.getColors){const D=A.getColors(i);p.color=D[D.length-1],M.color=D[0]}return D=>D?p:M}function O(t){if(t.type!==o.PU.number)return{min:0,max:100,delta:100};let i=t.config.min,p=t.config.max;if(!(0,g.isNumber)(i)||!(0,g.isNumber)(p))if(t.values&&t.values.length){const M=(0,C.Nw)({field:t,reducers:[C.gy.min,C.gy.max]});(0,g.isNumber)(i)||(i=M[C.gy.min]),(0,g.isNumber)(p)||(p=M[C.gy.max])}else i=0,p=100;return{min:i,max:p,delta:p-i}}function u(t,i){var p;const{config:M}=t;let{min:A,max:D}=M;return(0,g.isNumber)(A)&&(0,g.isNumber)(D)?M:i||!((p=t.state)!=null&&p.range)?d(d({},M),O(t)):d(d({},M),t.state.range)}},"../grafana-data/src/field/thresholds.ts":function(W,V,l){l.d(V,{QS:function(){return C},k5:function(){return v}});var g=l("../grafana-data/src/types/fieldColor.ts"),B=l("../grafana-data/src/types/thresholds.ts");const C={value:0,color:g.F};function o(h,r){if(!r||r.length===0)return C;let x=r[0];for(const c of r)if(h>=c.value)x=c;else break;return x}function v(h,r,x){const{thresholds:c}=h.config;return c?.mode===B.O.Percentage?o(x*100,c?.steps):o(r,c?.steps)}function N(h){return h.sort((r,x)=>r.value-x.value)}},"../grafana-data/src/text/string.ts":function(W,V,l){l.d(V,{dO:function(){return c},jD:function(){return h},xb:function(){return r}});var g=l("../../node_modules/lodash/lodash.js"),B=l.n(g);const o="([\\"+["(","[","{","}","]",")","\\","|","*","+","-",".","?","<",">","#","&","^","$"].join("\\")+"])",v=new RegExp(o,"g"),N=new RegExp("(\\\\)"+o,"g");function h(t){return t&&t.replace(v,"\\$1")}function r(t){return t&&t.replace(N,"$2")}function x(t){return t?t[0]==="/":!1}function c(t){if(!x(t))return new RegExp(`^${t}$`);const i=t.match(new RegExp("^/(.*?)/(g?i?m?y?s?)$"));if(!i)throw new Error(`'${t}' is not a valid regular expression.`);return new RegExp(i[1],i[2])}function f(t){if(!t)return 0;const i=parseInt(t,10),p=t.slice(String(i).length),M=1e3,A=M*60,D=A*60,I=D*24;switch(p){case"s":return i*M;case"m":return i*A;case"h":return i*D;case"d":return i*I;default:if(!p)return isNaN(i)?0:i;throw new Error("Not supported unit: "+p)}}function d(t){return t!=null&&Number.isFinite(t)?t.toString():""}function _(t){if(!t)return;const i=parseInt(t,10);return isNaN(i)?void 0:i}function y(t){if(!t)return;const i=parseFloat(t);return isNaN(i)?void 0:i}function O(t){const i=camelCase(t);return i.charAt(0).toUpperCase()+i.substring(1)}function u(t){return t.replace(/[\\^$*+?.()|[\]{}\/]/g,"\\$&")}},"../grafana-data/src/transformations/fieldReducer.ts":function(W,V,l){l.d(V,{AS:function(){return O},Nw:function(){return y},gy:function(){return d}});var g=l("../../node_modules/lodash/lodash.js"),B=l.n(g),C=l("../grafana-data/src/types/data.ts"),o=l("../grafana-data/src/types/dataFrame.ts"),v=l("../grafana-data/src/utils/Registry.ts"),N=Object.defineProperty,h=Object.getOwnPropertySymbols,r=Object.prototype.hasOwnProperty,x=Object.prototype.propertyIsEnumerable,c=(a,U,E)=>U in a?N(a,U,{enumerable:!0,configurable:!0,writable:!0,value:E}):a[U]=E,f=(a,U)=>{for(var E in U||(U={}))r.call(U,E)&&c(a,E,U[E]);if(h)for(var E of h(U))x.call(U,E)&&c(a,E,U[E]);return a},d=(a=>(a.sum="sum",a.max="max",a.min="min",a.logmin="logmin",a.mean="mean",a.variance="variance",a.stdDev="stdDev",a.last="last",a.first="first",a.count="count",a.range="range",a.diff="diff",a.diffperc="diffperc",a.delta="delta",a.step="step",a.firstNotNull="firstNotNull",a.lastNotNull="lastNotNull",a.changeCount="changeCount",a.distinctCount="distinctCount",a.allIsZero="allIsZero",a.allIsNull="allIsNull",a.allValues="allValues",a.uniqueValues="uniqueValues",a))(d||{});function _(a){return Object.keys(d).includes(a)}function y(a){var U;const{field:E,reducers:s}=a;if(!E||!s||s.length<1)return{};if((U=E.state)!=null&&U.calcs){const T=[];for(const F of s)E.state.calcs.hasOwnProperty(F)||T.push(F);if(T.length<1)return f({},E.state.calcs)}E.state||(E.state={});const b=O.list(s),e=E.values;if(e&&e.length<1){const T=f({},E.state.calcs);for(const F of b)T[F.id]=F.emptyInputResult!==null?F.emptyInputResult:null;return E.state.calcs=T}const{nullValueMode:m=C.UW.Ignore}=E.config,n=m===C.UW.Ignore,P=m===C.UW.AsZero;if(b.length===1&&b[0].reduce){const T=b[0].reduce(E,n,P);return E.state.calcs=f(f({},E.state.calcs),T),T}let R=t(E,n,P);for(const T of b)!R.hasOwnProperty(T.id)&&T.reduce&&(R=f(f({},R),T.reduce(E,n,P)));return E.state.calcs=f(f({},E.state.calcs),R),R}const O=new v.O(()=>[{id:"lastNotNull",name:"Last *",description:"Last non-null value (also excludes NaNs)",standard:!0,aliasIds:["current"],reduce:A,preservesUnits:!0},{id:"last",name:"Last",description:"Last value",standard:!0,reduce:M,preservesUnits:!0},{id:"firstNotNull",name:"First *",description:"First non-null value (also excludes NaNs)",standard:!0,reduce:p,preservesUnits:!0},{id:"first",name:"First",description:"First Value",standard:!0,reduce:i,preservesUnits:!0},{id:"min",name:"Min",description:"Minimum Value",standard:!0,preservesUnits:!0},{id:"max",name:"Max",description:"Maximum Value",standard:!0,preservesUnits:!0},{id:"mean",name:"Mean",description:"Average Value",standard:!0,aliasIds:["avg"],preservesUnits:!0},{id:"variance",name:"Variance",description:"Variance of all values in a field",standard:!1,reduce:D,preservesUnits:!0},{id:"stdDev",name:"StdDev",description:"Standard deviation of all values in a field",standard:!1,reduce:D,preservesUnits:!0},{id:"sum",name:"Total",description:"The sum of all values",emptyInputResult:0,standard:!0,aliasIds:["total"],preservesUnits:!0},{id:"count",name:"Count",description:"Number of values in response",emptyInputResult:0,standard:!0,preservesUnits:!1},{id:"range",name:"Range",description:"Difference between minimum and maximum values",standard:!0,preservesUnits:!0},{id:"delta",name:"Delta",description:"Cumulative change in value",standard:!0,preservesUnits:!0},{id:"step",name:"Step",description:"Minimum interval between values",standard:!0,preservesUnits:!0},{id:"diff",name:"Difference",description:"Difference between first and last values",standard:!0,preservesUnits:!0},{id:"logmin",name:"Min (above zero)",description:"Used for log min scale",standard:!0,preservesUnits:!0},{id:"allIsZero",name:"All Zeros",description:"All values are zero",emptyInputResult:!1,standard:!0,preservesUnits:!0},{id:"allIsNull",name:"All Nulls",description:"All values are null",emptyInputResult:!0,standard:!0,preservesUnits:!1},{id:"changeCount",name:"Change Count",description:"Number of times the value changes",standard:!1,reduce:I,preservesUnits:!1},{id:"distinctCount",name:"Distinct Count",description:"Number of distinct values",standard:!1,reduce:S,preservesUnits:!1},{id:"diffperc",name:"Difference percent",description:"Percentage difference between first and last values",standard:!0,preservesUnits:!1},{id:"allValues",name:"All values",description:"Returns an array with all values",standard:!1,reduce:a=>({allValues:[...a.values]}),preservesUnits:!1},{id:"uniqueValues",name:"All unique values",description:"Returns an array with all unique values",standard:!1,reduce:a=>({uniqueValues:[...new Set(a.values)]}),preservesUnits:!1}]),u={sum:0,max:-Number.MAX_VALUE,min:Number.MAX_VALUE,logmin:Number.MAX_VALUE,mean:null,last:null,first:null,lastNotNull:null,firstNotNull:null,count:0,nonNullCount:0,allIsNull:!0,allIsZero:!0,range:null,diff:null,delta:0,step:Number.MAX_VALUE,diffperc:0,previousDeltaUp:!0};function t(a,U,E){const s=f({},u),b=a.values;if(!b)return s;const e=a.type===o.PU.number||a.type===o.PU.time;for(let m=0;m<b.length;m++){let n=b[m];if(m===0&&(s.first=n),s.last=n,n==null){if(U)continue;E&&(n=0)}if(s.count++,n!=null&&!Number.isNaN(n)){const P=s.firstNotNull===null;if(P&&(s.firstNotNull=n),e){if(s.sum+=n,s.allIsNull=!1,s.nonNullCount++,!P){const R=n-s.lastNotNull;s.step>R&&(s.step=R),s.lastNotNull>n?(s.previousDeltaUp=!1,m===b.length-1&&(s.delta+=n)):(s.previousDeltaUp?s.delta+=R:s.delta+=n,s.previousDeltaUp=!0)}n>s.max&&(s.max=n),n<s.min&&(s.min=n),n<s.logmin&&n>0&&(s.logmin=n)}n!==0&&(s.allIsZero=!1),s.lastNotNull=n}}return s.max===-Number.MAX_VALUE&&(s.max=null),s.min===Number.MAX_VALUE&&(s.min=null),s.step===Number.MAX_VALUE&&(s.step=null),s.nonNullCount>0&&(s.mean=s.sum/s.nonNullCount),s.allIsNull&&(s.allIsZero=!1),s.max!==null&&s.min!==null&&(s.range=s.max-s.min),(0,g.isNumber)(s.firstNotNull)&&(0,g.isNumber)(s.lastNotNull)&&(s.diff=s.lastNotNull-s.firstNotNull),(0,g.isNumber)(s.firstNotNull)&&(0,g.isNumber)(s.diff)&&(s.diffperc=s.diff/s.firstNotNull),s}function i(a,U,E){return{first:a.values[0]}}function p(a,U,E){const s=a.values;for(let b=0;b<s.length;b++){const e=s[b];if(e!=null&&!Number.isNaN(e))return{firstNotNull:e}}return{firstNotNull:null}}function M(a,U,E){const s=a.values;return{last:s[s.length-1]}}function A(a,U,E){const s=a.values;let b=s.length-1;for(;b>=0;){const e=s[b--];if(e!=null&&!Number.isNaN(e))return{lastNotNull:e}}return{lastNotNull:null}}function D(a,U,E){if(!(a.type===o.PU.number||a.type===o.PU.time))return{variance:0,stdDev:0};let s=0,b=0,e=0;const m=a.values;for(let n=0;n<m.length;n++){const P=m[n];if(P!=null){e++;let R=b;b+=(P-R)/e,s+=(P-R)*(P-b)}}if(e>0){const n=s/e;return{variance:n,stdDev:Math.sqrt(n)}}return{variance:0,stdDev:0}}function I(a,U,E){const s=a.values;let b=0,e=!0,m=null;for(let n=0;n<s.length;n++){let P=s[n];if(P===null){if(U)continue;E&&(P=0)}!e&&m!==P&&b++,e=!1,m=P}return{changeCount:b}}function S(a,U,E){const s=a.values,b=new Set;for(let e=0;e<s.length;e++){let m=s[e];if(m===null){if(U)continue;E&&(m=0)}b.add(m)}return{distinctCount:b.size}}},"../grafana-data/src/types/data.ts":function(W,V,l){l.d(V,{Gu:function(){return g},UW:function(){return C},zz:function(){return o}});var g=(h=>(h.NotStarted="NotStarted",h.Loading="Loading",h.Streaming="Streaming",h.Done="Done",h.Error="Error",h))(g||{});const B=null;var C=(h=>(h.Null="null",h.Ignore="connected",h.AsZero="null as zero",h))(C||{});const o=h=>!!h;function v(h){return h}function N(h){return typeof h=="object"&&h!==null?!0:!1}},"../grafana-data/src/types/dataFrame.ts":function(W,V,l){l.d(V,{Bc:function(){return B},LE:function(){return C},PU:function(){return g}});var g=(v=>(v.time="time",v.number="number",v.string="string",v.boolean="boolean",v.trace="trace",v.geo="geo",v.enum="enum",v.other="other",v.frame="frame",v.nestedFrames="nestedFrames",v))(g||{});const B="Value",C="Time",o="Metric"},"../grafana-data/src/types/plugin.ts":function(W,V,l){l.d(V,{Ac:function(){return C},Ud:function(){return h},ib:function(){return N},pn:function(){return g}});var g=(r=>(r.alpha="alpha",r.beta="beta",r.stable="stable",r.deprecated="deprecated",r))(g||{}),B=(r=>(r.panel="panel",r.datasource="datasource",r.app="app",r.renderer="renderer",r.secretsmanager="secretsmanager",r))(B||{}),C=(r=>(r.internal="internal",r.valid="valid",r.invalid="invalid",r.modified="modified",r.missing="missing",r))(C||{}),o=(r=>(r.grafana="grafana",r.commercial="commercial",r.community="community",r.private="private",r.core="core",r))(o||{}),v=(r=>(r.missingSignature="signatureMissing",r.invalidSignature="signatureInvalid",r.modifiedSignature="signatureModified",r))(v||{}),N=(r=>(r.dashboard="dashboard",r.page="page",r.panel="panel",r.datasource="datasource",r))(N||{});class h{addConfigPage(x){return this.configPages||(this.configPages=[]),this.configPages.push(x),this}setChannelSupport(){return console.warn("[deprecation] plugin is using ignored option: setChannelSupport",this.meta),this}constructor(){this.meta={}}}},"../grafana-data/src/types/thresholds.ts":function(W,V,l){l.d(V,{O:function(){return g}});var g=(B=>(B.Absolute="absolute",B.Percentage="percentage",B))(g||{})},"../grafana-data/src/utils/Registry.ts":function(W,V,l){l.d(V,{O:function(){return B}});var g=l("../grafana-data/src/types/plugin.ts");class B{constructor(o){this.init=o,this.ordered=[],this.byId=new Map,this.initialized=!1,this.setInit=v=>{if(this.initialized)throw new Error("Registry already initialized");this.init=v},this.init=o}getIfExists(o){if(this.initialized||this.initialize(),o)return this.byId.get(o)}initialize(){if(this.init)for(const o of this.init())this.register(o);this.sort(),this.initialized=!0}get(o){const v=this.getIfExists(o);if(!v)throw new Error(`"${o}" not found in: ${this.list().map(N=>N.id)}`);return v}selectOptions(o,v){this.initialized||this.initialize();const N={options:[],current:[]},h={};if(o)for(const r of o)h[r]={};for(const r of this.ordered){if(r.excludeFromPicker||v&&!v(r))continue;const x={value:r.id,label:r.name,description:r.description};r.state===g.pn.alpha&&(x.label+=" (alpha)"),N.options.push(x),h[r.id]&&(h[r.id]=x)}return o&&(N.current=Object.values(h)),N}list(o){if(this.initialized||this.initialize(),o){const v=[];for(const N of o){const h=this.getIfExists(N);h&&v.push(h)}return v}return this.ordered}isEmpty(){return this.initialized||this.initialize(),this.ordered.length===0}register(o){if(this.byId.has(o.id))throw new Error("Duplicate Key:"+o.id);if(this.byId.set(o.id,o),this.ordered.push(o),o.aliasIds)for(const v of o.aliasIds)this.byId.has(v)||this.byId.set(v,o);this.initialized&&this.sort()}sort(){}}},"./src/components/FormattedValueDisplay/FormattedValueDisplay.tsx":function(W,V,l){l.d(V,{i:function(){return c}});var g=l("../../node_modules/react/index.js"),B=Object.defineProperty,C=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable,N=(f,d,_)=>d in f?B(f,d,{enumerable:!0,configurable:!0,writable:!0,value:_}):f[d]=_,h=(f,d)=>{for(var _ in d||(d={}))o.call(d,_)&&N(f,_,d[_]);if(C)for(var _ of C(d))v.call(d,_)&&N(f,_,d[_]);return f},r=(f,d)=>{var _={};for(var y in f)o.call(f,y)&&d.indexOf(y)<0&&(_[y]=f[y]);if(f!=null&&C)for(var y of C(f))d.indexOf(y)<0&&v.call(f,y)&&(_[y]=f[y]);return _};function x(f){return f<20?.9:f<26?.8:.6}const c=f=>{var d=f,{value:_,className:y,style:O}=d,u=r(d,["value","className","style"]),t,i;const p=((t=_.prefix)!=null?t:"").length>0,M=((i=_.suffix)!=null?i:"").length>0;let A;if(O&&O.fontSize&&typeof O.fontSize=="number"){const D=O.fontSize,I=x(D);A={fontSize:D*I}}return g.createElement("div",h({className:y,style:O},u),g.createElement("div",null,p&&g.createElement("span",null,_.prefix),g.createElement("span",null,_.text),M&&g.createElement("span",{style:A},_.suffix)))};c.displayName="FormattedDisplayValue";try{c.displayName="FormattedDisplayValue",c.__docgenInfo={description:"",displayName:"FormattedDisplayValue",props:{value:{defaultValue:null,description:"",name:"value",required:!0,type:{name:"FormattedValue"}},className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},style:{defaultValue:null,description:"",name:"style",required:!1,type:{name:"CSSProperties"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/FormattedValueDisplay/FormattedValueDisplay.tsx#FormattedDisplayValue"]={docgenInfo:FormattedDisplayValue.__docgenInfo,name:"FormattedDisplayValue",path:"src/components/FormattedValueDisplay/FormattedValueDisplay.tsx#FormattedDisplayValue"})}catch{}},"./src/utils/measureText.ts":function(W,V,l){l.d(V,{Vr:function(){return h},Yc:function(){return v},kD:function(){return N}});let g;const B=new Map,C=500;let o="";function v(){return g||(g=document.createElement("canvas").getContext("2d")),g}function N(r,x,c=400){const f=`${c} ${x}px 'Inter'`,d=r+f,_=B.get(d);if(_)return _;const y=v();o!==f&&(y.font=o=f);const O=y.measureText(r);return B.size===C&&B.clear(),B.set(d,O),O}function h(r,x,c,f,d,_){const y=N(r,14,_),O=x/(y.width+2)*14,u=c/f,t=Math.min(u,O);return Math.min(t,d??t)}}}]);
