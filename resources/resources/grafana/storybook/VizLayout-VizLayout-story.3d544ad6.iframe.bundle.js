"use strict";(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[8742],{"../../node_modules/react-use/esm/misc/util.js":function(K,T,s){s.d(T,{AU:function(){return N},Bd:function(){return I},lQ:function(){return e},on:function(){return r}});var e=function(){};function r(f){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];f&&f.addEventListener&&f.addEventListener.apply(f,u)}function N(f){for(var u=[],c=1;c<arguments.length;c++)u[c-1]=arguments[c];f&&f.removeEventListener&&f.removeEventListener.apply(f,u)}var I=typeof window<"u",L=typeof navigator<"u"},"../../node_modules/react-use/esm/useMeasure.js":function(K,T,s){s.d(T,{A:function(){return u}});var e=s("../../node_modules/react/index.js"),r=s("../../node_modules/react-use/esm/misc/util.js"),N=r.Bd?e.useLayoutEffect:e.useEffect,I=N,L={x:0,y:0,width:0,height:0,top:0,left:0,bottom:0,right:0};function f(){var c=(0,e.useState)(null),x=c[0],W=c[1],P=(0,e.useState)(L),j=P[0],B=P[1],O=(0,e.useMemo)(function(){return new window.ResizeObserver(function(C){if(C[0]){var m=C[0].contentRect,E=m.x,k=m.y,t=m.width,i=m.height,l=m.top,A=m.left,R=m.bottom,_=m.right;B({x:E,y:k,width:t,height:i,top:l,left:A,bottom:R,right:_})}})},[]);return I(function(){if(x)return O.observe(x),function(){O.disconnect()}},[x]),[W,j]}var u=r.Bd&&typeof window.ResizeObserver<"u"?f:function(){return[r.lQ,L]}},"./src/components/VizLayout/VizLayout.story.tsx":function(K,T,s){s.r(T),s.d(T,{BottomLegend:function(){return v},RightLegend:function(){return h},default:function(){return z}});var e=s("../../node_modules/react/index.js"),r=s("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),N=s("../../node_modules/react-use/esm/useMeasure.js"),I=s("./src/themes/ThemeContext.tsx"),L=s("./src/themes/mixins.ts"),f=s("./src/components/CustomScrollbar/CustomScrollbar.tsx");const u=({width:n,height:o,legend:a,children:w})=>{const H=(0,I.$j)(),p=(0,I.of)(c),b={display:"flex",width:`${n}px`,height:`${o}px`},[S,V]=(0,N.A)();if(!a)return e.createElement(e.Fragment,null,e.createElement("div",{style:b,className:p.viz},w(n,o)));let{placement:D,maxHeight:Y="35%",maxWidth:$="60%"}=a.props;document.body.clientWidth<H.breakpoints.values.lg&&(D="bottom");let y=null;const M={};switch(D){case"bottom":b.flexDirection="column",M.maxHeight=Y,V.height&&(y={width:n,height:o-V.height});break;case"right":b.flexDirection="row",M.maxWidth=$,V.width&&(y={width:n-V.width,height:o}),a.props.width&&(M.width=a.props.width,y={width:n-a.props.width,height:o});break}return y?.width===0&&(y.width=n),y?.height===0&&(y.height=o),e.createElement("div",{style:b},e.createElement("div",{className:p.viz},y&&w(y.width,y.height)),e.createElement("div",{style:M,ref:S},e.createElement(f.E,{hideHorizontalTrack:!0},a)))},c=n=>({viz:(0,r.AH)({flexGrow:2,borderRadius:n.shape.radius.default,"&:focus-visible":(0,L.Hi)(n)})}),x=({children:n})=>e.createElement(e.Fragment,null,n);u.Legend=x;try{u.displayName="VizLayout",u.__docgenInfo={description:"",displayName:"VizLayout",props:{width:{defaultValue:null,description:"",name:"width",required:!0,type:{name:"number"}},height:{defaultValue:null,description:"",name:"height",required:!0,type:{name:"number"}},legend:{defaultValue:null,description:"",name:"legend",required:!1,type:{name:"ReactElement<VizLayoutLegendProps, string | JSXElementConstructor<any>> | null"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/VizLayout/VizLayout.tsx#VizLayout"]={docgenInfo:u.__docgenInfo,name:"VizLayout",path:"src/components/VizLayout/VizLayout.tsx#VizLayout"})}catch{}try{c.displayName="getVizStyles",c.__docgenInfo={description:"",displayName:"getVizStyles",props:{name:{defaultValue:null,description:"",name:"name",required:!0,type:{name:"string"}},isDark:{defaultValue:null,description:"",name:"isDark",required:!0,type:{name:"boolean"}},isLight:{defaultValue:null,description:"",name:"isLight",required:!0,type:{name:"boolean"}},colors:{defaultValue:null,description:"",name:"colors",required:!0,type:{name:"ThemeColors"}},breakpoints:{defaultValue:null,description:"",name:"breakpoints",required:!0,type:{name:"ThemeBreakpoints"}},spacing:{defaultValue:null,description:"",name:"spacing",required:!0,type:{name:"ThemeSpacing"}},shape:{defaultValue:null,description:"",name:"shape",required:!0,type:{name:"ThemeShape"}},components:{defaultValue:null,description:"",name:"components",required:!0,type:{name:"ThemeComponents"}},typography:{defaultValue:null,description:"",name:"typography",required:!0,type:{name:"ThemeTypography"}},zIndex:{defaultValue:null,description:"",name:"zIndex",required:!0,type:{name:"{ activePanel: number; navbarFixed: number; sidemenu: number; dropdown: number; typeahead: number; tooltip: number; modalBackdrop: number; modal: number; portal: number; }"}},shadows:{defaultValue:null,description:"",name:"shadows",required:!0,type:{name:"ThemeShadows"}},visualization:{defaultValue:null,description:"",name:"visualization",required:!0,type:{name:"ThemeVisualizationColors"}},transitions:{defaultValue:null,description:"",name:"transitions",required:!0,type:{name:"ThemeTransitions"}},v1:{defaultValue:null,description:"@deprecated Will be removed in a future version",name:"v1",required:!0,type:{name:"GrafanaTheme"}},flags:{defaultValue:null,description:"feature flags that might impact component looks",name:"flags",required:!0,type:{name:"{}"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/VizLayout/VizLayout.tsx#getVizStyles"]={docgenInfo:c.__docgenInfo,name:"getVizStyles",path:"src/components/VizLayout/VizLayout.tsx#getVizStyles"})}catch{}try{x.displayName="VizLayoutLegend",x.__docgenInfo={description:"",displayName:"VizLayoutLegend",props:{placement:{defaultValue:null,description:"",name:"placement",required:!0,type:{name:"enum",value:[{value:'"bottom"'},{value:'"right"'}]}},maxHeight:{defaultValue:null,description:"",name:"maxHeight",required:!1,type:{name:"string"}},maxWidth:{defaultValue:null,description:"",name:"maxWidth",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"number"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/VizLayout/VizLayout.tsx#VizLayoutLegend"]={docgenInfo:x.__docgenInfo,name:"VizLayoutLegend",path:"src/components/VizLayout/VizLayout.tsx#VizLayoutLegend"})}catch{}var W=Object.defineProperty,P=Object.defineProperties,j=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,O=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable,m=(n,o,a)=>o in n?W(n,o,{enumerable:!0,configurable:!0,writable:!0,value:a}):n[o]=a,E=(n,o)=>{for(var a in o||(o={}))O.call(o,a)&&m(n,a,o[a]);if(B)for(var a of B(o))C.call(o,a)&&m(n,a,o[a]);return n},k=(n,o)=>P(n,j(o)),t,i,l,A,R,_;const q={title:"Visualizations/VizLayout",component:u,parameters:{docs:{},controls:{exclude:["legend"]}},argTypes:{width:{control:{type:"range",min:100,max:1e3}},height:{control:{type:"range",min:100,max:1e3}},legendWidth:{control:{type:"range",min:100,max:280}},legendItems:{control:{type:"number",min:1}}}},g=n=>Array.from({length:n},(a,w)=>w+1),v=({height:n,width:o,legendItems:a})=>{const[w,H]=(0,e.useState)(g(a));(0,e.useEffect)(()=>{H(g(a))},[a]);const p=e.createElement(u.Legend,{placement:"bottom",maxHeight:"30%"},w.map((b,S)=>e.createElement("div",{style:{height:"30px",width:"100%",background:"blue",marginBottom:"2px"},key:S},"Legend item ",S)));return e.createElement(u,{width:o,height:n,legend:p},(b,S)=>e.createElement("div",{style:{width:b,height:S,background:"red"}}))};v.args={height:600,width:500,legendItems:2};const h=({height:n,width:o,legendItems:a,legendWidth:w})=>{const[H,p]=(0,e.useState)(g(a));(0,e.useEffect)(()=>{p(g(a))},[a]);const b=e.createElement(u.Legend,{placement:"right",maxWidth:"50%"},H.map((S,V)=>e.createElement("div",{style:{height:"30px",width:`${w}px`,background:"blue",marginBottom:"2px"},key:V},"Legend item ",V)));return e.createElement(u,{width:o,height:n,legend:b},(S,V)=>e.createElement("div",{style:{width:S,height:V,background:"red"}}))};h.args={height:400,width:810,legendWidth:100,legendItems:2};var z=q;v.parameters=k(E({},v.parameters),{docs:k(E({},(t=v.parameters)==null?void 0:t.docs),{source:E({originalSource:`({
  height,
  width,
  legendItems
}) => {
  const [items, setItems] = useState(createArray(legendItems));
  useEffect(() => {
    setItems(createArray(legendItems));
  }, [legendItems]);
  const legend = <VizLayout.Legend placement="bottom" maxHeight="30%">
      {items.map((_, index) => <div style={{
      height: '30px',
      width: '100%',
      background: 'blue',
      marginBottom: '2px'
    }} key={index}>
          Legend item {index}
        </div>)}
    </VizLayout.Legend>;
  return <VizLayout width={width} height={height} legend={legend}>
      {(vizWidth: number, vizHeight: number) => {
      return <div style={{
        width: vizWidth,
        height: vizHeight,
        background: 'red'
      }} />;
    }}
    </VizLayout>;
}`},(l=(i=v.parameters)==null?void 0:i.docs)==null?void 0:l.source)})}),h.parameters=k(E({},h.parameters),{docs:k(E({},(A=h.parameters)==null?void 0:A.docs),{source:E({originalSource:`({
  height,
  width,
  legendItems,
  legendWidth
}) => {
  const [items, setItems] = useState(createArray(legendItems));
  useEffect(() => {
    setItems(createArray(legendItems));
  }, [legendItems]);
  const legend = <VizLayout.Legend placement="right" maxWidth="50%">
      {items.map((_, index) => <div style={{
      height: '30px',
      width: \`\${legendWidth}px\`,
      background: 'blue',
      marginBottom: '2px'
    }} key={index}>
          Legend item {index}
        </div>)}
    </VizLayout.Legend>;
  return <VizLayout width={width} height={height} legend={legend}>
      {(vizWidth: number, vizHeight: number) => {
      return <div style={{
        width: vizWidth,
        height: vizHeight,
        background: 'red'
      }} />;
    }}
    </VizLayout>;
}`},(_=(R=h.parameters)==null?void 0:R.docs)==null?void 0:_.source)})})},"./src/components/CustomScrollbar/CustomScrollbar.tsx":function(K,T,s){s.d(T,{E:function(){return m},A:function(){return E}});var e=s("../../node_modules/@emotion/css/dist/emotion-css.esm.js"),r=s("../../node_modules/react/index.js"),N=s("../../node_modules/react-custom-scrollbars-2/lib/index.js"),I=s("./src/themes/ThemeContext.tsx");const L=({children:t})=>{const[i,l]=(0,r.useState)(!1),[A,R]=(0,r.useState)(!1),_=(0,r.useRef)(null),q=(0,r.useRef)(null),g=(0,I.of)(f);return(0,r.useEffect)(()=>{const v=new IntersectionObserver(h=>{h.forEach(z=>{z.target===_.current?l(!z.isIntersecting):z.target===q.current&&R(!z.isIntersecting)})});return[_,q].forEach(h=>{h.current&&v.observe(h.current)}),()=>v.disconnect()},[]),r.createElement(r.Fragment,null,r.createElement("div",{className:(0,e.cx)(g.scrollIndicator,g.scrollTopIndicator,{[g.scrollIndicatorVisible]:i})}),r.createElement("div",{className:g.scrollContent},r.createElement("div",{ref:_}),t,r.createElement("div",{ref:q})),r.createElement("div",{className:(0,e.cx)(g.scrollIndicator,g.scrollBottomIndicator,{[g.scrollIndicatorVisible]:A})}))},f=t=>({scrollContent:(0,e.AH)({flex:1,position:"relative"}),scrollIndicator:(0,e.AH)({height:t.spacing(6),left:0,opacity:0,pointerEvents:"none",position:"absolute",right:0,transition:t.transitions.create("opacity"),zIndex:1}),scrollTopIndicator:(0,e.AH)({background:`linear-gradient(0deg, transparent, ${t.colors.background.canvas})`,top:0}),scrollBottomIndicator:(0,e.AH)({background:`linear-gradient(180deg, transparent, ${t.colors.background.canvas})`,bottom:0}),scrollIndicatorVisible:(0,e.AH)({opacity:1})});try{L.displayName="ScrollIndicators",L.__docgenInfo={description:"",displayName:"ScrollIndicators",props:{}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/CustomScrollbar/ScrollIndicators.tsx#ScrollIndicators"]={docgenInfo:L.__docgenInfo,name:"ScrollIndicators",path:"src/components/CustomScrollbar/ScrollIndicators.tsx#ScrollIndicators"})}catch{}var u=Object.defineProperty,c=Object.defineProperties,x=Object.getOwnPropertyDescriptors,W=Object.getOwnPropertySymbols,P=Object.prototype.hasOwnProperty,j=Object.prototype.propertyIsEnumerable,B=(t,i,l)=>i in t?u(t,i,{enumerable:!0,configurable:!0,writable:!0,value:l}):t[i]=l,O=(t,i)=>{for(var l in i||(i={}))P.call(i,l)&&B(t,l,i[l]);if(W)for(var l of W(i))j.call(i,l)&&B(t,l,i[l]);return t},C=(t,i)=>c(t,x(i));const m=({autoHide:t=!1,autoHideTimeout:i=200,setScrollTop:l,className:A,testId:R,autoHeightMin:_="0",autoHeightMax:q="100%",hideTracksWhenNotNeeded:g=!1,hideHorizontalTrack:v,hideVerticalTrack:h,scrollRefCallback:z,showScrollIndicators:n=!1,updateAfterMountMs:o,scrollTop:a,onScroll:w,children:H})=>{const p=(0,r.useRef)(null),b=(0,I.of)(k);(0,r.useEffect)(()=>{p.current&&z&&z(p.current.view)},[p,z]),(0,r.useEffect)(()=>{p.current&&a!=null&&p.current.scrollTop(a)},[a]),(0,r.useEffect)(()=>{o&&setTimeout(()=>{const d=p.current;d?.update&&d.update()},o)},[o]);function S(d,G,F){return F.style&&G&&(F.style.display="none"),r.createElement("div",C(O({},F),{className:d}))}const V=(0,r.useCallback)(d=>S("track-horizontal",v,d),[v]),D=(0,r.useCallback)(d=>S("track-vertical",h,d),[h]),Y=(0,r.useCallback)(d=>r.createElement("div",C(O({},d),{className:"thumb-horizontal"})),[]),$=(0,r.useCallback)(d=>r.createElement("div",C(O({},d),{className:"thumb-vertical"})),[]),y=(0,r.useCallback)(d=>(d.style&&d.style.WebkitOverflowScrolling==="touch"&&(d.style.WebkitOverflowScrolling="auto"),r.createElement("div",C(O({},d),{className:"scrollbar-view"}))),[]),M=(0,r.useCallback)(()=>{p.current&&l&&l(p.current.getValues())},[l]);return r.createElement(N.Ay,{"data-testid":R,ref:p,className:(0,e.cx)(b.customScrollbar,A,{[b.scrollbarWithScrollIndicators]:n}),onScrollStop:M,autoHeight:!0,autoHide:t,autoHideTimeout:i,hideTracksWhenNotNeeded:g,autoHeightMax:q,autoHeightMin:_,renderTrackHorizontal:V,renderTrackVertical:D,renderThumbHorizontal:Y,renderThumbVertical:$,renderView:y,onScroll:w},n?r.createElement(L,null,H):H)};var E=m;const k=t=>({customScrollbar:(0,e.AH)({display:"flex",flexGrow:1,".scrollbar-view":{display:"flex",flexGrow:1,flexDirection:"column"},".track-vertical":{borderRadius:t.shape.borderRadius(2),width:`${t.spacing(1)} !important`,right:0,bottom:t.spacing(.25),top:t.spacing(.25)},".track-horizontal":{borderRadius:t.shape.borderRadius(2),height:`${t.spacing(1)} !important`,right:t.spacing(.25),bottom:t.spacing(.25),left:t.spacing(.25)},".thumb-vertical":{background:t.colors.action.focus,borderRadius:t.shape.borderRadius(2),opacity:0},".thumb-horizontal":{background:t.colors.action.focus,borderRadius:t.shape.borderRadius(2),opacity:0},"&:hover":{".thumb-vertical, .thumb-horizontal":{opacity:1,transition:"opacity 0.3s ease-in-out"}}}),scrollbarWithScrollIndicators:(0,e.AH)({".scrollbar-view":{position:"static !important"}})});try{m.displayName="CustomScrollbar",m.__docgenInfo={description:"Wraps component into <Scrollbars> component from `react-custom-scrollbars`",displayName:"CustomScrollbar",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}},testId:{defaultValue:null,description:"",name:"testId",required:!1,type:{name:"string"}},autoHide:{defaultValue:{value:"false"},description:"",name:"autoHide",required:!1,type:{name:"boolean"}},autoHideTimeout:{defaultValue:{value:"200"},description:"",name:"autoHideTimeout",required:!1,type:{name:"number"}},autoHeightMax:{defaultValue:{value:"100%"},description:"",name:"autoHeightMax",required:!1,type:{name:"string"}},hideTracksWhenNotNeeded:{defaultValue:{value:"false"},description:"",name:"hideTracksWhenNotNeeded",required:!1,type:{name:"boolean"}},hideHorizontalTrack:{defaultValue:null,description:"",name:"hideHorizontalTrack",required:!1,type:{name:"boolean"}},hideVerticalTrack:{defaultValue:null,description:"",name:"hideVerticalTrack",required:!1,type:{name:"boolean"}},scrollRefCallback:{defaultValue:null,description:"",name:"scrollRefCallback",required:!1,type:{name:"RefCallback<HTMLDivElement>"}},scrollTop:{defaultValue:null,description:"",name:"scrollTop",required:!1,type:{name:"number"}},setScrollTop:{defaultValue:null,description:"",name:"setScrollTop",required:!1,type:{name:"((position: positionValues) => void)"}},showScrollIndicators:{defaultValue:{value:"false"},description:"",name:"showScrollIndicators",required:!1,type:{name:"boolean"}},autoHeightMin:{defaultValue:{value:"0"},description:"",name:"autoHeightMin",required:!1,type:{name:"string | number"}},updateAfterMountMs:{defaultValue:null,description:"",name:"updateAfterMountMs",required:!1,type:{name:"number"}},onScroll:{defaultValue:null,description:"",name:"onScroll",required:!1,type:{name:"UIEventHandler<Element>"}}}},typeof STORYBOOK_REACT_CLASSES<"u"&&(STORYBOOK_REACT_CLASSES["src/components/CustomScrollbar/CustomScrollbar.tsx#CustomScrollbar"]={docgenInfo:m.__docgenInfo,name:"CustomScrollbar",path:"src/components/CustomScrollbar/CustomScrollbar.tsx#CustomScrollbar"})}catch{}}}]);
