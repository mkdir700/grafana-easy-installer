(self.webpackChunk_grafana_ui=self.webpackChunk_grafana_ui||[]).push([[9428],{"../../node_modules/calculate-size/lib/index.js":function(Ke,Ie){"use strict";var X;function E(T,B){var z=document.createElement("div"),Q=document.createTextNode(T);return z.appendChild(Q),z.style.fontFamily=B.font,z.style.fontSize=B.fontSize,z.style.fontWeight=B.fontWeight,z.style.position="absolute",z.style.visibility="hidden",z.style.left="-999px",z.style.top="-999px",z.style.width=B.width,z.style.height="auto",document.body.appendChild(z),z}function Z(T){T.parentNode.removeChild(T)}var F={};X={value:!0},Ie.A=function(T,B){B===void 0&&(B={});var z=JSON.stringify({text:T,options:B});if(F[z])return F[z];B.font=B.font||"Times",B.fontSize=B.fontSize||"16px",B.fontWeight=B.fontWeight||"normal",B.width=B.width||"auto";var Q=E(T,B),ye={width:Q.offsetWidth,height:Q.offsetHeight};return Z(Q),F[z]=ye,ye}},"../../node_modules/classnames/index.js":function(Ke,Ie){var X,E;/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(){"use strict";var Z={}.hasOwnProperty;function F(){for(var z="",Q=0;Q<arguments.length;Q++){var ye=arguments[Q];ye&&(z=B(z,T(ye)))}return z}function T(z){if(typeof z=="string"||typeof z=="number")return z;if(typeof z!="object")return"";if(Array.isArray(z))return F.apply(null,z);if(z.toString!==Object.prototype.toString&&!z.toString.toString().includes("[native code]"))return z.toString();var Q="";for(var ye in z)Z.call(z,ye)&&z[ye]&&(Q=B(Q,ye));return Q}function B(z,Q){return Q?z?z+" "+Q:z+Q:z}Ke.exports?(F.default=F,Ke.exports=F):(X=[],E=function(){return F}.apply(Ie,X),E!==void 0&&(Ke.exports=E))})()},"../../node_modules/direction/index.js":function(Ke){"use strict";var Ie,X,E,Z;Ie="A-Za-z\xC0-\xD6\xD8-\xF6\xF8-\u02B8\u0300-\u0590\u0800-\u1FFF\u200E\u2C00-\uFB1C\uFE00-\uFE6F\uFEFD-\uFFFF",X="\u0591-\u07FF\uFB1D-\uFDFD\uFE70-\uFEFC",E=new RegExp("^[^"+X+"]*["+Ie+"]"),Z=new RegExp("^[^"+Ie+"]*["+X+"]");function F(T){return T=T.toString(),Z.test(T)?"rtl":E.test(T)?"ltr":"neutral"}Ke.exports=F},"../../node_modules/esrever/esrever.js":function(Ke,Ie,X){Ke=X.nmd(Ke);var E;/*! https://mths.be/esrever v0.2.0 by @mathias */(function(Z){var F=Ie,T=Ke&&Ke.exports==F&&Ke,B=typeof X.g=="object"&&X.g;(B.global===B||B.window===B)&&(Z=B);var z=/([\0-\u02FF\u0370-\u1AAF\u1B00-\u1DBF\u1E00-\u20CF\u2100-\uD7FF\uE000-\uFE1F\uFE30-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF])([\u0300-\u036F\u1AB0-\u1AFF\u1DC0-\u1DFF\u20D0-\u20FF\uFE20-\uFE2F]+)/g,Q=/([\uD800-\uDBFF])([\uDC00-\uDFFF])/g,ye=function(K){K=K.replace(z,function(J,ie,ue){return ye(ue)+ie}).replace(Q,"$2$1");for(var W="",$=K.length;$--;)W+=K.charAt($);return W},ne={version:"0.2.0",reverse:ye};if(!0)E=function(){return ne}.call(Ie,X,Ie,Ke),E!==void 0&&(Ke.exports=E);else var j})(this)},"../../node_modules/get-document/index.js":function(Ke){Ke.exports=E;var Ie=9;function X(Z){return Z&&Z.nodeType===Ie}function E(Z){if(X(Z))return Z;if(X(Z.ownerDocument))return Z.ownerDocument;if(X(Z.document))return Z.document;if(Z.parentNode)return E(Z.parentNode);if(Z.commonAncestorContainer)return E(Z.commonAncestorContainer);if(Z.startContainer)return E(Z.startContainer);if(Z.anchorNode)return E(Z.anchorNode)}},"../../node_modules/get-window/index.js":function(Ke,Ie,X){var E=X("../../node_modules/get-document/index.js");Ke.exports=T;var Z=X("../../node_modules/get-window/needs-ie-fallback.br.js");function F(B){return B&&B.window===B}function T(B){if(F(B))return B;var z=E(B);if(Z){z.parentWindow.execScript("document._parentWindow = window;","Javascript");var Q=z._parentWindow;return z._parentWindow=null,Q}else return z.defaultView||z.parentWindow}},"../../node_modules/get-window/needs-ie-fallback.br.js":function(Ke){Ke.exports=!!document.attachEvent&&window!==document.parentWindow},"../../node_modules/immutable/dist/immutable.es.js":function(Ke,Ie,X){"use strict";X.r(Ie),X.d(Ie,{Collection:function(){return ze},Iterable:function(){return xa},List:function(){return Cn},Map:function(){return Rr},OrderedMap:function(){return P},OrderedSet:function(){return er},PairSorting:function(){return Lr},Range:function(){return ke},Record:function(){return vr},Repeat:function(){return ma},Seq:function(){return rr},Set:function(){return Y},Stack:function(){return ft},fromJS:function(){return ga},get:function(){return nn},getIn:function(){return Ae},has:function(){return Ur},hasIn:function(){return G},hash:function(){return cr},is:function(){return Lt},isAssociative:function(){return It},isCollection:function(){return Ne},isImmutable:function(){return Ue},isIndexed:function(){return Ze},isKeyed:function(){return Ce},isList:function(){return Ln},isMap:function(){return Qt},isOrdered:function(){return st},isOrderedMap:function(){return Yr},isOrderedSet:function(){return b},isPlainObject:function(){return $t},isRecord:function(){return de},isSeq:function(){return gt},isSet:function(){return k},isStack:function(){return ot},isValueObject:function(){return jt},merge:function(){return ea},mergeDeep:function(){return ra},mergeDeepWith:function(){return na},mergeWith:function(){return ta},remove:function(){return en},removeIn:function(){return Pr},set:function(){return bn},setIn:function(){return An},update:function(){return Bn},updateIn:function(){return qr},version:function(){return ka}});var E="delete",Z=5,F=1<<Z,T=F-1,B={};function z(){return{value:!1}}function Q(i){i&&(i.value=!0)}function ye(){}function ne(i){return i.size===void 0&&(i.size=i.__iterate(K)),i.size}function j(i,o){if(typeof o!="number"){var u=o>>>0;if(""+u!==o||u===4294967295)return NaN;o=u}return o<0?ne(i)+o:o}function K(){return!0}function W(i,o,u){return(i===0&&!ue(i)||u!==void 0&&i<=-u)&&(o===void 0||u!==void 0&&o>=u)}function $(i,o){return ie(i,o,0)}function J(i,o){return ie(i,o,o)}function ie(i,o,u){return i===void 0?u:ue(i)?o===1/0?o:Math.max(0,o+i)|0:o===void 0||o===i?i:Math.min(o,i)|0}function ue(i){return i<0||i===0&&1/i===-1/0}var xe="@@__IMMUTABLE_ITERABLE__@@";function Ne(i){return!!(i&&i[xe])}var We="@@__IMMUTABLE_KEYED__@@";function Ce(i){return!!(i&&i[We])}var ht="@@__IMMUTABLE_INDEXED__@@";function Ze(i){return!!(i&&i[ht])}function It(i){return Ce(i)||Ze(i)}var ze=function(o){return Ne(o)?o:rr(o)},ve=function(i){function o(u){return Ce(u)?u:Fe(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o}(ze),Qe=function(i){function o(u){return Ze(u)?u:Or(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o}(ze),et=function(i){function o(u){return Ne(u)&&!It(u)?u:xt(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o}(ze);ze.Keyed=ve,ze.Indexed=Qe,ze.Set=et;var it="@@__IMMUTABLE_SEQ__@@";function gt(i){return!!(i&&i[it])}var Ye="@@__IMMUTABLE_RECORD__@@";function de(i){return!!(i&&i[Ye])}function Ue(i){return Ne(i)||de(i)}var Ot="@@__IMMUTABLE_ORDERED__@@";function st(i){return!!(i&&i[Ot])}var St=0,ct=1,Pt=2,we=typeof Symbol=="function"&&Symbol.iterator,qe="@@iterator",lt=we||qe,Me=function(o){this.next=o};Me.prototype.toString=function(){return"[Iterator]"},Me.KEYS=St,Me.VALUES=ct,Me.ENTRIES=Pt,Me.prototype.inspect=Me.prototype.toSource=function(){return this.toString()},Me.prototype[lt]=function(){return this};function $e(i,o,u,f){var d=i===0?o:i===1?u:[o,u];return f?f.value=d:f={value:d,done:!1},f}function nt(){return{value:void 0,done:!0}}function Et(i){return Array.isArray(i)?!0:!!_t(i)}function Tt(i){return i&&typeof i.next=="function"}function yt(i){var o=_t(i);return o&&o.call(i)}function _t(i){var o=i&&(we&&i[we]||i[qe]);if(typeof o=="function")return o}function Nt(i){var o=_t(i);return o&&o===i.entries}function sr(i){var o=_t(i);return o&&o===i.keys}var Ut=Object.prototype.hasOwnProperty;function jr(i){return Array.isArray(i)||typeof i=="string"?!0:i&&typeof i=="object"&&Number.isInteger(i.length)&&i.length>=0&&(i.length===0?Object.keys(i).length===1:i.hasOwnProperty(i.length-1))}var rr=function(i){function o(u){return u==null?kr():Ue(u)?u.toSeq():un(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.toSeq=function(){return this},o.prototype.toString=function(){return this.__toString("Seq {","}")},o.prototype.cacheResult=function(){return!this._cache&&this.__iterateUncached&&(this._cache=this.entrySeq().toArray(),this.size=this._cache.length),this},o.prototype.__iterate=function(f,d){var m=this._cache;if(m){for(var y=m.length,N=0;N!==y;){var I=m[d?y-++N:N++];if(f(I[1],I[0],this)===!1)break}return N}return this.__iterateUncached(f,d)},o.prototype.__iterator=function(f,d){var m=this._cache;if(m){var y=m.length,N=0;return new Me(function(){if(N===y)return nt();var I=m[d?y-++N:N++];return $e(f,I[0],I[1])})}return this.__iteratorUncached(f,d)},o}(ze),Fe=function(i){function o(u){return u==null?kr().toKeyedSeq():Ne(u)?Ce(u)?u.toSeq():u.fromEntrySeq():de(u)?u.toSeq():sn(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.toKeyedSeq=function(){return this},o}(rr),Or=function(i){function o(u){return u==null?kr():Ne(u)?Ce(u)?u.entrySeq():u.toIndexedSeq():de(u)?u.toSeq().entrySeq():lr(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return o(arguments)},o.prototype.toIndexedSeq=function(){return this},o.prototype.toString=function(){return this.__toString("Seq [","]")},o}(rr),xt=function(i){function o(u){return(Ne(u)&&!It(u)?u:Or(u)).toSetSeq()}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return o(arguments)},o.prototype.toSetSeq=function(){return this},o}(rr);rr.isSeq=gt,rr.Keyed=Fe,rr.Set=xt,rr.Indexed=Or,rr.prototype[it]=!0;var ur=function(i){function o(u){this._array=u,this.size=u.length}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.get=function(f,d){return this.has(f)?this._array[j(this,f)]:d},o.prototype.__iterate=function(f,d){for(var m=this._array,y=m.length,N=0;N!==y;){var I=d?y-++N:N++;if(f(m[I],I,this)===!1)break}return N},o.prototype.__iterator=function(f,d){var m=this._array,y=m.length,N=0;return new Me(function(){if(N===y)return nt();var I=d?y-++N:N++;return $e(f,I,m[I])})},o}(Or),mn=function(i){function o(u){var f=Object.keys(u).concat(Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(u):[]);this._object=u,this._keys=f,this.size=f.length}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.get=function(f,d){return d!==void 0&&!this.has(f)?d:this._object[f]},o.prototype.has=function(f){return Ut.call(this._object,f)},o.prototype.__iterate=function(f,d){for(var m=this._object,y=this._keys,N=y.length,I=0;I!==N;){var te=y[d?N-++I:I++];if(f(m[te],te,this)===!1)break}return I},o.prototype.__iterator=function(f,d){var m=this._object,y=this._keys,N=y.length,I=0;return new Me(function(){if(I===N)return nt();var te=y[d?N-++I:I++];return $e(f,te,m[te])})},o}(Fe);mn.prototype[Ot]=!0;var Ft=function(i){function o(u){this._collection=u,this.size=u.length||u.size}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.__iterateUncached=function(f,d){if(d)return this.cacheResult().__iterate(f,d);var m=this._collection,y=yt(m),N=0;if(Tt(y))for(var I;!(I=y.next()).done&&f(I.value,N++,this)!==!1;);return N},o.prototype.__iteratorUncached=function(f,d){if(d)return this.cacheResult().__iterator(f,d);var m=this._collection,y=yt(m);if(!Tt(y))return new Me(nt);var N=0;return new Me(function(){var I=y.next();return I.done?I:$e(f,N++,I.value)})},o}(Or),zn;function kr(){return zn||(zn=new ur([]))}function sn(i){var o=$r(i);if(o)return o.fromEntrySeq();if(typeof i=="object")return new mn(i);throw new TypeError("Expected Array or collection object of [k, v] entries, or keyed object: "+i)}function lr(i){var o=$r(i);if(o)return o;throw new TypeError("Expected Array or collection object of values: "+i)}function un(i){var o=$r(i);if(o)return Nt(i)?o.fromEntrySeq():sr(i)?o.toSetSeq():o;if(typeof i=="object")return new mn(i);throw new TypeError("Expected Array or collection object of values, or keyed object: "+i)}function $r(i){return jr(i)?new ur(i):Et(i)?new Ft(i):void 0}var Br="@@__IMMUTABLE_MAP__@@";function Qt(i){return!!(i&&i[Br])}function Yr(i){return Qt(i)&&st(i)}function jt(i){return!!(i&&typeof i.equals=="function"&&typeof i.hashCode=="function")}function Lt(i,o){if(i===o||i!==i&&o!==o)return!0;if(!i||!o)return!1;if(typeof i.valueOf=="function"&&typeof o.valueOf=="function"){if(i=i.valueOf(),o=o.valueOf(),i===o||i!==i&&o!==o)return!0;if(!i||!o)return!1}return!!(jt(i)&&jt(o)&&i.equals(o))}var Zt=typeof Math.imul=="function"&&Math.imul(4294967295,2)===-2?Math.imul:function(o,u){o|=0,u|=0;var f=o&65535,d=u&65535;return f*d+((o>>>16)*d+f*(u>>>16)<<16>>>0)|0};function Zr(i){return i>>>1&1073741824|i&3221225471}var Vt=Object.prototype.valueOf;function cr(i){if(i==null)return gn(i);if(typeof i.hashCode=="function")return Zr(i.hashCode(i));var o=Zn(i);if(o==null)return gn(o);switch(typeof o){case"boolean":return o?1108378657:1108378656;case"number":return fr(o);case"string":return o.length>H?pt(o):yn(o);case"object":case"function":return jn(o);case"symbol":return gr(o);default:if(typeof o.toString=="function")return yn(o.toString());throw new Error("Value type "+typeof o+" cannot be hashed.")}}function gn(i){return i===null?1108378658:1108378659}function fr(i){if(i!==i||i===1/0)return 0;var o=i|0;for(o!==i&&(o^=i*4294967295);i>4294967295;)i/=4294967295,o^=i;return Zr(o)}function pt(i){var o=Be[i];return o===void 0&&(o=yn(i),Te===U&&(Te=0,Be={}),Te++,Be[i]=o),o}function yn(i){for(var o=0,u=0;u<i.length;u++)o=31*o+i.charCodeAt(u)|0;return Zr(o)}function gr(i){var o=x[i];return o!==void 0||(o=Rt(),x[i]=o),o}function jn(i){var o;if(rt&&(o=S.get(i),o!==void 0)||(o=i[V],o!==void 0)||!Pn&&(o=i.propertyIsEnumerable&&i.propertyIsEnumerable[V],o!==void 0||(o=Yn(i),o!==void 0)))return o;if(o=Rt(),rt)S.set(i,o);else{if(wr!==void 0&&wr(i)===!1)throw new Error("Non-extensible objects are not allowed as keys.");if(Pn)Object.defineProperty(i,V,{enumerable:!1,configurable:!1,writable:!1,value:o});else if(i.propertyIsEnumerable!==void 0&&i.propertyIsEnumerable===i.constructor.prototype.propertyIsEnumerable)i.propertyIsEnumerable=function(){return this.constructor.prototype.propertyIsEnumerable.apply(this,arguments)},i.propertyIsEnumerable[V]=o;else if(i.nodeType!==void 0)i[V]=o;else throw new Error("Unable to set a non-enumerable property on object.")}return o}var wr=Object.isExtensible,Pn=function(){try{return Object.defineProperty({},"@",{}),!0}catch{return!1}}();function Yn(i){if(i&&i.nodeType>0)switch(i.nodeType){case 1:return i.uniqueID;case 9:return i.documentElement&&i.documentElement.uniqueID}}function Zn(i){return i.valueOf!==Vt&&typeof i.valueOf=="function"?i.valueOf(i):i}function Rt(){var i=++O;return O&1073741824&&(O=0),i}var rt=typeof WeakMap=="function",S;rt&&(S=new WeakMap);var x=Object.create(null),O=0,V="__immutablehash__";typeof Symbol=="function"&&(V=Symbol(V));var H=16,U=255,Te=0,Be={},mt=function(i){function o(u,f){this._iter=u,this._useKeys=f,this.size=u.size}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.get=function(f,d){return this._iter.get(f,d)},o.prototype.has=function(f){return this._iter.has(f)},o.prototype.valueSeq=function(){return this._iter.valueSeq()},o.prototype.reverse=function(){var f=this,d=hr(this,!0);return this._useKeys||(d.valueSeq=function(){return f._iter.toSeq().reverse()}),d},o.prototype.map=function(f,d){var m=this,y=Nr(this,f,d);return this._useKeys||(y.valueSeq=function(){return m._iter.toSeq().map(f,d)}),y},o.prototype.__iterate=function(f,d){var m=this;return this._iter.__iterate(function(y,N){return f(y,N,m)},d)},o.prototype.__iterator=function(f,d){return this._iter.__iterator(f,d)},o}(Fe);mt.prototype[Ot]=!0;var Ge=function(i){function o(u){this._iter=u,this.size=u.size}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.includes=function(f){return this._iter.includes(f)},o.prototype.__iterate=function(f,d){var m=this,y=0;return d&&ne(this),this._iter.__iterate(function(N){return f(N,d?m.size-++y:y++,m)},d)},o.prototype.__iterator=function(f,d){var m=this,y=this._iter.__iterator(ct,d),N=0;return d&&ne(this),new Me(function(){var I=y.next();return I.done?I:$e(f,d?m.size-++N:N++,I.value,I)})},o}(Or),dt=function(i){function o(u){this._iter=u,this.size=u.size}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.has=function(f){return this._iter.includes(f)},o.prototype.__iterate=function(f,d){var m=this;return this._iter.__iterate(function(y){return f(y,y,m)},d)},o.prototype.__iterator=function(f,d){var m=this._iter.__iterator(ct,d);return new Me(function(){var y=m.next();return y.done?y:$e(f,y.value,y.value,y)})},o}(xt),ut=function(i){function o(u){this._iter=u,this.size=u.size}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.entrySeq=function(){return this._iter.toSeq()},o.prototype.__iterate=function(f,d){var m=this;return this._iter.__iterate(function(y){if(y){cn(y);var N=Ne(y);return f(N?y.get(1):y[1],N?y.get(0):y[0],m)}},d)},o.prototype.__iterator=function(f,d){var m=this._iter.__iterator(ct,d);return new Me(function(){for(;;){var y=m.next();if(y.done)return y;var N=y.value;if(N){cn(N);var I=Ne(N);return $e(f,I?N.get(0):N[0],I?N.get(1):N[1],y)}}})},o}(Fe);Ge.prototype.cacheResult=mt.prototype.cacheResult=dt.prototype.cacheResult=ut.prototype.cacheResult=Qr;function Dt(i){var o=zt(i);return o._iter=i,o.size=i.size,o.flip=function(){return i},o.reverse=function(){var u=i.reverse.apply(this);return u.flip=function(){return i.reverse()},u},o.has=function(u){return i.includes(u)},o.includes=function(u){return i.has(u)},o.cacheResult=Qr,o.__iterateUncached=function(u,f){var d=this;return i.__iterate(function(m,y){return u(y,m,d)!==!1},f)},o.__iteratorUncached=function(u,f){if(u===Pt){var d=i.__iterator(u,f);return new Me(function(){var m=d.next();if(!m.done){var y=m.value[0];m.value[0]=m.value[1],m.value[1]=y}return m})}return i.__iterator(u===ct?St:ct,f)},o}function Nr(i,o,u){var f=zt(i);return f.size=i.size,f.has=function(d){return i.has(d)},f.get=function(d,m){var y=i.get(d,B);return y===B?m:o.call(u,y,d,i)},f.__iterateUncached=function(d,m){var y=this;return i.__iterate(function(N,I,te){return d(o.call(u,N,I,te),I,y)!==!1},m)},f.__iteratorUncached=function(d,m){var y=i.__iterator(Pt,m);return new Me(function(){var N=y.next();if(N.done)return N;var I=N.value,te=I[0];return $e(d,te,o.call(u,I[1],te,i),N)})},f}function hr(i,o){var u=this,f=zt(i);return f._iter=i,f.size=i.size,f.reverse=function(){return i},i.flip&&(f.flip=function(){var d=Dt(i);return d.reverse=function(){return i.flip()},d}),f.get=function(d,m){return i.get(o?d:-1-d,m)},f.has=function(d){return i.has(o?d:-1-d)},f.includes=function(d){return i.includes(d)},f.cacheResult=Qr,f.__iterate=function(d,m){var y=this,N=0;return m&&ne(i),i.__iterate(function(I,te){return d(I,o?te:m?y.size-++N:N++,y)},!m)},f.__iterator=function(d,m){var y=0;m&&ne(i);var N=i.__iterator(Pt,!m);return new Me(function(){var I=N.next();if(I.done)return I;var te=I.value;return $e(d,o?te[0]:m?u.size-++y:y++,te[1],I)})},f}function br(i,o,u,f){var d=zt(i);return f&&(d.has=function(m){var y=i.get(m,B);return y!==B&&!!o.call(u,y,m,i)},d.get=function(m,y){var N=i.get(m,B);return N!==B&&o.call(u,N,m,i)?N:y}),d.__iterateUncached=function(m,y){var N=this,I=0;return i.__iterate(function(te,ce,Ee){if(o.call(u,te,ce,Ee))return I++,m(te,f?ce:I-1,N)},y),I},d.__iteratorUncached=function(m,y){var N=i.__iterator(Pt,y),I=0;return new Me(function(){for(;;){var te=N.next();if(te.done)return te;var ce=te.value,Ee=ce[0],He=ce[1];if(o.call(u,He,Ee,i))return $e(m,f?Ee:I++,He,te)}})},d}function rn(i,o,u){var f=Rr().asMutable();return i.__iterate(function(d,m){f.update(o.call(u,d,m,i),0,function(y){return y+1})}),f.asImmutable()}function Rn(i,o,u){var f=Ce(i),d=(st(i)?P():Rr()).asMutable();i.__iterate(function(y,N){d.update(o.call(u,y,N,i),function(I){return I=I||[],I.push(f?[N,y]:y),I})});var m=Ir(i);return d.map(function(y){return bt(i,m(y))}).asImmutable()}function Fn(i,o,u){var f=Ce(i),d=[[],[]];i.__iterate(function(y,N){d[o.call(u,y,N,i)?1:0].push(f?[N,y]:y)});var m=Ir(i);return d.map(function(y){return bt(i,m(y))})}function Gr(i,o,u,f){var d=i.size;if(W(o,u,d))return i;var m=$(o,d),y=J(u,d);if(m!==m||y!==y)return Gr(i.toSeq().cacheResult(),o,u,f);var N=y-m,I;N===N&&(I=N<0?0:N);var te=zt(i);return te.size=I===0?I:i.size&&I||void 0,!f&&gt(i)&&I>=0&&(te.get=function(ce,Ee){return ce=j(this,ce),ce>=0&&ce<I?i.get(ce+m,Ee):Ee}),te.__iterateUncached=function(ce,Ee){var He=this;if(I===0)return 0;if(Ee)return this.cacheResult().__iterate(ce,Ee);var At=0,wt=!0,Bt=0;return i.__iterate(function(Hr,pn){if(!(wt&&(wt=At++<m)))return Bt++,ce(Hr,f?pn:Bt-1,He)!==!1&&Bt!==I}),Bt},te.__iteratorUncached=function(ce,Ee){if(I!==0&&Ee)return this.cacheResult().__iterator(ce,Ee);if(I===0)return new Me(nt);var He=i.__iterator(ce,Ee),At=0,wt=0;return new Me(function(){for(;At++<m;)He.next();if(++wt>I)return nt();var Bt=He.next();return f||ce===ct||Bt.done?Bt:ce===St?$e(ce,wt-1,void 0,Bt):$e(ce,wt-1,Bt.value[1],Bt)})},te}function kn(i,o,u){var f=zt(i);return f.__iterateUncached=function(d,m){var y=this;if(m)return this.cacheResult().__iterate(d,m);var N=0;return i.__iterate(function(I,te,ce){return o.call(u,I,te,ce)&&++N&&d(I,te,y)}),N},f.__iteratorUncached=function(d,m){var y=this;if(m)return this.cacheResult().__iterator(d,m);var N=i.__iterator(Pt,m),I=!0;return new Me(function(){if(!I)return nt();var te=N.next();if(te.done)return te;var ce=te.value,Ee=ce[0],He=ce[1];return o.call(u,He,Ee,y)?d===Pt?te:$e(d,Ee,He,te):(I=!1,nt())})},f}function Gn(i,o,u,f){var d=zt(i);return d.__iterateUncached=function(m,y){var N=this;if(y)return this.cacheResult().__iterate(m,y);var I=!0,te=0;return i.__iterate(function(ce,Ee,He){if(!(I&&(I=o.call(u,ce,Ee,He))))return te++,m(ce,f?Ee:te-1,N)}),te},d.__iteratorUncached=function(m,y){var N=this;if(y)return this.cacheResult().__iterator(m,y);var I=i.__iterator(Pt,y),te=!0,ce=0;return new Me(function(){var Ee,He,At;do{if(Ee=I.next(),Ee.done)return f||m===ct?Ee:m===St?$e(m,ce++,void 0,Ee):$e(m,ce++,Ee.value[1],Ee);var wt=Ee.value;He=wt[0],At=wt[1],te&&(te=o.call(u,At,He,N))}while(te);return m===Pt?Ee:$e(m,He,At,Ee)})},d}function Kr(i,o){var u=Ce(i),f=[i].concat(o).map(function(y){return Ne(y)?u&&(y=ve(y)):y=u?sn(y):lr(Array.isArray(y)?y:[y]),y}).filter(function(y){return y.size!==0});if(f.length===0)return i;if(f.length===1){var d=f[0];if(d===i||u&&Ce(d)||Ze(i)&&Ze(d))return d}var m=new ur(f);return u?m=m.toKeyedSeq():Ze(i)||(m=m.toSetSeq()),m=m.flatten(!0),m.size=f.reduce(function(y,N){if(y!==void 0){var I=N.size;if(I!==void 0)return y+I}},0),m}function Cr(i,o,u){var f=zt(i);return f.__iterateUncached=function(d,m){if(m)return this.cacheResult().__iterate(d,m);var y=0,N=!1;function I(te,ce){te.__iterate(function(Ee,He){return(!o||ce<o)&&Ne(Ee)?I(Ee,ce+1):(y++,d(Ee,u?He:y-1,f)===!1&&(N=!0)),!N},m)}return I(i,0),y},f.__iteratorUncached=function(d,m){if(m)return this.cacheResult().__iterator(d,m);var y=i.__iterator(d,m),N=[],I=0;return new Me(function(){for(;y;){var te=y.next();if(te.done!==!1){y=N.pop();continue}var ce=te.value;if(d===Pt&&(ce=ce[1]),(!o||N.length<o)&&Ne(ce))N.push(y),y=ce.__iterator(d,m);else return u?te:$e(d,I++,ce,te)}return nt()})},f}function qt(i,o,u){var f=Ir(i);return i.toSeq().map(function(d,m){return f(o.call(u,d,m,i))}).flatten(!0)}function kt(i,o){var u=zt(i);return u.size=i.size&&i.size*2-1,u.__iterateUncached=function(f,d){var m=this,y=0;return i.__iterate(function(N){return(!y||f(o,y++,m)!==!1)&&f(N,y++,m)!==!1},d),y},u.__iteratorUncached=function(f,d){var m=i.__iterator(ct,d),y=0,N;return new Me(function(){return(!N||y%2)&&(N=m.next(),N.done)?N:y%2?$e(f,y++,o):$e(f,y++,N.value,N)})},u}function Ht(i,o,u){o||(o=Qn);var f=Ce(i),d=0,m=i.toSeq().map(function(y,N){return[N,y,d++,u?u(y,N,i):y]}).valueSeq().toArray();return m.sort(function(y,N){return o(y[3],N[3])||y[2]-N[2]}).forEach(f?function(y,N){m[N].length=2}:function(y,N){m[N]=y[1]}),f?Fe(m):Ze(i)?Or(m):xt(m)}function Ct(i,o,u){if(o||(o=Qn),u){var f=i.toSeq().map(function(d,m){return[d,u(d,m,i)]}).reduce(function(d,m){return wn(o,d[1],m[1])?m:d});return f&&f[0]}return i.reduce(function(d,m){return wn(o,d,m)?m:d})}function wn(i,o,u){var f=i(u,o);return f===0&&u!==o&&(u==null||u!==u)||f>0}function nr(i,o,u,f){var d=zt(i),m=new ur(u).map(function(y){return y.size});return d.size=f?m.max():m.min(),d.__iterate=function(y,N){for(var I=this.__iterator(ct,N),te,ce=0;!(te=I.next()).done&&y(te.value,ce++,this)!==!1;);return ce},d.__iteratorUncached=function(y,N){var I=u.map(function(Ee){return Ee=ze(Ee),yt(N?Ee.reverse():Ee)}),te=0,ce=!1;return new Me(function(){var Ee;return ce||(Ee=I.map(function(He){return He.next()}),ce=f?Ee.every(function(He){return He.done}):Ee.some(function(He){return He.done})),ce?nt():$e(y,te++,o.apply(null,Ee.map(function(He){return He.value})))})},d}function bt(i,o){return i===o?i:gt(i)?o:i.constructor(o)}function cn(i){if(i!==Object(i))throw new TypeError("Expected [K, V] tuple: "+i)}function Ir(i){return Ce(i)?ve:Ze(i)?Qe:et}function zt(i){return Object.create((Ce(i)?Fe:Ze(i)?Or:xt).prototype)}function Qr(){return this._iter.cacheResult?(this._iter.cacheResult(),this.size=this._iter.size,this):rr.prototype.cacheResult.call(this)}function Qn(i,o){return i===void 0&&o===void 0?0:i===void 0?1:o===void 0?-1:i>o?1:i<o?-1:0}function Ar(i,o){o=o||0;for(var u=Math.max(0,i.length-o),f=new Array(u),d=0;d<u;d++)f[d]=i[d+o];return f}function $n(i,o){if(!i)throw new Error(o)}function Sr(i){$n(i!==1/0,"Cannot perform this action with an infinite size.")}function ae(i){if(jr(i)&&typeof i!="string")return i;if(st(i))return i.toArray();throw new TypeError("Invalid keyPath: expected Ordered Collection or Array: "+i)}var Jt=Object.prototype.toString;function $t(i){if(!i||typeof i!="object"||Jt.call(i)!=="[object Object]")return!1;var o=Object.getPrototypeOf(i);if(o===null)return!0;for(var u=o,f=Object.getPrototypeOf(o);f!==null;)u=f,f=Object.getPrototypeOf(u);return u===o}function tt(i){return typeof i=="object"&&(Ue(i)||Array.isArray(i)||$t(i))}function Dr(i){try{return typeof i=="string"?JSON.stringify(i):String(i)}catch{return JSON.stringify(i)}}function Ur(i,o){return Ue(i)?i.has(o):tt(i)&&Ut.call(i,o)}function nn(i,o,u){return Ue(i)?i.get(o,u):Ur(i,o)?typeof i.get=="function"?i.get(o):i[o]:u}function Xr(i){if(Array.isArray(i))return Ar(i);var o={};for(var u in i)Ut.call(i,u)&&(o[u]=i[u]);return o}function en(i,o){if(!tt(i))throw new TypeError("Cannot update non-data-structure value: "+i);if(Ue(i)){if(!i.remove)throw new TypeError("Cannot update immutable value without .remove() method: "+i);return i.remove(o)}if(!Ut.call(i,o))return i;var u=Xr(i);return Array.isArray(u)?u.splice(o,1):delete u[o],u}function bn(i,o,u){if(!tt(i))throw new TypeError("Cannot update non-data-structure value: "+i);if(Ue(i)){if(!i.set)throw new TypeError("Cannot update immutable value without .set() method: "+i);return i.set(o,u)}if(Ut.call(i,o)&&u===i[o])return i;var f=Xr(i);return f[o]=u,f}function qr(i,o,u,f){f||(f=u,u=void 0);var d=Kn(Ue(i),i,ae(o),0,u,f);return d===B?u:d}function Kn(i,o,u,f,d,m){var y=o===B;if(f===u.length){var N=y?d:o,I=m(N);return I===N?o:I}if(!y&&!tt(o))throw new TypeError("Cannot update within non-data-structure value in path ["+u.slice(0,f).map(Dr)+"]: "+o);var te=u[f],ce=y?B:nn(o,te,B),Ee=Kn(ce===B?i:Ue(ce),ce,u,f+1,d,m);return Ee===ce?o:Ee===B?en(o,te):bn(y?i?Tr():{}:o,te,Ee)}function An(i,o,u){return qr(i,o,B,function(){return u})}function tn(i,o){return An(this,i,o)}function Pr(i,o){return qr(i,o,function(){return B})}function Un(i){return Pr(this,i)}function Bn(i,o,u,f){return qr(i,[o],u,f)}function xn(i,o,u){return arguments.length===1?i(this):Bn(this,i,o,u)}function qn(i,o,u){return qr(this,i,o,u)}function xr(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];return Xn(this,i)}function In(i){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];if(typeof i!="function")throw new TypeError("Invalid merger function: "+i);return Xn(this,o,i)}function Xn(i,o,u){for(var f=[],d=0;d<o.length;d++){var m=ve(o[d]);m.size!==0&&f.push(m)}return f.length===0?i:i.toSeq().size===0&&!i.__ownerID&&f.length===1?i.constructor(f[0]):i.withMutations(function(y){for(var N=u?function(te,ce){Bn(y,ce,B,function(Ee){return Ee===B?te:u(Ee,te,ce)})}:function(te,ce){y.set(ce,te)},I=0;I<f.length;I++)f[I].forEach(N)})}function ea(i){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];return Mr(i,o)}function ta(i,o){for(var u=[],f=arguments.length-2;f-- >0;)u[f]=arguments[f+2];return Mr(o,u,i)}function ra(i){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];return pr(i,o)}function na(i,o){for(var u=[],f=arguments.length-2;f-- >0;)u[f]=arguments[f+2];return pr(o,u,i)}function pr(i,o,u){return Mr(i,o,Kt(u))}function Mr(i,o,u){if(!tt(i))throw new TypeError("Cannot merge into non-data-structure value: "+i);if(Ue(i))return typeof u=="function"&&i.mergeWith?i.mergeWith.apply(i,[u].concat(o)):i.merge?i.merge.apply(i,o):i.concat.apply(i,o);for(var f=Array.isArray(i),d=i,m=f?Qe:ve,y=f?function(I){d===i&&(d=Xr(d)),d.push(I)}:function(I,te){var ce=Ut.call(d,te),Ee=ce&&u?u(d[te],I,te):I;(!ce||Ee!==d[te])&&(d===i&&(d=Xr(d)),d[te]=Ee)},N=0;N<o.length;N++)m(o[N]).forEach(y);return d}function Kt(i){function o(u,f,d){return tt(u)&&tt(f)&&la(u,f)?Mr(u,[f],o):i?i(u,f,d):f}return o}function la(i,o){var u=rr(i),f=rr(o);return Ze(u)===Ze(f)&&Ce(u)===Ce(f)}function Dn(){for(var i=[],o=arguments.length;o--;)i[o]=arguments[o];return pr(this,i)}function _n(i){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];return pr(this,o,i)}function Jn(i){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];return qr(this,i,Tr(),function(f){return Mr(f,o)})}function Wt(i){for(var o=[],u=arguments.length-1;u-- >0;)o[u]=arguments[u+1];return qr(this,i,Tr(),function(f){return pr(f,o)})}function On(i){var o=this.asMutable();return i(o),o.wasAltered()?o.__ensureOwner(this.__ownerID):this}function Jr(){return this.__ownerID?this:this.__ensureOwner(new ye)}function Wr(){return this.__ensureOwner()}function Vr(){return this.__altered}var Rr=function(i){function o(u){return u==null?Tr():Qt(u)&&!st(u)?u:Tr().withMutations(function(f){var d=i(u);Sr(d.size),d.forEach(function(m,y){return f.set(y,m)})})}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){for(var f=[],d=arguments.length;d--;)f[d]=arguments[d];return Tr().withMutations(function(m){for(var y=0;y<f.length;y+=2){if(y+1>=f.length)throw new Error("Missing value for key: "+f[y]);m.set(f[y],f[y+1])}})},o.prototype.toString=function(){return this.__toString("Map {","}")},o.prototype.get=function(f,d){return this._root?this._root.get(0,void 0,f,d):d},o.prototype.set=function(f,d){return ia(this,f,d)},o.prototype.remove=function(f){return ia(this,f,B)},o.prototype.deleteAll=function(f){var d=ze(f);return d.size===0?this:this.withMutations(function(m){d.forEach(function(y){return m.remove(y)})})},o.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._root=null,this.__hash=void 0,this.__altered=!0,this):Tr()},o.prototype.sort=function(f){return P(Ht(this,f))},o.prototype.sortBy=function(f,d){return P(Ht(this,d,f))},o.prototype.map=function(f,d){var m=this;return this.withMutations(function(y){y.forEach(function(N,I){y.set(I,f.call(d,N,I,m))})})},o.prototype.__iterator=function(f,d){return new aa(this,f,d)},o.prototype.__iterate=function(f,d){var m=this,y=0;return this._root&&this._root.iterate(function(N){return y++,f(N[1],N[0],m)},d),y},o.prototype.__ensureOwner=function(f){return f===this.__ownerID?this:f?ln(this.size,this._root,f,this.__hash):this.size===0?Tr():(this.__ownerID=f,this.__altered=!1,this)},o}(ve);Rr.isMap=Qt;var Yt=Rr.prototype;Yt[Br]=!0,Yt[E]=Yt.remove,Yt.removeAll=Yt.deleteAll,Yt.setIn=tn,Yt.removeIn=Yt.deleteIn=Un,Yt.update=xn,Yt.updateIn=qn,Yt.merge=Yt.concat=xr,Yt.mergeWith=In,Yt.mergeDeep=Dn,Yt.mergeDeepWith=_n,Yt.mergeIn=Jn,Yt.mergeDeepIn=Wt,Yt.withMutations=On,Yt.wasAltered=Vr,Yt.asImmutable=Wr,Yt["@@transducer/init"]=Yt.asMutable=Jr,Yt["@@transducer/step"]=function(i,o){return i.set(o[0],o[1])},Yt["@@transducer/result"]=function(i){return i.asImmutable()};var Sn=function(o,u){this.ownerID=o,this.entries=u};Sn.prototype.get=function(o,u,f,d){for(var m=this.entries,y=0,N=m.length;y<N;y++)if(Lt(f,m[y][0]))return m[y][1];return d},Sn.prototype.update=function(o,u,f,d,m,y,N){for(var I=m===B,te=this.entries,ce=0,Ee=te.length;ce<Ee&&!Lt(d,te[ce][0]);ce++);var He=ce<Ee;if(He?te[ce][1]===m:I)return this;if(Q(N),(I||!He)&&Q(y),!(I&&te.length===1)){if(!He&&!I&&te.length>=or)return hn(o,te,d,m);var At=o&&o===this.ownerID,wt=At?te:Ar(te);return He?I?ce===Ee-1?wt.pop():wt[ce]=wt.pop():wt[ce]=[d,m]:wt.push([d,m]),At?(this.entries=wt,this):new Sn(o,wt)}};var an=function(o,u,f){this.ownerID=o,this.bitmap=u,this.nodes=f};an.prototype.get=function(o,u,f,d){u===void 0&&(u=cr(f));var m=1<<((o===0?u:u>>>o)&T),y=this.bitmap;return y&m?this.nodes[Mn(y&m-1)].get(o+Z,u,f,d):d},an.prototype.update=function(o,u,f,d,m,y,N){f===void 0&&(f=cr(d));var I=(u===0?f:f>>>u)&T,te=1<<I,ce=this.bitmap,Ee=(ce&te)!==0;if(!Ee&&m===B)return this;var He=Mn(ce&te-1),At=this.nodes,wt=Ee?At[He]:void 0,Bt=dn(wt,o,u+Z,f,d,m,y,N);if(Bt===wt)return this;if(!Ee&&Bt&&At.length>=ua)return Tn(o,At,ce,I,Bt);if(Ee&&!Bt&&At.length===2&&Wn(At[He^1]))return At[He^1];if(Ee&&Bt&&At.length===1&&Wn(Bt))return Bt;var Hr=o&&o===this.ownerID,pn=Ee?Bt?ce:ce^te:ce|te,Hn=Ee?Bt?Nn(At,He,Bt,Hr):sa(At,He,Hr):yr(At,He,Bt,Hr);return Hr?(this.bitmap=pn,this.nodes=Hn,this):new an(o,pn,Hn)};var fn=function(o,u,f){this.ownerID=o,this.count=u,this.nodes=f};fn.prototype.get=function(o,u,f,d){u===void 0&&(u=cr(f));var m=(o===0?u:u>>>o)&T,y=this.nodes[m];return y?y.get(o+Z,u,f,d):d},fn.prototype.update=function(o,u,f,d,m,y,N){f===void 0&&(f=cr(d));var I=(u===0?f:f>>>u)&T,te=m===B,ce=this.nodes,Ee=ce[I];if(te&&!Ee)return this;var He=dn(Ee,o,u+Z,f,d,m,y,N);if(He===Ee)return this;var At=this.count;if(!Ee)At++;else if(!He&&(At--,At<da))return Vn(o,ce,At,I);var wt=o&&o===this.ownerID,Bt=Nn(ce,I,He,wt);return wt?(this.count=At,this.nodes=Bt,this):new fn(o,At,Bt)};var ar=function(o,u,f){this.ownerID=o,this.keyHash=u,this.entries=f};ar.prototype.get=function(o,u,f,d){for(var m=this.entries,y=0,N=m.length;y<N;y++)if(Lt(f,m[y][0]))return m[y][1];return d},ar.prototype.update=function(o,u,f,d,m,y,N){f===void 0&&(f=cr(d));var I=m===B;if(f!==this.keyHash)return I?this:(Q(N),Q(y),vn(this,o,u,f,[d,m]));for(var te=this.entries,ce=0,Ee=te.length;ce<Ee&&!Lt(d,te[ce][0]);ce++);var He=ce<Ee;if(He?te[ce][1]===m:I)return this;if(Q(N),(I||!He)&&Q(y),I&&Ee===2)return new Fr(o,this.keyHash,te[ce^1]);var At=o&&o===this.ownerID,wt=At?te:Ar(te);return He?I?ce===Ee-1?wt.pop():wt[ce]=wt.pop():wt[ce]=[d,m]:wt.push([d,m]),At?(this.entries=wt,this):new ar(o,this.keyHash,wt)};var Fr=function(o,u,f){this.ownerID=o,this.keyHash=u,this.entry=f};Fr.prototype.get=function(o,u,f,d){return Lt(f,this.entry[0])?this.entry[1]:d},Fr.prototype.update=function(o,u,f,d,m,y,N){var I=m===B,te=Lt(d,this.entry[0]);if(te?m===this.entry[1]:I)return this;if(Q(N),I){Q(y);return}return te?o&&o===this.ownerID?(this.entry[1]=m,this):new Fr(o,this.keyHash,[d,m]):(Q(y),vn(this,o,u,cr(d),[d,m]))},Sn.prototype.iterate=ar.prototype.iterate=function(i,o){for(var u=this.entries,f=0,d=u.length-1;f<=d;f++)if(i(u[o?d-f:f])===!1)return!1},an.prototype.iterate=fn.prototype.iterate=function(i,o){for(var u=this.nodes,f=0,d=u.length-1;f<=d;f++){var m=u[o?d-f:f];if(m&&m.iterate(i,o)===!1)return!1}},Fr.prototype.iterate=function(i,o){return i(this.entry)};var aa=function(i){function o(u,f,d){this._type=f,this._reverse=d,this._stack=u._root&&on(u._root)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.next=function(){for(var f=this._type,d=this._stack;d;){var m=d.node,y=d.index++,N=void 0;if(m.entry){if(y===0)return En(f,m.entry)}else if(m.entries){if(N=m.entries.length-1,y<=N)return En(f,m.entries[this._reverse?N-y:y])}else if(N=m.nodes.length-1,y<=N){var I=m.nodes[this._reverse?N-y:y];if(I){if(I.entry)return En(f,I.entry);d=this._stack=on(I,d)}continue}d=this._stack=this._stack.__prev}return nt()},o}(Me);function En(i,o){return $e(i,o[0],o[1])}function on(i,o){return{node:i,index:0,__prev:o}}function ln(i,o,u,f){var d=Object.create(Yt);return d.size=i,d._root=o,d.__ownerID=u,d.__hash=f,d.__altered=!1,d}var oa;function Tr(){return oa||(oa=ln(0))}function ia(i,o,u){var f,d;if(i._root){var m=z(),y=z();if(f=dn(i._root,i.__ownerID,0,void 0,o,u,m,y),!y.value)return i;d=i.size+(m.value?u===B?-1:1:0)}else{if(u===B)return i;d=1,f=new Sn(i.__ownerID,[[o,u]])}return i.__ownerID?(i.size=d,i._root=f,i.__hash=void 0,i.__altered=!0,i):f?ln(d,f):Tr()}function dn(i,o,u,f,d,m,y,N){return i?i.update(o,u,f,d,m,y,N):m===B?i:(Q(N),Q(y),new Fr(o,f,[d,m]))}function Wn(i){return i.constructor===Fr||i.constructor===ar}function vn(i,o,u,f,d){if(i.keyHash===f)return new ar(o,f,[i.entry,d]);var m=(u===0?i.keyHash:i.keyHash>>>u)&T,y=(u===0?f:f>>>u)&T,N,I=m===y?[vn(i,o,u+Z,f,d)]:(N=new Fr(o,f,d),m<y?[i,N]:[N,i]);return new an(o,1<<m|1<<y,I)}function hn(i,o,u,f){i||(i=new ye);for(var d=new Fr(i,cr(u),[u,f]),m=0;m<o.length;m++){var y=o[m];d=d.update(i,0,void 0,y[0],y[1])}return d}function Vn(i,o,u,f){for(var d=0,m=0,y=new Array(u),N=0,I=1,te=o.length;N<te;N++,I<<=1){var ce=o[N];ce!==void 0&&N!==f&&(d|=I,y[m++]=ce)}return new an(i,d,y)}function Tn(i,o,u,f,d){for(var m=0,y=new Array(F),N=0;u!==0;N++,u>>>=1)y[N]=u&1?o[m++]:void 0;return y[f]=d,new fn(i,m+1,y)}function Mn(i){return i-=i>>1&1431655765,i=(i&858993459)+(i>>2&858993459),i=i+(i>>4)&252645135,i+=i>>8,i+=i>>16,i&127}function Nn(i,o,u,f){var d=f?i:Ar(i);return d[o]=u,d}function yr(i,o,u,f){var d=i.length+1;if(f&&o+1===d)return i[o]=u,i;for(var m=new Array(d),y=0,N=0;N<d;N++)N===o?(m[N]=u,y=-1):m[N]=i[N+y];return m}function sa(i,o,u){var f=i.length-1;if(u&&o===f)return i.pop(),i;for(var d=new Array(f),m=0,y=0;y<f;y++)y===o&&(m=1),d[y]=i[y+m];return d}var or=F/4,ua=F/2,da=F/4,ca="@@__IMMUTABLE_LIST__@@";function Ln(i){return!!(i&&i[ca])}var Cn=function(i){function o(u){var f=c();if(u==null)return f;if(Ln(u))return u;var d=i(u),m=d.size;return m===0?f:(Sr(m),m>0&&m<F?a(0,m,Z,null,new n(d.toArray())):f.withMutations(function(y){y.setSize(m),d.forEach(function(N,I){return y.set(I,N)})}))}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return this(arguments)},o.prototype.toString=function(){return this.__toString("List [","]")},o.prototype.get=function(f,d){if(f=j(this,f),f>=0&&f<this.size){f+=this._origin;var m=A(this,f);return m&&m.array[f&T]}return d},o.prototype.set=function(f,d){return l(this,f,d)},o.prototype.remove=function(f){return this.has(f)?f===0?this.shift():f===this.size-1?this.pop():this.splice(f,1):this},o.prototype.insert=function(f,d){return this.splice(f,0,d)},o.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=this._origin=this._capacity=0,this._level=Z,this._root=this._tail=this.__hash=void 0,this.__altered=!0,this):c()},o.prototype.push=function(){var f=arguments,d=this.size;return this.withMutations(function(m){_(m,0,d+f.length);for(var y=0;y<f.length;y++)m.set(d+y,f[y])})},o.prototype.pop=function(){return _(this,0,-1)},o.prototype.unshift=function(){var f=arguments;return this.withMutations(function(d){_(d,-f.length);for(var m=0;m<f.length;m++)d.set(m,f[m])})},o.prototype.shift=function(){return _(this,1)},o.prototype.concat=function(){for(var f=arguments,d=[],m=0;m<arguments.length;m++){var y=f[m],N=i(typeof y!="string"&&Et(y)?y:[y]);N.size!==0&&d.push(N)}return d.length===0?this:this.size===0&&!this.__ownerID&&d.length===1?this.constructor(d[0]):this.withMutations(function(I){d.forEach(function(te){return te.forEach(function(ce){return I.push(ce)})})})},o.prototype.setSize=function(f){return _(this,0,f)},o.prototype.map=function(f,d){var m=this;return this.withMutations(function(y){for(var N=0;N<m.size;N++)y.set(N,f.call(d,y.get(N),N,m))})},o.prototype.slice=function(f,d){var m=this.size;return W(f,d,m)?this:_(this,$(f,m),J(d,m))},o.prototype.__iterator=function(f,d){var m=d?this.size:0,y=e(this,d);return new Me(function(){var N=y();return N===t?nt():$e(f,d?--m:m++,N)})},o.prototype.__iterate=function(f,d){for(var m=d?this.size:0,y=e(this,d),N;(N=y())!==t&&f(N,d?--m:m++,this)!==!1;);return m},o.prototype.__ensureOwner=function(f){return f===this.__ownerID?this:f?a(this._origin,this._capacity,this._level,this._root,this._tail,f,this.__hash):this.size===0?c():(this.__ownerID=f,this.__altered=!1,this)},o}(Qe);Cn.isList=Ln;var r=Cn.prototype;r[ca]=!0,r[E]=r.remove,r.merge=r.concat,r.setIn=tn,r.deleteIn=r.removeIn=Un,r.update=xn,r.updateIn=qn,r.mergeIn=Jn,r.mergeDeepIn=Wt,r.withMutations=On,r.wasAltered=Vr,r.asImmutable=Wr,r["@@transducer/init"]=r.asMutable=Jr,r["@@transducer/step"]=function(i,o){return i.push(o)},r["@@transducer/result"]=function(i){return i.asImmutable()};var n=function(o,u){this.array=o,this.ownerID=u};n.prototype.removeBefore=function(o,u,f){if(f===u?1<<u:this.array.length===0)return this;var d=f>>>u&T;if(d>=this.array.length)return new n([],o);var m=d===0,y;if(u>0){var N=this.array[d];if(y=N&&N.removeBefore(o,u-Z,f),y===N&&m)return this}if(m&&!y)return this;var I=h(this,o);if(!m)for(var te=0;te<d;te++)I.array[te]=void 0;return y&&(I.array[d]=y),I},n.prototype.removeAfter=function(o,u,f){if(f===(u?1<<u:0)||this.array.length===0)return this;var d=f-1>>>u&T;if(d>=this.array.length)return this;var m;if(u>0){var y=this.array[d];if(m=y&&y.removeAfter(o,u-Z,f),m===y&&d===this.array.length-1)return this}var N=h(this,o);return N.array.splice(d+1),m&&(N.array[d]=m),N};var t={};function e(i,o){var u=i._origin,f=i._capacity,d=C(f),m=i._tail;return y(i._root,i._level,0);function y(te,ce,Ee){return ce===0?N(te,Ee):I(te,ce,Ee)}function N(te,ce){var Ee=ce===d?m&&m.array:te&&te.array,He=ce>u?0:u-ce,At=f-ce;return At>F&&(At=F),function(){if(He===At)return t;var wt=o?--At:He++;return Ee&&Ee[wt]}}function I(te,ce,Ee){var He,At=te&&te.array,wt=Ee>u?0:u-Ee>>ce,Bt=(f-Ee>>ce)+1;return Bt>F&&(Bt=F),function(){for(;;){if(He){var Hr=He();if(Hr!==t)return Hr;He=null}if(wt===Bt)return t;var pn=o?--Bt:wt++;He=y(At&&At[pn],ce-Z,Ee+(pn<<ce))}}}}function a(i,o,u,f,d,m,y){var N=Object.create(r);return N.size=o-i,N._origin=i,N._capacity=o,N._level=u,N._root=f,N._tail=d,N.__ownerID=m,N.__hash=y,N.__altered=!1,N}var s;function c(){return s||(s=a(0,0,Z))}function l(i,o,u){if(o=j(i,o),o!==o)return i;if(o>=i.size||o<0)return i.withMutations(function(y){o<0?_(y,o).set(0,u):_(y,0,o+1).set(o,u)});o+=i._origin;var f=i._tail,d=i._root,m=z();return o>=C(i._capacity)?f=v(f,i.__ownerID,0,o,u,m):d=v(d,i.__ownerID,i._level,o,u,m),m.value?i.__ownerID?(i._root=d,i._tail=f,i.__hash=void 0,i.__altered=!0,i):a(i._origin,i._capacity,i._level,d,f):i}function v(i,o,u,f,d,m){var y=f>>>u&T,N=i&&y<i.array.length;if(!N&&d===void 0)return i;var I;if(u>0){var te=i&&i.array[y],ce=v(te,o,u-Z,f,d,m);return ce===te?i:(I=h(i,o),I.array[y]=ce,I)}return N&&i.array[y]===d?i:(m&&Q(m),I=h(i,o),d===void 0&&y===I.array.length-1?I.array.pop():I.array[y]=d,I)}function h(i,o){return o&&i&&o===i.ownerID?i:new n(i?i.array.slice():[],o)}function A(i,o){if(o>=C(i._capacity))return i._tail;if(o<1<<i._level+Z){for(var u=i._root,f=i._level;u&&f>0;)u=u.array[o>>>f&T],f-=Z;return u}}function _(i,o,u){o!==void 0&&(o|=0),u!==void 0&&(u|=0);var f=i.__ownerID||new ye,d=i._origin,m=i._capacity,y=d+o,N=u===void 0?m:u<0?m+u:d+u;if(y===d&&N===m)return i;if(y>=N)return i.clear();for(var I=i._level,te=i._root,ce=0;y+ce<0;)te=new n(te&&te.array.length?[void 0,te]:[],f),I+=Z,ce+=1<<I;ce&&(y+=ce,d+=ce,N+=ce,m+=ce);for(var Ee=C(m),He=C(N);He>=1<<I+Z;)te=new n(te&&te.array.length?[te]:[],f),I+=Z;var At=i._tail,wt=He<Ee?A(i,N-1):He>Ee?new n([],f):At;if(At&&He>Ee&&y<m&&At.array.length){te=h(te,f);for(var Bt=te,Hr=I;Hr>Z;Hr-=Z){var pn=Ee>>>Hr&T;Bt=Bt.array[pn]=h(Bt.array[pn],f)}Bt.array[Ee>>>Z&T]=At}if(N<m&&(wt=wt&&wt.removeAfter(f,0,N)),y>=He)y-=He,N-=He,I=Z,te=null,wt=wt&&wt.removeBefore(f,0,y);else if(y>d||He<Ee){for(ce=0;te;){var Hn=y>>>I&T;if(Hn!==He>>>I&T)break;Hn&&(ce+=(1<<I)*Hn),I-=Z,te=te.array[Hn]}te&&y>d&&(te=te.removeBefore(f,I,y-ce)),te&&He<Ee&&(te=te.removeAfter(f,I,He-ce)),ce&&(y-=ce,N-=ce)}return i.__ownerID?(i.size=N-y,i._origin=y,i._capacity=N,i._level=I,i._root=te,i._tail=wt,i.__hash=void 0,i.__altered=!0,i):a(y,N,I,te,wt)}function C(i){return i<F?0:i-1>>>Z<<Z}var P=function(i){function o(u){return u==null?he():Yr(u)?u:he().withMutations(function(f){var d=ve(u);Sr(d.size),d.forEach(function(m,y){return f.set(y,m)})})}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return this(arguments)},o.prototype.toString=function(){return this.__toString("OrderedMap {","}")},o.prototype.get=function(f,d){var m=this._map.get(f);return m!==void 0?this._list.get(m)[1]:d},o.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._map.clear(),this._list.clear(),this.__altered=!0,this):he()},o.prototype.set=function(f,d){return De(this,f,d)},o.prototype.remove=function(f){return De(this,f,B)},o.prototype.__iterate=function(f,d){var m=this;return this._list.__iterate(function(y){return y&&f(y[1],y[0],m)},d)},o.prototype.__iterator=function(f,d){return this._list.fromEntrySeq().__iterator(f,d)},o.prototype.__ensureOwner=function(f){if(f===this.__ownerID)return this;var d=this._map.__ensureOwner(f),m=this._list.__ensureOwner(f);return f?fe(d,m,f,this.__hash):this.size===0?he():(this.__ownerID=f,this.__altered=!1,this._map=d,this._list=m,this)},o}(Rr);P.isOrderedMap=Yr,P.prototype[Ot]=!0,P.prototype[E]=P.prototype.remove;function fe(i,o,u,f){var d=Object.create(P.prototype);return d.size=i?i.size:0,d._map=i,d._list=o,d.__ownerID=u,d.__hash=f,d.__altered=!1,d}var ge;function he(){return ge||(ge=fe(Tr(),c()))}function De(i,o,u){var f=i._map,d=i._list,m=f.get(o),y=m!==void 0,N,I;if(u===B){if(!y)return i;d.size>=F&&d.size>=f.size*2?(I=d.filter(function(te,ce){return te!==void 0&&m!==ce}),N=I.toKeyedSeq().map(function(te){return te[0]}).flip().toMap(),i.__ownerID&&(N.__ownerID=I.__ownerID=i.__ownerID)):(N=f.remove(o),I=m===d.size-1?d.pop():d.set(m,void 0))}else if(y){if(u===d.get(m)[1])return i;N=f,I=d.set(m,[o,u])}else N=f.set(o,d.size),I=d.set(d.size,[o,u]);return i.__ownerID?(i.size=N.size,i._map=N,i._list=I,i.__hash=void 0,i.__altered=!0,i):fe(N,I)}var Je="@@__IMMUTABLE_STACK__@@";function ot(i){return!!(i&&i[Je])}var ft=function(i){function o(u){return u==null?g():ot(u)?u:g().pushAll(u)}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return this(arguments)},o.prototype.toString=function(){return this.__toString("Stack [","]")},o.prototype.get=function(f,d){var m=this._head;for(f=j(this,f);m&&f--;)m=m.next;return m?m.value:d},o.prototype.peek=function(){return this._head&&this._head.value},o.prototype.push=function(){var f=arguments;if(arguments.length===0)return this;for(var d=this.size+arguments.length,m=this._head,y=arguments.length-1;y>=0;y--)m={value:f[y],next:m};return this.__ownerID?(this.size=d,this._head=m,this.__hash=void 0,this.__altered=!0,this):vt(d,m)},o.prototype.pushAll=function(f){if(f=i(f),f.size===0)return this;if(this.size===0&&ot(f))return f;Sr(f.size);var d=this.size,m=this._head;return f.__iterate(function(y){d++,m={value:y,next:m}},!0),this.__ownerID?(this.size=d,this._head=m,this.__hash=void 0,this.__altered=!0,this):vt(d,m)},o.prototype.pop=function(){return this.slice(1)},o.prototype.clear=function(){return this.size===0?this:this.__ownerID?(this.size=0,this._head=void 0,this.__hash=void 0,this.__altered=!0,this):g()},o.prototype.slice=function(f,d){if(W(f,d,this.size))return this;var m=$(f,this.size),y=J(d,this.size);if(y!==this.size)return i.prototype.slice.call(this,f,d);for(var N=this.size-m,I=this._head;m--;)I=I.next;return this.__ownerID?(this.size=N,this._head=I,this.__hash=void 0,this.__altered=!0,this):vt(N,I)},o.prototype.__ensureOwner=function(f){return f===this.__ownerID?this:f?vt(this.size,this._head,f,this.__hash):this.size===0?g():(this.__ownerID=f,this.__altered=!1,this)},o.prototype.__iterate=function(f,d){var m=this;if(d)return new ur(this.toArray()).__iterate(function(I,te){return f(I,te,m)},d);for(var y=0,N=this._head;N&&f(N.value,y++,this)!==!1;)N=N.next;return y},o.prototype.__iterator=function(f,d){if(d)return new ur(this.toArray()).__iterator(f,d);var m=0,y=this._head;return new Me(function(){if(y){var N=y.value;return y=y.next,$e(f,m++,N)}return nt()})},o}(Qe);ft.isStack=ot;var Xe=ft.prototype;Xe[Je]=!0,Xe.shift=Xe.pop,Xe.unshift=Xe.push,Xe.unshiftAll=Xe.pushAll,Xe.withMutations=On,Xe.wasAltered=Vr,Xe.asImmutable=Wr,Xe["@@transducer/init"]=Xe.asMutable=Jr,Xe["@@transducer/step"]=function(i,o){return i.unshift(o)},Xe["@@transducer/result"]=function(i){return i.asImmutable()};function vt(i,o,u,f){var d=Object.create(Xe);return d.size=i,d._head=o,d.__ownerID=u,d.__hash=f,d.__altered=!1,d}var p;function g(){return p||(p=vt(0))}var w="@@__IMMUTABLE_SET__@@";function k(i){return!!(i&&i[w])}function b(i){return k(i)&&st(i)}function R(i,o){if(i===o)return!0;if(!Ne(o)||i.size!==void 0&&o.size!==void 0&&i.size!==o.size||i.__hash!==void 0&&o.__hash!==void 0&&i.__hash!==o.__hash||Ce(i)!==Ce(o)||Ze(i)!==Ze(o)||st(i)!==st(o))return!1;if(i.size===0&&o.size===0)return!0;var u=!It(i);if(st(i)){var f=i.entries();return o.every(function(I,te){var ce=f.next().value;return ce&&Lt(ce[1],I)&&(u||Lt(ce[0],te))})&&f.next().done}var d=!1;if(i.size===void 0)if(o.size===void 0)typeof i.cacheResult=="function"&&i.cacheResult();else{d=!0;var m=i;i=o,o=m}var y=!0,N=o.__iterate(function(I,te){if(u?!i.has(I):d?!Lt(I,i.get(te,B)):!Lt(i.get(te,B),I))return y=!1,!1});return y&&i.size===N}function M(i,o){var u=function(f){i.prototype[f]=o[f]};return Object.keys(o).forEach(u),Object.getOwnPropertySymbols&&Object.getOwnPropertySymbols(o).forEach(u),i}function q(i){if(!i||typeof i!="object")return i;if(!Ne(i)){if(!tt(i))return i;i=rr(i)}if(Ce(i)){var o={};return i.__iterate(function(f,d){o[d]=q(f)}),o}var u=[];return i.__iterate(function(f){u.push(q(f))}),u}var Y=function(i){function o(u){return u==null?le():k(u)&&!st(u)?u:le().withMutations(function(f){var d=i(u);Sr(d.size),d.forEach(function(m){return f.add(m)})})}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return this(arguments)},o.fromKeys=function(f){return this(ve(f).keySeq())},o.intersect=function(f){return f=ze(f).toArray(),f.length?D.intersect.apply(o(f.pop()),f):le()},o.union=function(f){return f=ze(f).toArray(),f.length?D.union.apply(o(f.pop()),f):le()},o.prototype.toString=function(){return this.__toString("Set {","}")},o.prototype.has=function(f){return this._map.has(f)},o.prototype.add=function(f){return L(this,this._map.set(f,f))},o.prototype.remove=function(f){return L(this,this._map.remove(f))},o.prototype.clear=function(){return L(this,this._map.clear())},o.prototype.map=function(f,d){var m=this,y=!1,N=L(this,this._map.mapEntries(function(I){var te=I[1],ce=f.call(d,te,te,m);return ce!==te&&(y=!0),[ce,ce]},d));return y?N:this},o.prototype.union=function(){for(var f=[],d=arguments.length;d--;)f[d]=arguments[d];return f=f.filter(function(m){return m.size!==0}),f.length===0?this:this.size===0&&!this.__ownerID&&f.length===1?this.constructor(f[0]):this.withMutations(function(m){for(var y=0;y<f.length;y++)typeof f[y]=="string"?m.add(f[y]):i(f[y]).forEach(function(N){return m.add(N)})})},o.prototype.intersect=function(){for(var f=[],d=arguments.length;d--;)f[d]=arguments[d];if(f.length===0)return this;f=f.map(function(y){return i(y)});var m=[];return this.forEach(function(y){f.every(function(N){return N.includes(y)})||m.push(y)}),this.withMutations(function(y){m.forEach(function(N){y.remove(N)})})},o.prototype.subtract=function(){for(var f=[],d=arguments.length;d--;)f[d]=arguments[d];if(f.length===0)return this;f=f.map(function(y){return i(y)});var m=[];return this.forEach(function(y){f.some(function(N){return N.includes(y)})&&m.push(y)}),this.withMutations(function(y){m.forEach(function(N){y.remove(N)})})},o.prototype.sort=function(f){return er(Ht(this,f))},o.prototype.sortBy=function(f,d){return er(Ht(this,d,f))},o.prototype.wasAltered=function(){return this._map.wasAltered()},o.prototype.__iterate=function(f,d){var m=this;return this._map.__iterate(function(y){return f(y,y,m)},d)},o.prototype.__iterator=function(f,d){return this._map.__iterator(f,d)},o.prototype.__ensureOwner=function(f){if(f===this.__ownerID)return this;var d=this._map.__ensureOwner(f);return f?this.__make(d,f):this.size===0?this.__empty():(this.__ownerID=f,this._map=d,this)},o}(et);Y.isSet=k;var D=Y.prototype;D[w]=!0,D[E]=D.remove,D.merge=D.concat=D.union,D.withMutations=On,D.asImmutable=Wr,D["@@transducer/init"]=D.asMutable=Jr,D["@@transducer/step"]=function(i,o){return i.add(o)},D["@@transducer/result"]=function(i){return i.asImmutable()},D.__empty=le,D.__make=ee;function L(i,o){return i.__ownerID?(i.size=o.size,i._map=o,i):o===i._map?i:o.size===0?i.__empty():i.__make(o)}function ee(i,o){var u=Object.create(D);return u.size=i?i.size:0,u._map=i,u.__ownerID=o,u}var se;function le(){return se||(se=ee(Tr()))}var ke=function(i){function o(u,f,d){if(!(this instanceof o))return new o(u,f,d);if($n(d!==0,"Cannot step a Range by 0"),u=u||0,f===void 0&&(f=1/0),d=d===void 0?1:Math.abs(d),f<u&&(d=-d),this._start=u,this._end=f,this._step=d,this.size=Math.max(0,Math.ceil((f-u)/d-1)+1),this.size===0){if(me)return me;me=this}}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.toString=function(){return this.size===0?"Range []":"Range [ "+this._start+"..."+this._end+(this._step!==1?" by "+this._step:"")+" ]"},o.prototype.get=function(f,d){return this.has(f)?this._start+j(this,f)*this._step:d},o.prototype.includes=function(f){var d=(f-this._start)/this._step;return d>=0&&d<this.size&&d===Math.floor(d)},o.prototype.slice=function(f,d){return W(f,d,this.size)?this:(f=$(f,this.size),d=J(d,this.size),d<=f?new o(0,0):new o(this.get(f,this._end),this.get(d,this._end),this._step))},o.prototype.indexOf=function(f){var d=f-this._start;if(d%this._step===0){var m=d/this._step;if(m>=0&&m<this.size)return m}return-1},o.prototype.lastIndexOf=function(f){return this.indexOf(f)},o.prototype.__iterate=function(f,d){for(var m=this.size,y=this._step,N=d?this._start+(m-1)*y:this._start,I=0;I!==m&&f(N,d?m-++I:I++,this)!==!1;)N+=d?-y:y;return I},o.prototype.__iterator=function(f,d){var m=this.size,y=this._step,N=d?this._start+(m-1)*y:this._start,I=0;return new Me(function(){if(I===m)return nt();var te=N;return N+=d?-y:y,$e(f,d?m-++I:I++,te)})},o.prototype.equals=function(f){return f instanceof o?this._start===f._start&&this._end===f._end&&this._step===f._step:R(this,f)},o}(Or),me;function Ae(i,o,u){for(var f=ae(o),d=0;d!==f.length;)if(i=nn(i,f[d++],B),i===B)return u;return i}function re(i,o){return Ae(this,i,o)}function G(i,o){return Ae(i,o,B)!==B}function _e(i){return G(this,i)}function Pe(){Sr(this.size);var i={};return this.__iterate(function(o,u){i[u]=o}),i}ze.isIterable=Ne,ze.isKeyed=Ce,ze.isIndexed=Ze,ze.isAssociative=It,ze.isOrdered=st,ze.Iterator=Me,M(ze,{toArray:function(){Sr(this.size);var o=new Array(this.size||0),u=Ce(this),f=0;return this.__iterate(function(d,m){o[f++]=u?[m,d]:d}),o},toIndexedSeq:function(){return new Ge(this)},toJS:function(){return q(this)},toKeyedSeq:function(){return new mt(this,!0)},toMap:function(){return Rr(this.toKeyedSeq())},toObject:Pe,toOrderedMap:function(){return P(this.toKeyedSeq())},toOrderedSet:function(){return er(Ce(this)?this.valueSeq():this)},toSet:function(){return Y(Ce(this)?this.valueSeq():this)},toSetSeq:function(){return new dt(this)},toSeq:function(){return Ze(this)?this.toIndexedSeq():Ce(this)?this.toKeyedSeq():this.toSetSeq()},toStack:function(){return ft(Ce(this)?this.valueSeq():this)},toList:function(){return Cn(Ce(this)?this.valueSeq():this)},toString:function(){return"[Collection]"},__toString:function(o,u){return this.size===0?o+u:o+" "+this.toSeq().map(this.__toStringMapper).join(", ")+" "+u},concat:function(){for(var o=[],u=arguments.length;u--;)o[u]=arguments[u];return bt(this,Kr(this,o))},includes:function(o){return this.some(function(u){return Lt(u,o)})},entries:function(){return this.__iterator(Pt)},every:function(o,u){Sr(this.size);var f=!0;return this.__iterate(function(d,m,y){if(!o.call(u,d,m,y))return f=!1,!1}),f},filter:function(o,u){return bt(this,br(this,o,u,!0))},partition:function(o,u){return Fn(this,o,u)},find:function(o,u,f){var d=this.findEntry(o,u);return d?d[1]:f},forEach:function(o,u){return Sr(this.size),this.__iterate(u?o.bind(u):o)},join:function(o){Sr(this.size),o=o!==void 0?""+o:",";var u="",f=!0;return this.__iterate(function(d){f?f=!1:u+=o,u+=d!=null?d.toString():""}),u},keys:function(){return this.__iterator(St)},map:function(o,u){return bt(this,Nr(this,o,u))},reduce:function(o,u,f){return Re(this,o,u,f,arguments.length<2,!1)},reduceRight:function(o,u,f){return Re(this,o,u,f,arguments.length<2,!0)},reverse:function(){return bt(this,hr(this,!0))},slice:function(o,u){return bt(this,Gr(this,o,u,!0))},some:function(o,u){Sr(this.size);var f=!1;return this.__iterate(function(d,m,y){if(o.call(u,d,m,y))return f=!0,!1}),f},sort:function(o){return bt(this,Ht(this,o))},values:function(){return this.__iterator(ct)},butLast:function(){return this.slice(0,-1)},isEmpty:function(){return this.size!==void 0?this.size===0:!this.some(function(){return!0})},count:function(o,u){return ne(o?this.toSeq().filter(o,u):this)},countBy:function(o,u){return rn(this,o,u)},equals:function(o){return R(this,o)},entrySeq:function(){var o=this;if(o._cache)return new ur(o._cache);var u=o.toSeq().map(oe).toIndexedSeq();return u.fromEntrySeq=function(){return o.toSeq()},u},filterNot:function(o,u){return this.filter(Se(o),u)},findEntry:function(o,u,f){var d=f;return this.__iterate(function(m,y,N){if(o.call(u,m,y,N))return d=[y,m],!1}),d},findKey:function(o,u){var f=this.findEntry(o,u);return f&&f[0]},findLast:function(o,u,f){return this.toKeyedSeq().reverse().find(o,u,f)},findLastEntry:function(o,u,f){return this.toKeyedSeq().reverse().findEntry(o,u,f)},findLastKey:function(o,u){return this.toKeyedSeq().reverse().findKey(o,u)},first:function(o){return this.find(K,null,o)},flatMap:function(o,u){return bt(this,qt(this,o,u))},flatten:function(o){return bt(this,Cr(this,o,!0))},fromEntrySeq:function(){return new ut(this)},get:function(o,u){return this.find(function(f,d){return Lt(d,o)},void 0,u)},getIn:re,groupBy:function(o,u){return Rn(this,o,u)},has:function(o){return this.get(o,B)!==B},hasIn:_e,isSubset:function(o){return o=typeof o.includes=="function"?o:ze(o),this.every(function(u){return o.includes(u)})},isSuperset:function(o){return o=typeof o.isSubset=="function"?o:ze(o),o.isSubset(this)},keyOf:function(o){return this.findKey(function(u){return Lt(u,o)})},keySeq:function(){return this.toSeq().map(Ve).toIndexedSeq()},last:function(o){return this.toSeq().reverse().first(o)},lastKeyOf:function(o){return this.toKeyedSeq().reverse().keyOf(o)},max:function(o){return Ct(this,o)},maxBy:function(o,u){return Ct(this,u,o)},min:function(o){return Ct(this,o?Le(o):Mt)},minBy:function(o,u){return Ct(this,u?Le(u):Mt,o)},rest:function(){return this.slice(1)},skip:function(o){return o===0?this:this.slice(Math.max(0,o))},skipLast:function(o){return o===0?this:this.slice(0,-Math.max(0,o))},skipWhile:function(o,u){return bt(this,Gn(this,o,u,!0))},skipUntil:function(o,u){return this.skipWhile(Se(o),u)},sortBy:function(o,u){return bt(this,Ht(this,u,o))},take:function(o){return this.slice(0,Math.max(0,o))},takeLast:function(o){return this.slice(-Math.max(0,o))},takeWhile:function(o,u){return bt(this,kn(this,o,u))},takeUntil:function(o,u){return this.takeWhile(Se(o),u)},update:function(o){return o(this)},valueSeq:function(){return this.toIndexedSeq()},hashCode:function(){return this.__hash||(this.__hash=Xt(this))}});var be=ze.prototype;be[xe]=!0,be[lt]=be.values,be.toJSON=be.toArray,be.__toStringMapper=Dr,be.inspect=be.toSource=function(){return this.toString()},be.chain=be.flatMap,be.contains=be.includes,M(ve,{flip:function(){return bt(this,Dt(this))},mapEntries:function(o,u){var f=this,d=0;return bt(this,this.toSeq().map(function(m,y){return o.call(u,[y,m],d++,f)}).fromEntrySeq())},mapKeys:function(o,u){var f=this;return bt(this,this.toSeq().flip().map(function(d,m){return o.call(u,d,m,f)}).flip())}});var je=ve.prototype;je[We]=!0,je[lt]=be.entries,je.toJSON=Pe,je.__toStringMapper=function(i,o){return Dr(o)+": "+Dr(i)},M(Qe,{toKeyedSeq:function(){return new mt(this,!1)},filter:function(o,u){return bt(this,br(this,o,u,!1))},findIndex:function(o,u){var f=this.findEntry(o,u);return f?f[0]:-1},indexOf:function(o){var u=this.keyOf(o);return u===void 0?-1:u},lastIndexOf:function(o){var u=this.lastKeyOf(o);return u===void 0?-1:u},reverse:function(){return bt(this,hr(this,!1))},slice:function(o,u){return bt(this,Gr(this,o,u,!1))},splice:function(o,u){var f=arguments.length;if(u=Math.max(u||0,0),f===0||f===2&&!u)return this;o=$(o,o<0?this.count():this.size);var d=this.slice(0,o);return bt(this,f===1?d:d.concat(Ar(arguments,2),this.slice(o+u)))},findLastIndex:function(o,u){var f=this.findLastEntry(o,u);return f?f[0]:-1},first:function(o){return this.get(0,o)},flatten:function(o){return bt(this,Cr(this,o,!1))},get:function(o,u){return o=j(this,o),o<0||this.size===1/0||this.size!==void 0&&o>this.size?u:this.find(function(f,d){return d===o},void 0,u)},has:function(o){return o=j(this,o),o>=0&&(this.size!==void 0?this.size===1/0||o<this.size:this.indexOf(o)!==-1)},interpose:function(o){return bt(this,kt(this,o))},interleave:function(){var o=[this].concat(Ar(arguments)),u=nr(this.toSeq(),Or.of,o),f=u.flatten(!0);return u.size&&(f.size=u.size*o.length),bt(this,f)},keySeq:function(){return ke(0,this.size)},last:function(o){return this.get(-1,o)},skipWhile:function(o,u){return bt(this,Gn(this,o,u,!1))},zip:function(){var o=[this].concat(Ar(arguments));return bt(this,nr(this,at,o))},zipAll:function(){var o=[this].concat(Ar(arguments));return bt(this,nr(this,at,o,!0))},zipWith:function(o){var u=Ar(arguments);return u[0]=this,bt(this,nr(this,o,u))}});var pe=Qe.prototype;pe[ht]=!0,pe[Ot]=!0,M(et,{get:function(o,u){return this.has(o)?o:u},includes:function(o){return this.has(o)},keySeq:function(){return this.valueSeq()}});var Oe=et.prototype;Oe.has=be.includes,Oe.contains=Oe.includes,Oe.keys=Oe.values,M(Fe,je),M(Or,pe),M(xt,Oe);function Re(i,o,u,f,d,m){return Sr(i.size),i.__iterate(function(y,N,I){d?(d=!1,u=y):u=o.call(f,u,y,N,I)},m),u}function Ve(i,o){return o}function oe(i,o){return[o,i]}function Se(i){return function(){return!i.apply(this,arguments)}}function Le(i){return function(){return-i.apply(this,arguments)}}function at(){return Ar(arguments)}function Mt(i,o){return i<o?1:i>o?-1:0}function Xt(i){if(i.size===1/0)return 0;var o=st(i),u=Ce(i),f=o?1:0,d=i.__iterate(u?o?function(m,y){f=31*f+tr(cr(m),cr(y))|0}:function(m,y){f=f+tr(cr(m),cr(y))|0}:o?function(m){f=31*f+cr(m)|0}:function(m){f=f+cr(m)|0});return ir(d,f)}function ir(i,o){return o=Zt(o,3432918353),o=Zt(o<<15|o>>>-15,461845907),o=Zt(o<<13|o>>>-13,5),o=(o+3864292196|0)^i,o=Zt(o^o>>>16,2246822507),o=Zt(o^o>>>13,3266489909),o=Zr(o^o>>>16),o}function tr(i,o){return i^o+2654435769+(i<<6)+(i>>2)|0}var er=function(i){function o(u){return u==null?Er():b(u)?u:Er().withMutations(function(f){var d=et(u);Sr(d.size),d.forEach(function(m){return f.add(m)})})}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.of=function(){return this(arguments)},o.fromKeys=function(f){return this(ve(f).keySeq())},o.prototype.toString=function(){return this.__toString("OrderedSet {","}")},o}(Y);er.isOrderedSet=b;var dr=er.prototype;dr[Ot]=!0,dr.zip=pe.zip,dr.zipWith=pe.zipWith,dr.zipAll=pe.zipAll,dr.__empty=Er,dr.__make=mr;function mr(i,o){var u=Object.create(dr);return u.size=i?i.size:0,u._map=i,u.__ownerID=o,u}var _r;function Er(){return _r||(_r=mr(he()))}var Lr={LeftThenRight:-1,RightThenLeft:1};function zr(i){if(de(i))throw new Error("Can not call `Record` with an immutable Record as default values. Use a plain javascript object instead.");if(Ue(i))throw new Error("Can not call `Record` with an immutable Collection as default values. Use a plain javascript object instead.");if(i===null||typeof i!="object")throw new Error("Can not call `Record` with a non-object as default values. Use a plain javascript object instead.")}var vr=function(o,u){var f;zr(o);var d=function(N){var I=this;if(N instanceof d)return N;if(!(this instanceof d))return new d(N);if(!f){f=!0;var te=Object.keys(o),ce=m._indices={};m._name=u,m._keys=te,m._defaultValues=o;for(var Ee=0;Ee<te.length;Ee++){var He=te[Ee];ce[He]=Ee,m[He]?typeof console=="object"&&console.warn&&console.warn("Cannot define "+ha(this)+' with property "'+He+'" since that property name is part of the Record API.'):wa(m,He)}}return this.__ownerID=void 0,this._values=Cn().withMutations(function(At){At.setSize(I._keys.length),ve(N).forEach(function(wt,Bt){At.set(I._indices[Bt],wt===I._defaultValues[Bt]?void 0:wt)})}),this},m=d.prototype=Object.create(Gt);return m.constructor=d,u&&(d.displayName=u),d};vr.prototype.toString=function(){for(var o=ha(this)+" { ",u=this._keys,f,d=0,m=u.length;d!==m;d++)f=u[d],o+=(d?", ":"")+f+": "+Dr(this.get(f));return o+" }"},vr.prototype.equals=function(o){return this===o||de(o)&&fa(this).equals(fa(o))},vr.prototype.hashCode=function(){return fa(this).hashCode()},vr.prototype.has=function(o){return this._indices.hasOwnProperty(o)},vr.prototype.get=function(o,u){if(!this.has(o))return u;var f=this._indices[o],d=this._values.get(f);return d===void 0?this._defaultValues[o]:d},vr.prototype.set=function(o,u){if(this.has(o)){var f=this._values.set(this._indices[o],u===this._defaultValues[o]?void 0:u);if(f!==this._values&&!this.__ownerID)return va(this,f)}return this},vr.prototype.remove=function(o){return this.set(o)},vr.prototype.clear=function(){var o=this._values.clear().setSize(this._keys.length);return this.__ownerID?this:va(this,o)},vr.prototype.wasAltered=function(){return this._values.wasAltered()},vr.prototype.toSeq=function(){return fa(this)},vr.prototype.toJS=function(){return q(this)},vr.prototype.entries=function(){return this.__iterator(Pt)},vr.prototype.__iterator=function(o,u){return fa(this).__iterator(o,u)},vr.prototype.__iterate=function(o,u){return fa(this).__iterate(o,u)},vr.prototype.__ensureOwner=function(o){if(o===this.__ownerID)return this;var u=this._values.__ensureOwner(o);return o?va(this,u,o):(this.__ownerID=o,this._values=u,this)},vr.isRecord=de,vr.getDescriptiveName=ha;var Gt=vr.prototype;Gt[Ye]=!0,Gt[E]=Gt.remove,Gt.deleteIn=Gt.removeIn=Un,Gt.getIn=re,Gt.hasIn=be.hasIn,Gt.merge=xr,Gt.mergeWith=In,Gt.mergeIn=Jn,Gt.mergeDeep=Dn,Gt.mergeDeepWith=_n,Gt.mergeDeepIn=Wt,Gt.setIn=tn,Gt.update=xn,Gt.updateIn=qn,Gt.withMutations=On,Gt.asMutable=Jr,Gt.asImmutable=Wr,Gt[lt]=Gt.entries,Gt.toJSON=Gt.toObject=be.toObject,Gt.inspect=Gt.toSource=function(){return this.toString()};function va(i,o,u){var f=Object.create(Object.getPrototypeOf(i));return f._values=o,f.__ownerID=u,f}function ha(i){return i.constructor.displayName||i.constructor.name||"Record"}function fa(i){return sn(i._keys.map(function(o){return[o,i.get(o)]}))}function wa(i,o){try{Object.defineProperty(i,o,{get:function(){return this.get(o)},set:function(u){$n(this.__ownerID,"Cannot set on an immutable record."),this.set(o,u)}})}catch{}}var ma=function(i){function o(u,f){if(!(this instanceof o))return new o(u,f);if(this._value=u,this.size=f===void 0?1/0:Math.max(0,f),this.size===0){if(pa)return pa;pa=this}}return i&&(o.__proto__=i),o.prototype=Object.create(i&&i.prototype),o.prototype.constructor=o,o.prototype.toString=function(){return this.size===0?"Repeat []":"Repeat [ "+this._value+" "+this.size+" times ]"},o.prototype.get=function(f,d){return this.has(f)?this._value:d},o.prototype.includes=function(f){return Lt(this._value,f)},o.prototype.slice=function(f,d){var m=this.size;return W(f,d,m)?this:new o(this._value,J(d,m)-$(f,m))},o.prototype.reverse=function(){return this},o.prototype.indexOf=function(f){return Lt(this._value,f)?0:-1},o.prototype.lastIndexOf=function(f){return Lt(this._value,f)?this.size:-1},o.prototype.__iterate=function(f,d){for(var m=this.size,y=0;y!==m&&f(this._value,d?m-++y:y++,this)!==!1;);return y},o.prototype.__iterator=function(f,d){var m=this,y=this.size,N=0;return new Me(function(){return N===y?nt():$e(f,d?y-++N:N++,m._value)})},o.prototype.equals=function(f){return f instanceof o?Lt(this._value,f._value):R(f)},o}(Or),pa;function ga(i,o){return ya([],o||ba,i,"",o&&o.length>2?[]:void 0,{"":i})}function ya(i,o,u,f,d,m){if(typeof u!="string"&&!Ue(u)&&(jr(u)||Et(u)||$t(u))){if(~i.indexOf(u))throw new TypeError("Cannot convert circular structure to Immutable");i.push(u),d&&f!==""&&d.push(f);var y=o.call(m,f,rr(u).map(function(N,I){return ya(i,o,N,I,d,u)}),d&&d.slice());return i.pop(),d&&d.pop(),y}return u}function ba(i,o){return Ze(o)?o.toList():Ce(o)?o.toMap():o.toSet()}var ka="4.3.5",Aa={version:ka,Collection:ze,Iterable:ze,Seq:rr,Map:Rr,OrderedMap:P,List:Cn,Stack:ft,Set:Y,OrderedSet:er,PairSorting:Lr,Record:vr,Range:ke,Repeat:ma,is:Lt,fromJS:ga,hash:cr,isImmutable:Ue,isCollection:Ne,isKeyed:Ce,isIndexed:Ze,isAssociative:It,isOrdered:st,isValueObject:jt,isPlainObject:$t,isSeq:gt,isList:Ln,isMap:Qt,isOrderedMap:Yr,isStack:ot,isSet:k,isOrderedSet:b,isRecord:de,get:nn,getIn:Ae,has:Ur,hasIn:G,merge:ea,mergeDeep:ra,mergeWith:ta,mergeDeepWith:na,remove:en,removeIn:Pr,set:bn,setIn:An,update:Bn,updateIn:qr},xa=ze;Ie.default=Aa},"../../node_modules/is-hotkey/lib/index.js":function(Ke,Ie){"use strict";var X;X={value:!0};for(var E=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Z={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},F={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:E?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},T={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},B=1;B<20;B++)T["f"+B]=111+B;function z($,J,ie){J&&!("byKey"in J)&&(ie=J,J=null),Array.isArray($)||($=[$]);var ue=$.map(function(We){return ne(We,J)}),xe=function(Ce){return ue.some(function(ht){return j(ht,Ce)})},Ne=ie==null?xe:xe(ie);return Ne}function Q($,J){return z($,J)}function ye($,J){return z($,{byKey:!0},J)}function ne($,J){var ie=J&&J.byKey,ue={};$=$.replace("++","+add");var xe=$.split("+"),Ne=xe.length;for(var We in Z)ue[Z[We]]=!1;var Ce=!0,ht=!1,Ze=void 0;try{for(var It=xe[Symbol.iterator](),ze;!(Ce=(ze=It.next()).done);Ce=!0){var ve=ze.value,Qe=ve.endsWith("?")&&ve.length>1;Qe&&(ve=ve.slice(0,-1));var et=W(ve),it=Z[et];if(ve.length>1&&!it&&!F[ve]&&!T[et])throw new TypeError('Unknown modifier: "'+ve+'"');(Ne===1||!it)&&(ie?ue.key=et:ue.which=K(ve)),it&&(ue[it]=Qe?null:!0)}}catch(gt){ht=!0,Ze=gt}finally{try{!Ce&&It.return&&It.return()}finally{if(ht)throw Ze}}return ue}function j($,J){for(var ie in $){var ue=$[ie],xe=void 0;if(ue!=null&&(ie==="key"&&J.key!=null?xe=J.key.toLowerCase():ie==="which"?xe=ue===91&&J.which===93?91:J.which:xe=J[ie],!(xe==null&&ue===!1)&&xe!==ue))return!1}return!0}function K($){$=W($);var J=T[$]||$.toUpperCase().charCodeAt(0);return J}function W($){return $=$.toLowerCase(),$=F[$]||$,$}X=z,X=z,X=Q,Ie.Sn=ye,X=ne,X=j,X=K,X=W},"../../node_modules/isobject/index.js":function(Ke){"use strict";/*!
 * isobject <https://github.com/jonschlinkert/isobject>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */Ke.exports=function(X){return X!=null&&typeof X=="object"&&Array.isArray(X)===!1}},"../../node_modules/isomorphic-base64/browser.js":function(Ke,Ie){"use strict";Ie.l=self.atob.bind(self),Ie.E=self.btoa.bind(self)},"../../node_modules/lodash/_baseSlice.js":function(Ke){function Ie(X,E,Z){var F=-1,T=X.length;E<0&&(E=-E>T?0:T+E),Z=Z>T?T:Z,Z<0&&(Z+=T),T=E>Z?0:Z-E>>>0,E>>>=0;for(var B=Array(T);++F<T;)B[F]=X[F+E];return B}Ke.exports=Ie},"../../node_modules/lodash/_baseTrim.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/_trimmedEndIndex.js"),Z=/^\s+/;function F(T){return T&&T.slice(0,E(T)+1).replace(Z,"")}Ke.exports=F},"../../node_modules/lodash/_baseUnset.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/_castPath.js"),Z=X("../../node_modules/lodash/last.js"),F=X("../../node_modules/lodash/_parent.js"),T=X("../../node_modules/lodash/_toKey.js");function B(z,Q){return Q=E(Q,z),z=F(z,Q),z==null||delete z[T(Z(Q))]}Ke.exports=B},"../../node_modules/lodash/_customOmitClone.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/isPlainObject.js");function Z(F){return E(F)?void 0:F}Ke.exports=Z},"../../node_modules/lodash/_parent.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/_baseGet.js"),Z=X("../../node_modules/lodash/_baseSlice.js");function F(T,B){return B.length<2?T:E(T,Z(B,0,-1))}Ke.exports=F},"../../node_modules/lodash/_trimmedEndIndex.js":function(Ke){var Ie=/\s/;function X(E){for(var Z=E.length;Z--&&Ie.test(E.charAt(Z)););return Z}Ke.exports=X},"../../node_modules/lodash/debounce.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/isObject.js"),Z=X("../../node_modules/lodash/now.js"),F=X("../../node_modules/lodash/toNumber.js"),T="Expected a function",B=Math.max,z=Math.min;function Q(ye,ne,j){var K,W,$,J,ie,ue,xe=0,Ne=!1,We=!1,Ce=!0;if(typeof ye!="function")throw new TypeError(T);ne=F(ne)||0,E(j)&&(Ne=!!j.leading,We="maxWait"in j,$=We?B(F(j.maxWait)||0,ne):$,Ce="trailing"in j?!!j.trailing:Ce);function ht(Ye){var de=K,Ue=W;return K=W=void 0,xe=Ye,J=ye.apply(Ue,de),J}function Ze(Ye){return xe=Ye,ie=setTimeout(ve,ne),Ne?ht(Ye):J}function It(Ye){var de=Ye-ue,Ue=Ye-xe,Ot=ne-de;return We?z(Ot,$-Ue):Ot}function ze(Ye){var de=Ye-ue,Ue=Ye-xe;return ue===void 0||de>=ne||de<0||We&&Ue>=$}function ve(){var Ye=Z();if(ze(Ye))return Qe(Ye);ie=setTimeout(ve,It(Ye))}function Qe(Ye){return ie=void 0,Ce&&K?ht(Ye):(K=W=void 0,J)}function et(){ie!==void 0&&clearTimeout(ie),xe=0,K=ue=W=ie=void 0}function it(){return ie===void 0?J:Qe(Z())}function gt(){var Ye=Z(),de=ze(Ye);if(K=arguments,W=this,ue=Ye,de){if(ie===void 0)return Ze(ue);if(We)return clearTimeout(ie),ie=setTimeout(ve,ne),ht(ue)}return ie===void 0&&(ie=setTimeout(ve,ne)),J}return gt.cancel=et,gt.flush=it,gt}Ke.exports=Q},"../../node_modules/lodash/last.js":function(Ke){function Ie(X){var E=X==null?0:X.length;return E?X[E-1]:void 0}Ke.exports=Ie},"../../node_modules/lodash/now.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/_root.js"),Z=function(){return E.Date.now()};Ke.exports=Z},"../../node_modules/lodash/omit.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/_arrayMap.js"),Z=X("../../node_modules/lodash/_baseClone.js"),F=X("../../node_modules/lodash/_baseUnset.js"),T=X("../../node_modules/lodash/_castPath.js"),B=X("../../node_modules/lodash/_copyObject.js"),z=X("../../node_modules/lodash/_customOmitClone.js"),Q=X("../../node_modules/lodash/_flatRest.js"),ye=X("../../node_modules/lodash/_getAllKeysIn.js"),ne=1,j=2,K=4,W=Q(function($,J){var ie={};if($==null)return ie;var ue=!1;J=E(J,function(Ne){return Ne=T(Ne,$),ue||(ue=Ne.length>1),Ne}),B($,ye($),ie),ue&&(ie=Z(ie,ne|j|K,z));for(var xe=J.length;xe--;)F(ie,J[xe]);return ie});Ke.exports=W},"../../node_modules/lodash/throttle.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/debounce.js"),Z=X("../../node_modules/lodash/isObject.js"),F="Expected a function";function T(B,z,Q){var ye=!0,ne=!0;if(typeof B!="function")throw new TypeError(F);return Z(Q)&&(ye="leading"in Q?!!Q.leading:ye,ne="trailing"in Q?!!Q.trailing:ne),E(B,z,{leading:ye,maxWait:z,trailing:ne})}Ke.exports=T},"../../node_modules/lodash/toNumber.js":function(Ke,Ie,X){var E=X("../../node_modules/lodash/_baseTrim.js"),Z=X("../../node_modules/lodash/isObject.js"),F=X("../../node_modules/lodash/isSymbol.js"),T=0/0,B=/^[-+]0x[0-9a-f]+$/i,z=/^0b[01]+$/i,Q=/^0o[0-7]+$/i,ye=parseInt;function ne(j){if(typeof j=="number")return j;if(F(j))return T;if(Z(j)){var K=typeof j.valueOf=="function"?j.valueOf():j;j=Z(K)?K+"":K}if(typeof j!="string")return j===0?j:+j;j=E(j);var W=z.test(j);return W||Q.test(j)?ye(j.slice(2),W?2:8):B.test(j)?T:+j}Ke.exports=ne},"../../node_modules/marked-mangle/src/index.js":function(Ke,Ie,X){"use strict";X.d(Ie,{z:function(){return E}});function E(){return{mangle:!1,walkTokens(F){if(F.type!=="link"||!F.href.startsWith("mailto:"))return;const T=F.href.substring(7),B=Z(T);F.href=`mailto:${B}`,!(F.tokens.length!==1||F.tokens[0].type!=="text"||F.tokens[0].text!==T)&&(F.text=B,F.tokens[0].text=B)}}}function Z(F){let T="",B,z;const Q=F.length;for(B=0;B<Q;B++)z=F.charCodeAt(B),Math.random()>.5&&(z="x"+z.toString(16)),T+="&#"+z+";";return T}},"../../node_modules/marked/lib/marked.esm.js":function(Ke,Ie,X){"use strict";X.d(Ie,{xI:function(){return pt}});function E(){return{async:!1,breaks:!1,extensions:null,gfm:!0,hooks:null,pedantic:!1,renderer:null,silent:!1,tokenizer:null,walkTokens:null}}let Z=E();function F(rt){Z=rt}const T=/[&<>"']/,B=new RegExp(T.source,"g"),z=/[<>"']|&(?!(#\d{1,7}|#[Xx][a-fA-F0-9]{1,6}|\w+);)/,Q=new RegExp(z.source,"g"),ye={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ne=rt=>ye[rt];function j(rt,S){if(S){if(T.test(rt))return rt.replace(B,ne)}else if(z.test(rt))return rt.replace(Q,ne);return rt}const K=/&(#(?:\d+)|(?:#x[0-9A-Fa-f]+)|(?:\w+));?/ig;function W(rt){return rt.replace(K,(S,x)=>(x=x.toLowerCase(),x==="colon"?":":x.charAt(0)==="#"?x.charAt(1)==="x"?String.fromCharCode(parseInt(x.substring(2),16)):String.fromCharCode(+x.substring(1)):""))}const $=/(^|[^\[])\^/g;function J(rt,S){let x=typeof rt=="string"?rt:rt.source;S=S||"";const O={replace:(V,H)=>{let U=typeof H=="string"?H:H.source;return U=U.replace($,"$1"),x=x.replace(V,U),O},getRegex:()=>new RegExp(x,S)};return O}function ie(rt){try{rt=encodeURI(rt).replace(/%25/g,"%")}catch{return null}return rt}const ue={exec:()=>null};function xe(rt,S){const x=rt.replace(/\|/g,(H,U,Te)=>{let Be=!1,mt=U;for(;--mt>=0&&Te[mt]==="\\";)Be=!Be;return Be?"|":" |"}),O=x.split(/ \|/);let V=0;if(O[0].trim()||O.shift(),O.length>0&&!O[O.length-1].trim()&&O.pop(),S)if(O.length>S)O.splice(S);else for(;O.length<S;)O.push("");for(;V<O.length;V++)O[V]=O[V].trim().replace(/\\\|/g,"|");return O}function Ne(rt,S,x){const O=rt.length;if(O===0)return"";let V=0;for(;V<O;){const H=rt.charAt(O-V-1);if(H===S&&!x)V++;else if(H!==S&&x)V++;else break}return rt.slice(0,O-V)}function We(rt,S){if(rt.indexOf(S[1])===-1)return-1;let x=0;for(let O=0;O<rt.length;O++)if(rt[O]==="\\")O++;else if(rt[O]===S[0])x++;else if(rt[O]===S[1]&&(x--,x<0))return O;return-1}function Ce(rt,S,x,O){const V=S.href,H=S.title?j(S.title):null,U=rt[1].replace(/\\([\[\]])/g,"$1");if(rt[0].charAt(0)!=="!"){O.state.inLink=!0;const Te={type:"link",raw:x,href:V,title:H,text:U,tokens:O.inlineTokens(U)};return O.state.inLink=!1,Te}return{type:"image",raw:x,href:V,title:H,text:j(U)}}function ht(rt,S){const x=rt.match(/^(\s+)(?:```)/);if(x===null)return S;const O=x[1];return S.split(`
`).map(V=>{const H=V.match(/^\s+/);if(H===null)return V;const[U]=H;return U.length>=O.length?V.slice(O.length):V}).join(`
`)}class Ze{options;rules;lexer;constructor(S){this.options=S||Z}space(S){const x=this.rules.block.newline.exec(S);if(x&&x[0].length>0)return{type:"space",raw:x[0]}}code(S){const x=this.rules.block.code.exec(S);if(x){const O=x[0].replace(/^ {1,4}/gm,"");return{type:"code",raw:x[0],codeBlockStyle:"indented",text:this.options.pedantic?O:Ne(O,`
`)}}}fences(S){const x=this.rules.block.fences.exec(S);if(x){const O=x[0],V=ht(O,x[3]||"");return{type:"code",raw:O,lang:x[2]?x[2].trim().replace(this.rules.inline.anyPunctuation,"$1"):x[2],text:V}}}heading(S){const x=this.rules.block.heading.exec(S);if(x){let O=x[2].trim();if(/#$/.test(O)){const V=Ne(O,"#");(this.options.pedantic||!V||/ $/.test(V))&&(O=V.trim())}return{type:"heading",raw:x[0],depth:x[1].length,text:O,tokens:this.lexer.inline(O)}}}hr(S){const x=this.rules.block.hr.exec(S);if(x)return{type:"hr",raw:x[0]}}blockquote(S){const x=this.rules.block.blockquote.exec(S);if(x){const O=Ne(x[0].replace(/^ *>[ \t]?/gm,""),`
`),V=this.lexer.state.top;this.lexer.state.top=!0;const H=this.lexer.blockTokens(O);return this.lexer.state.top=V,{type:"blockquote",raw:x[0],tokens:H,text:O}}}list(S){let x=this.rules.block.list.exec(S);if(x){let O=x[1].trim();const V=O.length>1,H={type:"list",raw:"",ordered:V,start:V?+O.slice(0,-1):"",loose:!1,items:[]};O=V?`\\d{1,9}\\${O.slice(-1)}`:`\\${O}`,this.options.pedantic&&(O=V?O:"[*+-]");const U=new RegExp(`^( {0,3}${O})((?:[	 ][^\\n]*)?(?:\\n|$))`);let Te="",Be="",mt=!1;for(;S;){let Ge=!1;if(!(x=U.exec(S))||this.rules.block.hr.test(S))break;Te=x[0],S=S.substring(Te.length);let dt=x[2].split(`
`,1)[0].replace(/^\t+/,rn=>" ".repeat(3*rn.length)),ut=S.split(`
`,1)[0],Dt=0;this.options.pedantic?(Dt=2,Be=dt.trimStart()):(Dt=x[2].search(/[^ ]/),Dt=Dt>4?1:Dt,Be=dt.slice(Dt),Dt+=x[1].length);let Nr=!1;if(!dt&&/^ *$/.test(ut)&&(Te+=ut+`
`,S=S.substring(ut.length+1),Ge=!0),!Ge){const rn=new RegExp(`^ {0,${Math.min(3,Dt-1)}}(?:[*+-]|\\d{1,9}[.)])((?:[ 	][^\\n]*)?(?:\\n|$))`),Rn=new RegExp(`^ {0,${Math.min(3,Dt-1)}}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)`),Fn=new RegExp(`^ {0,${Math.min(3,Dt-1)}}(?:\`\`\`|~~~)`),Gr=new RegExp(`^ {0,${Math.min(3,Dt-1)}}#`);for(;S;){const kn=S.split(`
`,1)[0];if(ut=kn,this.options.pedantic&&(ut=ut.replace(/^ {1,4}(?=( {4})*[^ ])/g,"  ")),Fn.test(ut)||Gr.test(ut)||rn.test(ut)||Rn.test(S))break;if(ut.search(/[^ ]/)>=Dt||!ut.trim())Be+=`
`+ut.slice(Dt);else{if(Nr||dt.search(/[^ ]/)>=4||Fn.test(dt)||Gr.test(dt)||Rn.test(dt))break;Be+=`
`+ut}!Nr&&!ut.trim()&&(Nr=!0),Te+=kn+`
`,S=S.substring(kn.length+1),dt=ut.slice(Dt)}}H.loose||(mt?H.loose=!0:/\n *\n *$/.test(Te)&&(mt=!0));let hr=null,br;this.options.gfm&&(hr=/^\[[ xX]\] /.exec(Be),hr&&(br=hr[0]!=="[ ] ",Be=Be.replace(/^\[[ xX]\] +/,""))),H.items.push({type:"list_item",raw:Te,task:!!hr,checked:br,loose:!1,text:Be,tokens:[]}),H.raw+=Te}H.items[H.items.length-1].raw=Te.trimEnd(),H.items[H.items.length-1].text=Be.trimEnd(),H.raw=H.raw.trimEnd();for(let Ge=0;Ge<H.items.length;Ge++)if(this.lexer.state.top=!1,H.items[Ge].tokens=this.lexer.blockTokens(H.items[Ge].text,[]),!H.loose){const dt=H.items[Ge].tokens.filter(Dt=>Dt.type==="space"),ut=dt.length>0&&dt.some(Dt=>/\n.*\n/.test(Dt.raw));H.loose=ut}if(H.loose)for(let Ge=0;Ge<H.items.length;Ge++)H.items[Ge].loose=!0;return H}}html(S){const x=this.rules.block.html.exec(S);if(x)return{type:"html",block:!0,raw:x[0],pre:x[1]==="pre"||x[1]==="script"||x[1]==="style",text:x[0]}}def(S){const x=this.rules.block.def.exec(S);if(x){const O=x[1].toLowerCase().replace(/\s+/g," "),V=x[2]?x[2].replace(/^<(.*)>$/,"$1").replace(this.rules.inline.anyPunctuation,"$1"):"",H=x[3]?x[3].substring(1,x[3].length-1).replace(this.rules.inline.anyPunctuation,"$1"):x[3];return{type:"def",tag:O,raw:x[0],href:V,title:H}}}table(S){const x=this.rules.block.table.exec(S);if(!x||!/[:|]/.test(x[2]))return;const O=xe(x[1]),V=x[2].replace(/^\||\| *$/g,"").split("|"),H=x[3]&&x[3].trim()?x[3].replace(/\n[ \t]*$/,"").split(`
`):[],U={type:"table",raw:x[0],header:[],align:[],rows:[]};if(O.length===V.length){for(const Te of V)/^ *-+: *$/.test(Te)?U.align.push("right"):/^ *:-+: *$/.test(Te)?U.align.push("center"):/^ *:-+ *$/.test(Te)?U.align.push("left"):U.align.push(null);for(const Te of O)U.header.push({text:Te,tokens:this.lexer.inline(Te)});for(const Te of H)U.rows.push(xe(Te,U.header.length).map(Be=>({text:Be,tokens:this.lexer.inline(Be)})));return U}}lheading(S){const x=this.rules.block.lheading.exec(S);if(x)return{type:"heading",raw:x[0],depth:x[2].charAt(0)==="="?1:2,text:x[1],tokens:this.lexer.inline(x[1])}}paragraph(S){const x=this.rules.block.paragraph.exec(S);if(x){const O=x[1].charAt(x[1].length-1)===`
`?x[1].slice(0,-1):x[1];return{type:"paragraph",raw:x[0],text:O,tokens:this.lexer.inline(O)}}}text(S){const x=this.rules.block.text.exec(S);if(x)return{type:"text",raw:x[0],text:x[0],tokens:this.lexer.inline(x[0])}}escape(S){const x=this.rules.inline.escape.exec(S);if(x)return{type:"escape",raw:x[0],text:j(x[1])}}tag(S){const x=this.rules.inline.tag.exec(S);if(x)return!this.lexer.state.inLink&&/^<a /i.test(x[0])?this.lexer.state.inLink=!0:this.lexer.state.inLink&&/^<\/a>/i.test(x[0])&&(this.lexer.state.inLink=!1),!this.lexer.state.inRawBlock&&/^<(pre|code|kbd|script)(\s|>)/i.test(x[0])?this.lexer.state.inRawBlock=!0:this.lexer.state.inRawBlock&&/^<\/(pre|code|kbd|script)(\s|>)/i.test(x[0])&&(this.lexer.state.inRawBlock=!1),{type:"html",raw:x[0],inLink:this.lexer.state.inLink,inRawBlock:this.lexer.state.inRawBlock,block:!1,text:x[0]}}link(S){const x=this.rules.inline.link.exec(S);if(x){const O=x[2].trim();if(!this.options.pedantic&&/^</.test(O)){if(!/>$/.test(O))return;const U=Ne(O.slice(0,-1),"\\");if((O.length-U.length)%2===0)return}else{const U=We(x[2],"()");if(U>-1){const Be=(x[0].indexOf("!")===0?5:4)+x[1].length+U;x[2]=x[2].substring(0,U),x[0]=x[0].substring(0,Be).trim(),x[3]=""}}let V=x[2],H="";if(this.options.pedantic){const U=/^([^'"]*[^\s])\s+(['"])(.*)\2/.exec(V);U&&(V=U[1],H=U[3])}else H=x[3]?x[3].slice(1,-1):"";return V=V.trim(),/^</.test(V)&&(this.options.pedantic&&!/>$/.test(O)?V=V.slice(1):V=V.slice(1,-1)),Ce(x,{href:V&&V.replace(this.rules.inline.anyPunctuation,"$1"),title:H&&H.replace(this.rules.inline.anyPunctuation,"$1")},x[0],this.lexer)}}reflink(S,x){let O;if((O=this.rules.inline.reflink.exec(S))||(O=this.rules.inline.nolink.exec(S))){const V=(O[2]||O[1]).replace(/\s+/g," "),H=x[V.toLowerCase()];if(!H){const U=O[0].charAt(0);return{type:"text",raw:U,text:U}}return Ce(O,H,O[0],this.lexer)}}emStrong(S,x,O=""){let V=this.rules.inline.emStrongLDelim.exec(S);if(!V||V[3]&&O.match(/[\p{L}\p{N}]/u))return;if(!(V[1]||V[2]||"")||!O||this.rules.inline.punctuation.exec(O)){const U=[...V[0]].length-1;let Te,Be,mt=U,Ge=0;const dt=V[0][0]==="*"?this.rules.inline.emStrongRDelimAst:this.rules.inline.emStrongRDelimUnd;for(dt.lastIndex=0,x=x.slice(-1*S.length+U);(V=dt.exec(x))!=null;){if(Te=V[1]||V[2]||V[3]||V[4]||V[5]||V[6],!Te)continue;if(Be=[...Te].length,V[3]||V[4]){mt+=Be;continue}else if((V[5]||V[6])&&U%3&&!((U+Be)%3)){Ge+=Be;continue}if(mt-=Be,mt>0)continue;Be=Math.min(Be,Be+mt+Ge);const ut=[...V[0]][0].length,Dt=S.slice(0,U+V.index+ut+Be);if(Math.min(U,Be)%2){const hr=Dt.slice(1,-1);return{type:"em",raw:Dt,text:hr,tokens:this.lexer.inlineTokens(hr)}}const Nr=Dt.slice(2,-2);return{type:"strong",raw:Dt,text:Nr,tokens:this.lexer.inlineTokens(Nr)}}}}codespan(S){const x=this.rules.inline.code.exec(S);if(x){let O=x[2].replace(/\n/g," ");const V=/[^ ]/.test(O),H=/^ /.test(O)&&/ $/.test(O);return V&&H&&(O=O.substring(1,O.length-1)),O=j(O,!0),{type:"codespan",raw:x[0],text:O}}}br(S){const x=this.rules.inline.br.exec(S);if(x)return{type:"br",raw:x[0]}}del(S){const x=this.rules.inline.del.exec(S);if(x)return{type:"del",raw:x[0],text:x[2],tokens:this.lexer.inlineTokens(x[2])}}autolink(S){const x=this.rules.inline.autolink.exec(S);if(x){let O,V;return x[2]==="@"?(O=j(x[1]),V="mailto:"+O):(O=j(x[1]),V=O),{type:"link",raw:x[0],text:O,href:V,tokens:[{type:"text",raw:O,text:O}]}}}url(S){let x;if(x=this.rules.inline.url.exec(S)){let O,V;if(x[2]==="@")O=j(x[0]),V="mailto:"+O;else{let H;do H=x[0],x[0]=this.rules.inline._backpedal.exec(x[0])?.[0]??"";while(H!==x[0]);O=j(x[0]),x[1]==="www."?V="http://"+x[0]:V=x[0]}return{type:"link",raw:x[0],text:O,href:V,tokens:[{type:"text",raw:O,text:O}]}}}inlineText(S){const x=this.rules.inline.text.exec(S);if(x){let O;return this.lexer.state.inRawBlock?O=x[0]:O=j(x[0]),{type:"text",raw:x[0],text:O}}}}const It=/^(?: *(?:\n|$))+/,ze=/^( {4}[^\n]+(?:\n(?: *(?:\n|$))*)?)+/,ve=/^ {0,3}(`{3,}(?=[^`\n]*(?:\n|$))|~{3,})([^\n]*)(?:\n|$)(?:|([\s\S]*?)(?:\n|$))(?: {0,3}\1[~`]* *(?=\n|$)|$)/,Qe=/^ {0,3}((?:-[\t ]*){3,}|(?:_[ \t]*){3,}|(?:\*[ \t]*){3,})(?:\n+|$)/,et=/^ {0,3}(#{1,6})(?=\s|$)(.*)(?:\n+|$)/,it=/(?:[*+-]|\d{1,9}[.)])/,gt=J(/^(?!bull |blockCode|fences|blockquote|heading|html)((?:.|\n(?!\s*?\n|bull |blockCode|fences|blockquote|heading|html))+?)\n {0,3}(=+|-+) *(?:\n+|$)/).replace(/bull/g,it).replace(/blockCode/g,/ {4}/).replace(/fences/g,/ {0,3}(?:`{3,}|~{3,})/).replace(/blockquote/g,/ {0,3}>/).replace(/heading/g,/ {0,3}#{1,6}/).replace(/html/g,/ {0,3}<[^\n>]+>\n/).getRegex(),Ye=/^([^\n]+(?:\n(?!hr|heading|lheading|blockquote|fences|list|html|table| +\n)[^\n]+)*)/,de=/^[^\n]+/,Ue=/(?!\s*\])(?:\\.|[^\[\]\\])+/,Ot=J(/^ {0,3}\[(label)\]: *(?:\n *)?([^<\s][^\s]*|<.*?>)(?:(?: +(?:\n *)?| *\n *)(title))? *(?:\n+|$)/).replace("label",Ue).replace("title",/(?:"(?:\\"?|[^"\\])*"|'[^'\n]*(?:\n[^'\n]+)*\n?'|\([^()]*\))/).getRegex(),st=J(/^( {0,3}bull)([ \t][^\n]+?)?(?:\n|$)/).replace(/bull/g,it).getRegex(),St="address|article|aside|base|basefont|blockquote|body|caption|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option|p|param|search|section|summary|table|tbody|td|tfoot|th|thead|title|tr|track|ul",ct=/<!--(?:-?>|[\s\S]*?(?:-->|$))/,Pt=J("^ {0,3}(?:<(script|pre|style|textarea)[\\s>][\\s\\S]*?(?:</\\1>[^\\n]*\\n+|$)|comment[^\\n]*(\\n+|$)|<\\?[\\s\\S]*?(?:\\?>\\n*|$)|<![A-Z][\\s\\S]*?(?:>\\n*|$)|<!\\[CDATA\\[[\\s\\S]*?(?:\\]\\]>\\n*|$)|</?(tag)(?: +|\\n|/?>)[\\s\\S]*?(?:(?:\\n *)+\\n|$)|<(?!script|pre|style|textarea)([a-z][\\w-]*)(?:attribute)*? */?>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$)|</(?!script|pre|style|textarea)[a-z][\\w-]*\\s*>(?=[ \\t]*(?:\\n|$))[\\s\\S]*?(?:(?:\\n *)+\\n|$))","i").replace("comment",ct).replace("tag",St).replace("attribute",/ +[a-zA-Z:_][\w.:-]*(?: *= *"[^"\n]*"| *= *'[^'\n]*'| *= *[^\s"'=<>`]+)?/).getRegex(),we=J(Ye).replace("hr",Qe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("|table","").replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",St).getRegex(),lt={blockquote:J(/^( {0,3}> ?(paragraph|[^\n]*)(?:\n|$))+/).replace("paragraph",we).getRegex(),code:ze,def:Ot,fences:ve,heading:et,hr:Qe,html:Pt,lheading:gt,list:st,newline:It,paragraph:we,table:ue,text:de},Me=J("^ *([^\\n ].*)\\n {0,3}((?:\\| *)?:?-+:? *(?:\\| *:?-+:? *)*(?:\\| *)?)(?:\\n((?:(?! *\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\n|$))*)\\n*|$)").replace("hr",Qe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("blockquote"," {0,3}>").replace("code"," {4}[^\\n]").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",St).getRegex(),$e={...lt,table:Me,paragraph:J(Ye).replace("hr",Qe).replace("heading"," {0,3}#{1,6}(?:\\s|$)").replace("|lheading","").replace("table",Me).replace("blockquote"," {0,3}>").replace("fences"," {0,3}(?:`{3,}(?=[^`\\n]*\\n)|~{3,})[^\\n]*\\n").replace("list"," {0,3}(?:[*+-]|1[.)]) ").replace("html","</?(?:tag)(?: +|\\n|/?>)|<(?:script|pre|style|textarea|!--)").replace("tag",St).getRegex()},nt={...lt,html:J(`^ *(?:comment *(?:\\n|\\s*$)|<(tag)[\\s\\S]+?</\\1> *(?:\\n{2,}|\\s*$)|<tag(?:"[^"]*"|'[^']*'|\\s[^'"/>\\s]*)*?/?> *(?:\\n{2,}|\\s*$))`).replace("comment",ct).replace(/tag/g,"(?!(?:a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)\\b)\\w+(?!:|[^\\w\\s@]*@)\\b").getRegex(),def:/^ *\[([^\]]+)\]: *<?([^\s>]+)>?(?: +(["(][^\n]+[")]))? *(?:\n+|$)/,heading:/^(#{1,6})(.*)(?:\n+|$)/,fences:ue,lheading:/^(.+?)\n {0,3}(=+|-+) *(?:\n+|$)/,paragraph:J(Ye).replace("hr",Qe).replace("heading",` *#{1,6} *[^
]`).replace("lheading",gt).replace("|table","").replace("blockquote"," {0,3}>").replace("|fences","").replace("|list","").replace("|html","").replace("|tag","").getRegex()},Et=/^\\([!"#$%&'()*+,\-./:;<=>?@\[\]\\^_`{|}~])/,Tt=/^(`+)([^`]|[^`][\s\S]*?[^`])\1(?!`)/,yt=/^( {2,}|\\)\n(?!\s*$)/,_t=/^(`+|[^`])(?:(?= {2,}\n)|[\s\S]*?(?:(?=[\\<!\[`*_]|\b_|$)|[^ ](?= {2,}\n)))/,Nt="\\p{P}\\p{S}",sr=J(/^((?![*_])[\spunctuation])/,"u").replace(/punctuation/g,Nt).getRegex(),Ut=/\[[^[\]]*?\]\([^\(\)]*?\)|`[^`]*?`|<[^<>]*?>/g,jr=J(/^(?:\*+(?:((?!\*)[punct])|[^\s*]))|^_+(?:((?!_)[punct])|([^\s_]))/,"u").replace(/punct/g,Nt).getRegex(),rr=J("^[^_*]*?__[^_*]*?\\*[^_*]*?(?=__)|[^*]+(?=[^*])|(?!\\*)[punct](\\*+)(?=[\\s]|$)|[^punct\\s](\\*+)(?!\\*)(?=[punct\\s]|$)|(?!\\*)[punct\\s](\\*+)(?=[^punct\\s])|[\\s](\\*+)(?!\\*)(?=[punct])|(?!\\*)[punct](\\*+)(?!\\*)(?=[punct])|[^punct\\s](\\*+)(?=[^punct\\s])","gu").replace(/punct/g,Nt).getRegex(),Fe=J("^[^_*]*?\\*\\*[^_*]*?_[^_*]*?(?=\\*\\*)|[^_]+(?=[^_])|(?!_)[punct](_+)(?=[\\s]|$)|[^punct\\s](_+)(?!_)(?=[punct\\s]|$)|(?!_)[punct\\s](_+)(?=[^punct\\s])|[\\s](_+)(?!_)(?=[punct])|(?!_)[punct](_+)(?!_)(?=[punct])","gu").replace(/punct/g,Nt).getRegex(),Or=J(/\\([punct])/,"gu").replace(/punct/g,Nt).getRegex(),xt=J(/^<(scheme:[^\s\x00-\x1f<>]*|email)>/).replace("scheme",/[a-zA-Z][a-zA-Z0-9+.-]{1,31}/).replace("email",/[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/).getRegex(),ur=J(ct).replace("(?:-->|$)","-->").getRegex(),mn=J("^comment|^</[a-zA-Z][\\w:-]*\\s*>|^<[a-zA-Z][\\w-]*(?:attribute)*?\\s*/?>|^<\\?[\\s\\S]*?\\?>|^<![a-zA-Z]+\\s[\\s\\S]*?>|^<!\\[CDATA\\[[\\s\\S]*?\\]\\]>").replace("comment",ur).replace("attribute",/\s+[a-zA-Z:_][\w.:-]*(?:\s*=\s*"[^"]*"|\s*=\s*'[^']*'|\s*=\s*[^\s"'=<>`]+)?/).getRegex(),Ft=/(?:\[(?:\\.|[^\[\]\\])*\]|\\.|`[^`]*`|[^\[\]\\`])*?/,zn=J(/^!?\[(label)\]\(\s*(href)(?:\s+(title))?\s*\)/).replace("label",Ft).replace("href",/<(?:\\.|[^\n<>\\])+>|[^\s\x00-\x1f]*/).replace("title",/"(?:\\"?|[^"\\])*"|'(?:\\'?|[^'\\])*'|\((?:\\\)?|[^)\\])*\)/).getRegex(),kr=J(/^!?\[(label)\]\[(ref)\]/).replace("label",Ft).replace("ref",Ue).getRegex(),sn=J(/^!?\[(ref)\](?:\[\])?/).replace("ref",Ue).getRegex(),lr=J("reflink|nolink(?!\\()","g").replace("reflink",kr).replace("nolink",sn).getRegex(),un={_backpedal:ue,anyPunctuation:Or,autolink:xt,blockSkip:Ut,br:yt,code:Tt,del:ue,emStrongLDelim:jr,emStrongRDelimAst:rr,emStrongRDelimUnd:Fe,escape:Et,link:zn,nolink:sn,punctuation:sr,reflink:kr,reflinkSearch:lr,tag:mn,text:_t,url:ue},$r={...un,link:J(/^!?\[(label)\]\((.*?)\)/).replace("label",Ft).getRegex(),reflink:J(/^!?\[(label)\]\s*\[([^\]]*)\]/).replace("label",Ft).getRegex()},Br={...un,escape:J(Et).replace("])","~|])").getRegex(),url:J(/^((?:ftp|https?):\/\/|www\.)(?:[a-zA-Z0-9\-]+\.?)+[^\s<]*|^email/,"i").replace("email",/[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/).getRegex(),_backpedal:/(?:[^?!.,:;*_'"~()&]+|\([^)]*\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_'"~)]+(?!$))+/,del:/^(~~?)(?=[^\s~])([\s\S]*?[^\s~])\1(?=[^~]|$)/,text:/^([`~]+|[^`~])(?:(?= {2,}\n)|(?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)|[\s\S]*?(?:(?=[\\<!\[`*~_]|\b_|https?:\/\/|ftp:\/\/|www\.|$)|[^ ](?= {2,}\n)|[^a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-](?=[a-zA-Z0-9.!#$%&'*+\/=?_`{\|}~-]+@)))/},Qt={...Br,br:J(yt).replace("{2,}","*").getRegex(),text:J(Br.text).replace("\\b_","\\b_| {2,}\\n").replace(/\{2,\}/g,"*").getRegex()},Yr={normal:lt,gfm:$e,pedantic:nt},jt={normal:un,gfm:Br,breaks:Qt,pedantic:$r};class Lt{tokens;options;state;tokenizer;inlineQueue;constructor(S){this.tokens=[],this.tokens.links=Object.create(null),this.options=S||Z,this.options.tokenizer=this.options.tokenizer||new Ze,this.tokenizer=this.options.tokenizer,this.tokenizer.options=this.options,this.tokenizer.lexer=this,this.inlineQueue=[],this.state={inLink:!1,inRawBlock:!1,top:!0};const x={block:Yr.normal,inline:jt.normal};this.options.pedantic?(x.block=Yr.pedantic,x.inline=jt.pedantic):this.options.gfm&&(x.block=Yr.gfm,this.options.breaks?x.inline=jt.breaks:x.inline=jt.gfm),this.tokenizer.rules=x}static get rules(){return{block:Yr,inline:jt}}static lex(S,x){return new Lt(x).lex(S)}static lexInline(S,x){return new Lt(x).inlineTokens(S)}lex(S){S=S.replace(/\r\n|\r/g,`
`),this.blockTokens(S,this.tokens);for(let x=0;x<this.inlineQueue.length;x++){const O=this.inlineQueue[x];this.inlineTokens(O.src,O.tokens)}return this.inlineQueue=[],this.tokens}blockTokens(S,x=[]){this.options.pedantic?S=S.replace(/\t/g,"    ").replace(/^ +$/gm,""):S=S.replace(/^( *)(\t+)/gm,(Te,Be,mt)=>Be+"    ".repeat(mt.length));let O,V,H,U;for(;S;)if(!(this.options.extensions&&this.options.extensions.block&&this.options.extensions.block.some(Te=>(O=Te.call({lexer:this},S,x))?(S=S.substring(O.raw.length),x.push(O),!0):!1))){if(O=this.tokenizer.space(S)){S=S.substring(O.raw.length),O.raw.length===1&&x.length>0?x[x.length-1].raw+=`
`:x.push(O);continue}if(O=this.tokenizer.code(S)){S=S.substring(O.raw.length),V=x[x.length-1],V&&(V.type==="paragraph"||V.type==="text")?(V.raw+=`
`+O.raw,V.text+=`
`+O.text,this.inlineQueue[this.inlineQueue.length-1].src=V.text):x.push(O);continue}if(O=this.tokenizer.fences(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.heading(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.hr(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.blockquote(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.list(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.html(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.def(S)){S=S.substring(O.raw.length),V=x[x.length-1],V&&(V.type==="paragraph"||V.type==="text")?(V.raw+=`
`+O.raw,V.text+=`
`+O.raw,this.inlineQueue[this.inlineQueue.length-1].src=V.text):this.tokens.links[O.tag]||(this.tokens.links[O.tag]={href:O.href,title:O.title});continue}if(O=this.tokenizer.table(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.lheading(S)){S=S.substring(O.raw.length),x.push(O);continue}if(H=S,this.options.extensions&&this.options.extensions.startBlock){let Te=1/0;const Be=S.slice(1);let mt;this.options.extensions.startBlock.forEach(Ge=>{mt=Ge.call({lexer:this},Be),typeof mt=="number"&&mt>=0&&(Te=Math.min(Te,mt))}),Te<1/0&&Te>=0&&(H=S.substring(0,Te+1))}if(this.state.top&&(O=this.tokenizer.paragraph(H))){V=x[x.length-1],U&&V.type==="paragraph"?(V.raw+=`
`+O.raw,V.text+=`
`+O.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=V.text):x.push(O),U=H.length!==S.length,S=S.substring(O.raw.length);continue}if(O=this.tokenizer.text(S)){S=S.substring(O.raw.length),V=x[x.length-1],V&&V.type==="text"?(V.raw+=`
`+O.raw,V.text+=`
`+O.text,this.inlineQueue.pop(),this.inlineQueue[this.inlineQueue.length-1].src=V.text):x.push(O);continue}if(S){const Te="Infinite loop on byte: "+S.charCodeAt(0);if(this.options.silent){console.error(Te);break}else throw new Error(Te)}}return this.state.top=!0,x}inline(S,x=[]){return this.inlineQueue.push({src:S,tokens:x}),x}inlineTokens(S,x=[]){let O,V,H,U=S,Te,Be,mt;if(this.tokens.links){const Ge=Object.keys(this.tokens.links);if(Ge.length>0)for(;(Te=this.tokenizer.rules.inline.reflinkSearch.exec(U))!=null;)Ge.includes(Te[0].slice(Te[0].lastIndexOf("[")+1,-1))&&(U=U.slice(0,Te.index)+"["+"a".repeat(Te[0].length-2)+"]"+U.slice(this.tokenizer.rules.inline.reflinkSearch.lastIndex))}for(;(Te=this.tokenizer.rules.inline.blockSkip.exec(U))!=null;)U=U.slice(0,Te.index)+"["+"a".repeat(Te[0].length-2)+"]"+U.slice(this.tokenizer.rules.inline.blockSkip.lastIndex);for(;(Te=this.tokenizer.rules.inline.anyPunctuation.exec(U))!=null;)U=U.slice(0,Te.index)+"++"+U.slice(this.tokenizer.rules.inline.anyPunctuation.lastIndex);for(;S;)if(Be||(mt=""),Be=!1,!(this.options.extensions&&this.options.extensions.inline&&this.options.extensions.inline.some(Ge=>(O=Ge.call({lexer:this},S,x))?(S=S.substring(O.raw.length),x.push(O),!0):!1))){if(O=this.tokenizer.escape(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.tag(S)){S=S.substring(O.raw.length),V=x[x.length-1],V&&O.type==="text"&&V.type==="text"?(V.raw+=O.raw,V.text+=O.text):x.push(O);continue}if(O=this.tokenizer.link(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.reflink(S,this.tokens.links)){S=S.substring(O.raw.length),V=x[x.length-1],V&&O.type==="text"&&V.type==="text"?(V.raw+=O.raw,V.text+=O.text):x.push(O);continue}if(O=this.tokenizer.emStrong(S,U,mt)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.codespan(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.br(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.del(S)){S=S.substring(O.raw.length),x.push(O);continue}if(O=this.tokenizer.autolink(S)){S=S.substring(O.raw.length),x.push(O);continue}if(!this.state.inLink&&(O=this.tokenizer.url(S))){S=S.substring(O.raw.length),x.push(O);continue}if(H=S,this.options.extensions&&this.options.extensions.startInline){let Ge=1/0;const dt=S.slice(1);let ut;this.options.extensions.startInline.forEach(Dt=>{ut=Dt.call({lexer:this},dt),typeof ut=="number"&&ut>=0&&(Ge=Math.min(Ge,ut))}),Ge<1/0&&Ge>=0&&(H=S.substring(0,Ge+1))}if(O=this.tokenizer.inlineText(H)){S=S.substring(O.raw.length),O.raw.slice(-1)!=="_"&&(mt=O.raw.slice(-1)),Be=!0,V=x[x.length-1],V&&V.type==="text"?(V.raw+=O.raw,V.text+=O.text):x.push(O);continue}if(S){const Ge="Infinite loop on byte: "+S.charCodeAt(0);if(this.options.silent){console.error(Ge);break}else throw new Error(Ge)}}return x}}class Zt{options;constructor(S){this.options=S||Z}code(S,x,O){const V=(x||"").match(/^\S*/)?.[0];return S=S.replace(/\n$/,"")+`
`,V?'<pre><code class="language-'+j(V)+'">'+(O?S:j(S,!0))+`</code></pre>
`:"<pre><code>"+(O?S:j(S,!0))+`</code></pre>
`}blockquote(S){return`<blockquote>
${S}</blockquote>
`}html(S,x){return S}heading(S,x,O){return`<h${x}>${S}</h${x}>
`}hr(){return`<hr>
`}list(S,x,O){const V=x?"ol":"ul",H=x&&O!==1?' start="'+O+'"':"";return"<"+V+H+`>
`+S+"</"+V+`>
`}listitem(S,x,O){return`<li>${S}</li>
`}checkbox(S){return"<input "+(S?'checked="" ':"")+'disabled="" type="checkbox">'}paragraph(S){return`<p>${S}</p>
`}table(S,x){return x&&(x=`<tbody>${x}</tbody>`),`<table>
<thead>
`+S+`</thead>
`+x+`</table>
`}tablerow(S){return`<tr>
${S}</tr>
`}tablecell(S,x){const O=x.header?"th":"td";return(x.align?`<${O} align="${x.align}">`:`<${O}>`)+S+`</${O}>
`}strong(S){return`<strong>${S}</strong>`}em(S){return`<em>${S}</em>`}codespan(S){return`<code>${S}</code>`}br(){return"<br>"}del(S){return`<del>${S}</del>`}link(S,x,O){const V=ie(S);if(V===null)return O;S=V;let H='<a href="'+S+'"';return x&&(H+=' title="'+x+'"'),H+=">"+O+"</a>",H}image(S,x,O){const V=ie(S);if(V===null)return O;S=V;let H=`<img src="${S}" alt="${O}"`;return x&&(H+=` title="${x}"`),H+=">",H}text(S){return S}}class Zr{strong(S){return S}em(S){return S}codespan(S){return S}del(S){return S}html(S){return S}text(S){return S}link(S,x,O){return""+O}image(S,x,O){return""+O}br(){return""}}class Vt{options;renderer;textRenderer;constructor(S){this.options=S||Z,this.options.renderer=this.options.renderer||new Zt,this.renderer=this.options.renderer,this.renderer.options=this.options,this.textRenderer=new Zr}static parse(S,x){return new Vt(x).parse(S)}static parseInline(S,x){return new Vt(x).parseInline(S)}parse(S,x=!0){let O="";for(let V=0;V<S.length;V++){const H=S[V];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[H.type]){const U=H,Te=this.options.extensions.renderers[U.type].call({parser:this},U);if(Te!==!1||!["space","hr","heading","code","table","blockquote","list","html","paragraph","text"].includes(U.type)){O+=Te||"";continue}}switch(H.type){case"space":continue;case"hr":{O+=this.renderer.hr();continue}case"heading":{const U=H;O+=this.renderer.heading(this.parseInline(U.tokens),U.depth,W(this.parseInline(U.tokens,this.textRenderer)));continue}case"code":{const U=H;O+=this.renderer.code(U.text,U.lang,!!U.escaped);continue}case"table":{const U=H;let Te="",Be="";for(let Ge=0;Ge<U.header.length;Ge++)Be+=this.renderer.tablecell(this.parseInline(U.header[Ge].tokens),{header:!0,align:U.align[Ge]});Te+=this.renderer.tablerow(Be);let mt="";for(let Ge=0;Ge<U.rows.length;Ge++){const dt=U.rows[Ge];Be="";for(let ut=0;ut<dt.length;ut++)Be+=this.renderer.tablecell(this.parseInline(dt[ut].tokens),{header:!1,align:U.align[ut]});mt+=this.renderer.tablerow(Be)}O+=this.renderer.table(Te,mt);continue}case"blockquote":{const U=H,Te=this.parse(U.tokens);O+=this.renderer.blockquote(Te);continue}case"list":{const U=H,Te=U.ordered,Be=U.start,mt=U.loose;let Ge="";for(let dt=0;dt<U.items.length;dt++){const ut=U.items[dt],Dt=ut.checked,Nr=ut.task;let hr="";if(ut.task){const br=this.renderer.checkbox(!!Dt);mt?ut.tokens.length>0&&ut.tokens[0].type==="paragraph"?(ut.tokens[0].text=br+" "+ut.tokens[0].text,ut.tokens[0].tokens&&ut.tokens[0].tokens.length>0&&ut.tokens[0].tokens[0].type==="text"&&(ut.tokens[0].tokens[0].text=br+" "+ut.tokens[0].tokens[0].text)):ut.tokens.unshift({type:"text",text:br+" "}):hr+=br+" "}hr+=this.parse(ut.tokens,mt),Ge+=this.renderer.listitem(hr,Nr,!!Dt)}O+=this.renderer.list(Ge,Te,Be);continue}case"html":{const U=H;O+=this.renderer.html(U.text,U.block);continue}case"paragraph":{const U=H;O+=this.renderer.paragraph(this.parseInline(U.tokens));continue}case"text":{let U=H,Te=U.tokens?this.parseInline(U.tokens):U.text;for(;V+1<S.length&&S[V+1].type==="text";)U=S[++V],Te+=`
`+(U.tokens?this.parseInline(U.tokens):U.text);O+=x?this.renderer.paragraph(Te):Te;continue}default:{const U='Token with "'+H.type+'" type was not found.';if(this.options.silent)return console.error(U),"";throw new Error(U)}}}return O}parseInline(S,x){x=x||this.renderer;let O="";for(let V=0;V<S.length;V++){const H=S[V];if(this.options.extensions&&this.options.extensions.renderers&&this.options.extensions.renderers[H.type]){const U=this.options.extensions.renderers[H.type].call({parser:this},H);if(U!==!1||!["escape","html","link","image","strong","em","codespan","br","del","text"].includes(H.type)){O+=U||"";continue}}switch(H.type){case"escape":{const U=H;O+=x.text(U.text);break}case"html":{const U=H;O+=x.html(U.text);break}case"link":{const U=H;O+=x.link(U.href,U.title,this.parseInline(U.tokens,x));break}case"image":{const U=H;O+=x.image(U.href,U.title,U.text);break}case"strong":{const U=H;O+=x.strong(this.parseInline(U.tokens,x));break}case"em":{const U=H;O+=x.em(this.parseInline(U.tokens,x));break}case"codespan":{const U=H;O+=x.codespan(U.text);break}case"br":{O+=x.br();break}case"del":{const U=H;O+=x.del(this.parseInline(U.tokens,x));break}case"text":{const U=H;O+=x.text(U.text);break}default:{const U='Token with "'+H.type+'" type was not found.';if(this.options.silent)return console.error(U),"";throw new Error(U)}}}return O}}class cr{options;constructor(S){this.options=S||Z}static passThroughHooks=new Set(["preprocess","postprocess","processAllTokens"]);preprocess(S){return S}postprocess(S){return S}processAllTokens(S){return S}}class gn{defaults=E();options=this.setOptions;parse=this.#e(Lt.lex,Vt.parse);parseInline=this.#e(Lt.lexInline,Vt.parseInline);Parser=Vt;Renderer=Zt;TextRenderer=Zr;Lexer=Lt;Tokenizer=Ze;Hooks=cr;constructor(...S){this.use(...S)}walkTokens(S,x){let O=[];for(const V of S)switch(O=O.concat(x.call(this,V)),V.type){case"table":{const H=V;for(const U of H.header)O=O.concat(this.walkTokens(U.tokens,x));for(const U of H.rows)for(const Te of U)O=O.concat(this.walkTokens(Te.tokens,x));break}case"list":{const H=V;O=O.concat(this.walkTokens(H.items,x));break}default:{const H=V;this.defaults.extensions?.childTokens?.[H.type]?this.defaults.extensions.childTokens[H.type].forEach(U=>{const Te=H[U].flat(1/0);O=O.concat(this.walkTokens(Te,x))}):H.tokens&&(O=O.concat(this.walkTokens(H.tokens,x)))}}return O}use(...S){const x=this.defaults.extensions||{renderers:{},childTokens:{}};return S.forEach(O=>{const V={...O};if(V.async=this.defaults.async||V.async||!1,O.extensions&&(O.extensions.forEach(H=>{if(!H.name)throw new Error("extension name required");if("renderer"in H){const U=x.renderers[H.name];U?x.renderers[H.name]=function(...Te){let Be=H.renderer.apply(this,Te);return Be===!1&&(Be=U.apply(this,Te)),Be}:x.renderers[H.name]=H.renderer}if("tokenizer"in H){if(!H.level||H.level!=="block"&&H.level!=="inline")throw new Error("extension level must be 'block' or 'inline'");const U=x[H.level];U?U.unshift(H.tokenizer):x[H.level]=[H.tokenizer],H.start&&(H.level==="block"?x.startBlock?x.startBlock.push(H.start):x.startBlock=[H.start]:H.level==="inline"&&(x.startInline?x.startInline.push(H.start):x.startInline=[H.start]))}"childTokens"in H&&H.childTokens&&(x.childTokens[H.name]=H.childTokens)}),V.extensions=x),O.renderer){const H=this.defaults.renderer||new Zt(this.defaults);for(const U in O.renderer){if(!(U in H))throw new Error(`renderer '${U}' does not exist`);if(U==="options")continue;const Te=U,Be=O.renderer[Te],mt=H[Te];H[Te]=(...Ge)=>{let dt=Be.apply(H,Ge);return dt===!1&&(dt=mt.apply(H,Ge)),dt||""}}V.renderer=H}if(O.tokenizer){const H=this.defaults.tokenizer||new Ze(this.defaults);for(const U in O.tokenizer){if(!(U in H))throw new Error(`tokenizer '${U}' does not exist`);if(["options","rules","lexer"].includes(U))continue;const Te=U,Be=O.tokenizer[Te],mt=H[Te];H[Te]=(...Ge)=>{let dt=Be.apply(H,Ge);return dt===!1&&(dt=mt.apply(H,Ge)),dt}}V.tokenizer=H}if(O.hooks){const H=this.defaults.hooks||new cr;for(const U in O.hooks){if(!(U in H))throw new Error(`hook '${U}' does not exist`);if(U==="options")continue;const Te=U,Be=O.hooks[Te],mt=H[Te];cr.passThroughHooks.has(U)?H[Te]=Ge=>{if(this.defaults.async)return Promise.resolve(Be.call(H,Ge)).then(ut=>mt.call(H,ut));const dt=Be.call(H,Ge);return mt.call(H,dt)}:H[Te]=(...Ge)=>{let dt=Be.apply(H,Ge);return dt===!1&&(dt=mt.apply(H,Ge)),dt}}V.hooks=H}if(O.walkTokens){const H=this.defaults.walkTokens,U=O.walkTokens;V.walkTokens=function(Te){let Be=[];return Be.push(U.call(this,Te)),H&&(Be=Be.concat(H.call(this,Te))),Be}}this.defaults={...this.defaults,...V}}),this}setOptions(S){return this.defaults={...this.defaults,...S},this}lexer(S,x){return Lt.lex(S,x??this.defaults)}parser(S,x){return Vt.parse(S,x??this.defaults)}#e(S,x){return(O,V)=>{const H={...V},U={...this.defaults,...H};this.defaults.async===!0&&H.async===!1&&(U.silent||console.warn("marked(): The async option was set to true by an extension. The async: false option sent to parse will be ignored."),U.async=!0);const Te=this.#t(!!U.silent,!!U.async);if(typeof O>"u"||O===null)return Te(new Error("marked(): input parameter is undefined or null"));if(typeof O!="string")return Te(new Error("marked(): input parameter is of type "+Object.prototype.toString.call(O)+", string expected"));if(U.hooks&&(U.hooks.options=U),U.async)return Promise.resolve(U.hooks?U.hooks.preprocess(O):O).then(Be=>S(Be,U)).then(Be=>U.hooks?U.hooks.processAllTokens(Be):Be).then(Be=>U.walkTokens?Promise.all(this.walkTokens(Be,U.walkTokens)).then(()=>Be):Be).then(Be=>x(Be,U)).then(Be=>U.hooks?U.hooks.postprocess(Be):Be).catch(Te);try{U.hooks&&(O=U.hooks.preprocess(O));let Be=S(O,U);U.hooks&&(Be=U.hooks.processAllTokens(Be)),U.walkTokens&&this.walkTokens(Be,U.walkTokens);let mt=x(Be,U);return U.hooks&&(mt=U.hooks.postprocess(mt)),mt}catch(Be){return Te(Be)}}}#t(S,x){return O=>{if(O.message+=`
Please report this to https://github.com/markedjs/marked.`,S){const V="<p>An error occurred:</p><pre>"+j(O.message+"",!0)+"</pre>";return x?Promise.resolve(V):V}if(x)return Promise.reject(O);throw O}}}const fr=new gn;function pt(rt,S){return fr.parse(rt,S)}pt.options=pt.setOptions=function(rt){return fr.setOptions(rt),pt.defaults=fr.defaults,F(pt.defaults),pt},pt.getDefaults=E,pt.defaults=Z,pt.use=function(...rt){return fr.use(...rt),pt.defaults=fr.defaults,F(pt.defaults),pt},pt.walkTokens=function(rt,S){return fr.walkTokens(rt,S)},pt.parseInline=fr.parseInline,pt.Parser=Vt,pt.parser=Vt.parse,pt.Renderer=Zt,pt.TextRenderer=Zr,pt.Lexer=Lt,pt.lexer=Lt.lex,pt.Tokenizer=Ze,pt.Hooks=cr,pt.parse=pt;const yn=pt.options,gr=pt.setOptions,jn=pt.use,wr=pt.walkTokens,Pn=pt.parseInline,Yn=null,Zn=Vt.parse,Rt=Lt.lex},"../../node_modules/ms/index.js":function(Ke){var Ie=1e3,X=Ie*60,E=X*60,Z=E*24,F=Z*7,T=Z*365.25;Ke.exports=function(ne,j){j=j||{};var K=typeof ne;if(K==="string"&&ne.length>0)return B(ne);if(K==="number"&&isFinite(ne))return j.long?Q(ne):z(ne);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(ne))};function B(ne){if(ne=String(ne),!(ne.length>100)){var j=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(ne);if(j){var K=parseFloat(j[1]),W=(j[2]||"ms").toLowerCase();switch(W){case"years":case"year":case"yrs":case"yr":case"y":return K*T;case"weeks":case"week":case"w":return K*F;case"days":case"day":case"d":return K*Z;case"hours":case"hour":case"hrs":case"hr":case"h":return K*E;case"minutes":case"minute":case"mins":case"min":case"m":return K*X;case"seconds":case"second":case"secs":case"sec":case"s":return K*Ie;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return K;default:return}}}}function z(ne){var j=Math.abs(ne);return j>=Z?Math.round(ne/Z)+"d":j>=E?Math.round(ne/E)+"h":j>=X?Math.round(ne/X)+"m":j>=Ie?Math.round(ne/Ie)+"s":ne+"ms"}function Q(ne){var j=Math.abs(ne);return j>=Z?ye(ne,j,Z,"day"):j>=E?ye(ne,j,E,"hour"):j>=X?ye(ne,j,X,"minute"):j>=Ie?ye(ne,j,Ie,"second"):ne+" ms"}function ye(ne,j,K,W){var $=j>=K*1.5;return Math.round(ne/K)+" "+W+($?"s":"")}},"../../node_modules/react-highlight-words/dist/main.js":function(Ke,Ie,X){Ke.exports=function(E){var Z={};function F(T){if(Z[T])return Z[T].exports;var B=Z[T]={exports:{},id:T,loaded:!1};return E[T].call(B.exports,B,B.exports,F),B.loaded=!0,B.exports}return F.m=E,F.c=Z,F.p="",F(0)}([function(E,Z,F){E.exports=F(1)},function(E,Z,F){"use strict";Object.defineProperty(Z,"__esModule",{value:!0});function T(Q){return Q&&Q.__esModule?Q:{default:Q}}var B=F(2),z=T(B);Z.default=z.default,E.exports=Z.default},function(E,Z,F){"use strict";Object.defineProperty(Z,"__esModule",{value:!0});var T=Object.assign||function(J){for(var ie=1;ie<arguments.length;ie++){var ue=arguments[ie];for(var xe in ue)Object.prototype.hasOwnProperty.call(ue,xe)&&(J[xe]=ue[xe])}return J};Z.default=$;function B(J){return J&&J.__esModule?J:{default:J}}function z(J,ie){var ue={};for(var xe in J)ie.indexOf(xe)>=0||Object.prototype.hasOwnProperty.call(J,xe)&&(ue[xe]=J[xe]);return ue}var Q=F(3),ye=F(4),ne=B(ye),j=F(14),K=F(15),W=B(K);$.propTypes={activeClassName:ne.default.string,activeIndex:ne.default.number,activeStyle:ne.default.object,autoEscape:ne.default.bool,className:ne.default.string,findChunks:ne.default.func,highlightClassName:ne.default.oneOfType([ne.default.object,ne.default.string]),highlightStyle:ne.default.object,highlightTag:ne.default.oneOfType([ne.default.node,ne.default.func,ne.default.string]),sanitize:ne.default.func,searchWords:ne.default.arrayOf(ne.default.oneOfType([ne.default.string,ne.default.instanceOf(RegExp)])).isRequired,textToHighlight:ne.default.string.isRequired,unhighlightTag:ne.default.oneOfType([ne.default.node,ne.default.func,ne.default.string]),unhighlightClassName:ne.default.string,unhighlightStyle:ne.default.object};function $(J){var ie=J.activeClassName,ue=ie===void 0?"":ie,xe=J.activeIndex,Ne=xe===void 0?-1:xe,We=J.activeStyle,Ce=J.autoEscape,ht=J.caseSensitive,Ze=ht===void 0?!1:ht,It=J.className,ze=J.findChunks,ve=J.highlightClassName,Qe=ve===void 0?"":ve,et=J.highlightStyle,it=et===void 0?{}:et,gt=J.highlightTag,Ye=gt===void 0?"mark":gt,de=J.sanitize,Ue=J.searchWords,Ot=J.textToHighlight,st=J.unhighlightTag,St=st===void 0?"span":st,ct=J.unhighlightClassName,Pt=ct===void 0?"":ct,we=J.unhighlightStyle,qe=z(J,["activeClassName","activeIndex","activeStyle","autoEscape","caseSensitive","className","findChunks","highlightClassName","highlightStyle","highlightTag","sanitize","searchWords","textToHighlight","unhighlightTag","unhighlightClassName","unhighlightStyle"]),lt=(0,Q.findAll)({autoEscape:Ce,caseSensitive:Ze,findChunks:ze,sanitize:de,searchWords:Ue,textToHighlight:Ot}),Me=Ye,$e=-1,nt="",Et=void 0,Tt=function(Nt){var sr={};for(var Ut in Nt)sr[Ut.toLowerCase()]=Nt[Ut];return sr},yt=(0,W.default)(Tt);return(0,j.createElement)("span",T({className:It},qe,{children:lt.map(function(_t,Nt){var sr=Ot.substr(_t.start,_t.end-_t.start);if(_t.highlight){$e++;var Ut=void 0;typeof Qe=="object"?Ze?Ut=Qe[sr]:(Qe=yt(Qe),Ut=Qe[sr.toLowerCase()]):Ut=Qe;var jr=$e===+Ne;nt=Ut+" "+(jr?ue:""),Et=jr===!0&&We!=null?Object.assign({},it,We):it;var rr={children:sr,className:nt,key:Nt,style:Et};return typeof Me!="string"&&(rr.highlightIndex=$e),(0,j.createElement)(Me,rr)}else return(0,j.createElement)(St,{children:sr,className:Pt,key:Nt,style:we})})}))}E.exports=Z.default},function(E,Z){E.exports=function(F){var T={};function B(z){if(T[z])return T[z].exports;var Q=T[z]={exports:{},id:z,loaded:!1};return F[z].call(Q.exports,Q,Q.exports,B),Q.loaded=!0,Q.exports}return B.m=F,B.c=T,B.p="",B(0)}([function(F,T,B){F.exports=B(1)},function(F,T,B){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var z=B(2);Object.defineProperty(T,"combineChunks",{enumerable:!0,get:function(){return z.combineChunks}}),Object.defineProperty(T,"fillInChunks",{enumerable:!0,get:function(){return z.fillInChunks}}),Object.defineProperty(T,"findAll",{enumerable:!0,get:function(){return z.findAll}}),Object.defineProperty(T,"findChunks",{enumerable:!0,get:function(){return z.findChunks}})},function(F,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var B=T.findAll=function(W){var $=W.autoEscape,J=W.caseSensitive,ie=J===void 0?!1:J,ue=W.findChunks,xe=ue===void 0?Q:ue,Ne=W.sanitize,We=W.searchWords,Ce=W.textToHighlight;return ye({chunksToHighlight:z({chunks:xe({autoEscape:$,caseSensitive:ie,sanitize:Ne,searchWords:We,textToHighlight:Ce})}),totalLength:Ce?Ce.length:0})},z=T.combineChunks=function(W){var $=W.chunks;return $=$.sort(function(J,ie){return J.start-ie.start}).reduce(function(J,ie){if(J.length===0)return[ie];var ue=J.pop();if(ie.start<=ue.end){var xe=Math.max(ue.end,ie.end);J.push({start:ue.start,end:xe})}else J.push(ue,ie);return J},[]),$},Q=function(W){var $=W.autoEscape,J=W.caseSensitive,ie=W.sanitize,ue=ie===void 0?ne:ie,xe=W.searchWords,Ne=W.textToHighlight;return Ne=ue(Ne),xe.filter(function(We){return We}).reduce(function(We,Ce){Ce=ue(Ce),$&&(Ce=j(Ce));for(var ht=new RegExp(Ce,J?"g":"gi"),Ze=void 0;Ze=ht.exec(Ne);){var It=Ze.index,ze=ht.lastIndex;ze>It&&We.push({start:It,end:ze}),Ze.index==ht.lastIndex&&ht.lastIndex++}return We},[])};T.findChunks=Q;var ye=T.fillInChunks=function(W){var $=W.chunksToHighlight,J=W.totalLength,ie=[],ue=function(We,Ce,ht){Ce-We>0&&ie.push({start:We,end:Ce,highlight:ht})};if($.length===0)ue(0,J,!1);else{var xe=0;$.forEach(function(Ne){ue(xe,Ne.start,!1),ue(Ne.start,Ne.end,!0),xe=Ne.end}),ue(xe,J,!1)}return ie};function ne(K){return K}function j(K){return K.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&")}}])},function(E,Z,F){(function(T){if(T.env.NODE_ENV!=="production"){var B=typeof Symbol=="function"&&Symbol.for&&Symbol.for("react.element")||60103,z=function(ye){return typeof ye=="object"&&ye!==null&&ye.$$typeof===B},Q=!0;E.exports=F(6)(z,Q)}else E.exports=F(13)()}).call(Z,F(5))},function(E,Z){var F=E.exports={},T,B;function z(){throw new Error("setTimeout has not been defined")}function Q(){throw new Error("clearTimeout has not been defined")}(function(){try{typeof setTimeout=="function"?T=setTimeout:T=z}catch{T=z}try{typeof clearTimeout=="function"?B=clearTimeout:B=Q}catch{B=Q}})();function ye(Ne){if(T===setTimeout)return setTimeout(Ne,0);if((T===z||!T)&&setTimeout)return T=setTimeout,setTimeout(Ne,0);try{return T(Ne,0)}catch{try{return T.call(null,Ne,0)}catch{return T.call(this,Ne,0)}}}function ne(Ne){if(B===clearTimeout)return clearTimeout(Ne);if((B===Q||!B)&&clearTimeout)return B=clearTimeout,clearTimeout(Ne);try{return B(Ne)}catch{try{return B.call(null,Ne)}catch{return B.call(this,Ne)}}}var j=[],K=!1,W,$=-1;function J(){!K||!W||(K=!1,W.length?j=W.concat(j):$=-1,j.length&&ie())}function ie(){if(!K){var Ne=ye(J);K=!0;for(var We=j.length;We;){for(W=j,j=[];++$<We;)W&&W[$].run();$=-1,We=j.length}W=null,K=!1,ne(Ne)}}F.nextTick=function(Ne){var We=new Array(arguments.length-1);if(arguments.length>1)for(var Ce=1;Ce<arguments.length;Ce++)We[Ce-1]=arguments[Ce];j.push(new ue(Ne,We)),j.length===1&&!K&&ye(ie)};function ue(Ne,We){this.fun=Ne,this.array=We}ue.prototype.run=function(){this.fun.apply(null,this.array)},F.title="browser",F.browser=!0,F.env={},F.argv=[],F.version="",F.versions={};function xe(){}F.on=xe,F.addListener=xe,F.once=xe,F.off=xe,F.removeListener=xe,F.removeAllListeners=xe,F.emit=xe,F.prependListener=xe,F.prependOnceListener=xe,F.listeners=function(Ne){return[]},F.binding=function(Ne){throw new Error("process.binding is not supported")},F.cwd=function(){return"/"},F.chdir=function(Ne){throw new Error("process.chdir is not supported")},F.umask=function(){return 0}},function(E,Z,F){(function(T){"use strict";var B=F(7),z=F(8),Q=F(9),ye=F(10),ne=F(11),j=F(12);E.exports=function(K,W){var $=typeof Symbol=="function"&&Symbol.iterator,J="@@iterator";function ie(we){var qe=we&&($&&we[$]||we[J]);if(typeof qe=="function")return qe}var ue="<<anonymous>>",xe={array:ht("array"),bool:ht("boolean"),func:ht("function"),number:ht("number"),object:ht("object"),string:ht("string"),symbol:ht("symbol"),any:Ze(),arrayOf:It,element:ze(),instanceOf:ve,node:gt(),objectOf:et,oneOf:Qe,oneOfType:it,shape:Ye,exact:de};function Ne(we,qe){return we===qe?we!==0||1/we===1/qe:we!==we&&qe!==qe}function We(we){this.message=we,this.stack=""}We.prototype=Error.prototype;function Ce(we){if(T.env.NODE_ENV!=="production")var qe={},lt=0;function Me(nt,Et,Tt,yt,_t,Nt,sr){if(yt=yt||ue,Nt=Nt||Tt,sr!==ne){if(W)z(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use `PropTypes.checkPropTypes()` to call them. Read more at http://fb.me/use-check-prop-types");else if(T.env.NODE_ENV!=="production"&&typeof console<"u"){var Ut=yt+":"+Tt;!qe[Ut]&&lt<3&&(Q(!1,"You are manually calling a React.PropTypes validation function for the `%s` prop on `%s`. This is deprecated and will throw in the standalone `prop-types` package. You may be seeing this warning due to a third-party PropTypes library. See https://fb.me/react-warning-dont-call-proptypes for details.",Nt,yt),qe[Ut]=!0,lt++)}}return Et[Tt]==null?nt?Et[Tt]===null?new We("The "+_t+" `"+Nt+"` is marked as required "+("in `"+yt+"`, but its value is `null`.")):new We("The "+_t+" `"+Nt+"` is marked as required in "+("`"+yt+"`, but its value is `undefined`.")):null:we(Et,Tt,yt,_t,Nt)}var $e=Me.bind(null,!1);return $e.isRequired=Me.bind(null,!0),$e}function ht(we){function qe(lt,Me,$e,nt,Et,Tt){var yt=lt[Me],_t=st(yt);if(_t!==we){var Nt=St(yt);return new We("Invalid "+nt+" `"+Et+"` of type "+("`"+Nt+"` supplied to `"+$e+"`, expected ")+("`"+we+"`."))}return null}return Ce(qe)}function Ze(){return Ce(B.thatReturnsNull)}function It(we){function qe(lt,Me,$e,nt,Et){if(typeof we!="function")return new We("Property `"+Et+"` of component `"+$e+"` has invalid PropType notation inside arrayOf.");var Tt=lt[Me];if(!Array.isArray(Tt)){var yt=st(Tt);return new We("Invalid "+nt+" `"+Et+"` of type "+("`"+yt+"` supplied to `"+$e+"`, expected an array."))}for(var _t=0;_t<Tt.length;_t++){var Nt=we(Tt,_t,$e,nt,Et+"["+_t+"]",ne);if(Nt instanceof Error)return Nt}return null}return Ce(qe)}function ze(){function we(qe,lt,Me,$e,nt){var Et=qe[lt];if(!K(Et)){var Tt=st(Et);return new We("Invalid "+$e+" `"+nt+"` of type "+("`"+Tt+"` supplied to `"+Me+"`, expected a single ReactElement."))}return null}return Ce(we)}function ve(we){function qe(lt,Me,$e,nt,Et){if(!(lt[Me]instanceof we)){var Tt=we.name||ue,yt=Pt(lt[Me]);return new We("Invalid "+nt+" `"+Et+"` of type "+("`"+yt+"` supplied to `"+$e+"`, expected ")+("instance of `"+Tt+"`."))}return null}return Ce(qe)}function Qe(we){if(!Array.isArray(we))return T.env.NODE_ENV!=="production"&&Q(!1,"Invalid argument supplied to oneOf, expected an instance of array."),B.thatReturnsNull;function qe(lt,Me,$e,nt,Et){for(var Tt=lt[Me],yt=0;yt<we.length;yt++)if(Ne(Tt,we[yt]))return null;var _t=JSON.stringify(we);return new We("Invalid "+nt+" `"+Et+"` of value `"+Tt+"` "+("supplied to `"+$e+"`, expected one of "+_t+"."))}return Ce(qe)}function et(we){function qe(lt,Me,$e,nt,Et){if(typeof we!="function")return new We("Property `"+Et+"` of component `"+$e+"` has invalid PropType notation inside objectOf.");var Tt=lt[Me],yt=st(Tt);if(yt!=="object")return new We("Invalid "+nt+" `"+Et+"` of type "+("`"+yt+"` supplied to `"+$e+"`, expected an object."));for(var _t in Tt)if(Tt.hasOwnProperty(_t)){var Nt=we(Tt,_t,$e,nt,Et+"."+_t,ne);if(Nt instanceof Error)return Nt}return null}return Ce(qe)}function it(we){if(!Array.isArray(we))return T.env.NODE_ENV!=="production"&&Q(!1,"Invalid argument supplied to oneOfType, expected an instance of array."),B.thatReturnsNull;for(var qe=0;qe<we.length;qe++){var lt=we[qe];if(typeof lt!="function")return Q(!1,"Invalid argument supplied to oneOfType. Expected an array of check functions, but received %s at index %s.",ct(lt),qe),B.thatReturnsNull}function Me($e,nt,Et,Tt,yt){for(var _t=0;_t<we.length;_t++){var Nt=we[_t];if(Nt($e,nt,Et,Tt,yt,ne)==null)return null}return new We("Invalid "+Tt+" `"+yt+"` supplied to "+("`"+Et+"`."))}return Ce(Me)}function gt(){function we(qe,lt,Me,$e,nt){return Ue(qe[lt])?null:new We("Invalid "+$e+" `"+nt+"` supplied to "+("`"+Me+"`, expected a ReactNode."))}return Ce(we)}function Ye(we){function qe(lt,Me,$e,nt,Et){var Tt=lt[Me],yt=st(Tt);if(yt!=="object")return new We("Invalid "+nt+" `"+Et+"` of type `"+yt+"` "+("supplied to `"+$e+"`, expected `object`."));for(var _t in we){var Nt=we[_t];if(Nt){var sr=Nt(Tt,_t,$e,nt,Et+"."+_t,ne);if(sr)return sr}}return null}return Ce(qe)}function de(we){function qe(lt,Me,$e,nt,Et){var Tt=lt[Me],yt=st(Tt);if(yt!=="object")return new We("Invalid "+nt+" `"+Et+"` of type `"+yt+"` "+("supplied to `"+$e+"`, expected `object`."));var _t=ye({},lt[Me],we);for(var Nt in _t){var sr=we[Nt];if(!sr)return new We("Invalid "+nt+" `"+Et+"` key `"+Nt+"` supplied to `"+$e+"`.\nBad object: "+JSON.stringify(lt[Me],null,"  ")+`
Valid keys: `+JSON.stringify(Object.keys(we),null,"  "));var Ut=sr(Tt,Nt,$e,nt,Et+"."+Nt,ne);if(Ut)return Ut}return null}return Ce(qe)}function Ue(we){switch(typeof we){case"number":case"string":case"undefined":return!0;case"boolean":return!we;case"object":if(Array.isArray(we))return we.every(Ue);if(we===null||K(we))return!0;var qe=ie(we);if(qe){var lt=qe.call(we),Me;if(qe!==we.entries){for(;!(Me=lt.next()).done;)if(!Ue(Me.value))return!1}else for(;!(Me=lt.next()).done;){var $e=Me.value;if($e&&!Ue($e[1]))return!1}}else return!1;return!0;default:return!1}}function Ot(we,qe){return we==="symbol"||qe["@@toStringTag"]==="Symbol"||typeof Symbol=="function"&&qe instanceof Symbol}function st(we){var qe=typeof we;return Array.isArray(we)?"array":we instanceof RegExp?"object":Ot(qe,we)?"symbol":qe}function St(we){if(typeof we>"u"||we===null)return""+we;var qe=st(we);if(qe==="object"){if(we instanceof Date)return"date";if(we instanceof RegExp)return"regexp"}return qe}function ct(we){var qe=St(we);switch(qe){case"array":case"object":return"an "+qe;case"boolean":case"date":case"regexp":return"a "+qe;default:return qe}}function Pt(we){return!we.constructor||!we.constructor.name?ue:we.constructor.name}return xe.checkPropTypes=j,xe.PropTypes=xe,xe}}).call(Z,F(5))},function(E,Z){"use strict";function F(B){return function(){return B}}var T=function(){};T.thatReturns=F,T.thatReturnsFalse=F(!1),T.thatReturnsTrue=F(!0),T.thatReturnsNull=F(null),T.thatReturnsThis=function(){return this},T.thatReturnsArgument=function(B){return B},E.exports=T},function(E,Z,F){(function(T){"use strict";var B=function(ye){};T.env.NODE_ENV!=="production"&&(B=function(ye){if(ye===void 0)throw new Error("invariant requires an error message argument")});function z(Q,ye,ne,j,K,W,$,J){if(B(ye),!Q){var ie;if(ye===void 0)ie=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var ue=[ne,j,K,W,$,J],xe=0;ie=new Error(ye.replace(/%s/g,function(){return ue[xe++]})),ie.name="Invariant Violation"}throw ie.framesToPop=1,ie}}E.exports=z}).call(Z,F(5))},function(E,Z,F){(function(T){"use strict";var B=F(7),z=B;if(T.env.NODE_ENV!=="production"){var Q=function(ne){for(var j=arguments.length,K=Array(j>1?j-1:0),W=1;W<j;W++)K[W-1]=arguments[W];var $=0,J="Warning: "+ne.replace(/%s/g,function(){return K[$++]});typeof console<"u"&&console.error(J);try{throw new Error(J)}catch{}};z=function(ne,j){if(j===void 0)throw new Error("`warning(condition, format, ...args)` requires a warning message argument");if(j.indexOf("Failed Composite propType: ")!==0&&!ne){for(var K=arguments.length,W=Array(K>2?K-2:0),$=2;$<K;$++)W[$-2]=arguments[$];Q.apply(void 0,[j].concat(W))}}}E.exports=z}).call(Z,F(5))},function(E,Z){/*
object-assign
(c) Sindre Sorhus
@license MIT
*/"use strict";var F=Object.getOwnPropertySymbols,T=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;function z(ye){if(ye==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(ye)}function Q(){try{if(!Object.assign)return!1;var ye=new String("abc");if(ye[5]="de",Object.getOwnPropertyNames(ye)[0]==="5")return!1;for(var ne={},j=0;j<10;j++)ne["_"+String.fromCharCode(j)]=j;var K=Object.getOwnPropertyNames(ne).map(function($){return ne[$]});if(K.join("")!=="0123456789")return!1;var W={};return"abcdefghijklmnopqrst".split("").forEach(function($){W[$]=$}),Object.keys(Object.assign({},W)).join("")==="abcdefghijklmnopqrst"}catch{return!1}}E.exports=Q()?Object.assign:function(ye,ne){for(var j,K=z(ye),W,$=1;$<arguments.length;$++){j=Object(arguments[$]);for(var J in j)T.call(j,J)&&(K[J]=j[J]);if(F){W=F(j);for(var ie=0;ie<W.length;ie++)B.call(j,W[ie])&&(K[W[ie]]=j[W[ie]])}}return K}},function(E,Z){"use strict";var F="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";E.exports=F},function(E,Z,F){(function(T){"use strict";if(T.env.NODE_ENV!=="production")var B=F(8),z=F(9),Q=F(11),ye={};function ne(j,K,W,$,J){if(T.env.NODE_ENV!=="production"){for(var ie in j)if(j.hasOwnProperty(ie)){var ue;try{B(typeof j[ie]=="function","%s: %s type `%s` is invalid; it must be a function, usually from the `prop-types` package, but received `%s`.",$||"React class",W,ie,typeof j[ie]),ue=j[ie](K,ie,$,W,null,Q)}catch(Ne){ue=Ne}if(z(!ue||ue instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker function must return `null` or an `Error` but returned a %s. You may have forgotten to pass an argument to the type checker creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and shape all require an argument).",$||"React class",W,ie,typeof ue),ue instanceof Error&&!(ue.message in ye)){ye[ue.message]=!0;var xe=J?J():"";z(!1,"Failed %s type: %s%s",W,ue.message,xe??"")}}}}E.exports=ne}).call(Z,F(5))},function(E,Z,F){"use strict";var T=F(7),B=F(8),z=F(11);E.exports=function(){function Q(j,K,W,$,J,ie){ie!==z&&B(!1,"Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types")}Q.isRequired=Q;function ye(){return Q}var ne={array:Q,bool:Q,func:Q,number:Q,object:Q,string:Q,symbol:Q,any:Q,arrayOf:ye,element:Q,instanceOf:ye,node:Q,objectOf:ye,oneOf:ye,oneOfType:ye,shape:ye,exact:ye};return ne.checkPropTypes=T,ne.PropTypes=ne,ne}},function(E,Z){E.exports=X("../../node_modules/react/index.js")},function(E,Z){"use strict";var F=function(z,Q){return z===Q};function T(B){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:F,Q=void 0,ye=[],ne=void 0,j=!1,K=function(J,ie){return z(J,ye[ie])},W=function(){for(var J=arguments.length,ie=Array(J),ue=0;ue<J;ue++)ie[ue]=arguments[ue];return j&&Q===this&&ie.length===ye.length&&ie.every(K)||(j=!0,Q=this,ye=ie,ne=B.apply(this,ie)),ne};return W}E.exports=T}])},"../../node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js":function(Ke,Ie,X){"use strict";var E=X("../../node_modules/immutable/dist/immutable.es.js"),Z="<<anonymous>>",F,T=function(){invariant(!1,"ImmutablePropTypes type checking code is stripped in production.")};T.isRequired=T;var B=function(){return T};F={listOf:B,mapOf:B,orderedMapOf:B,setOf:B,orderedSetOf:B,stackOf:B,iterableOf:B,recordOf:B,shape:B,contains:B,mapContains:B,orderedMapContains:B,list:T,map:T,orderedMap:T,set:T,orderedSet:T,stack:T,seq:T,record:T,iterable:T},F.iterable.indexed=ne("Indexed",E.Iterable.isIndexed),F.iterable.keyed=ne("Keyed",E.Iterable.isKeyed);function z(ve){var Qe=typeof ve;return Array.isArray(ve)?"array":ve instanceof RegExp?"object":ve instanceof E.Iterable?"Immutable."+ve.toSource().split(" ")[0]:Qe}function Q(ve){function Qe(it,gt,Ye,de,Ue,Ot){for(var st=arguments.length,St=Array(st>6?st-6:0),ct=6;ct<st;ct++)St[ct-6]=arguments[ct];if(Ot=Ot||Ye,de=de||Z,gt[Ye]==null){var Pt=Ue;if(it)return new Error("Required "+Pt+" `"+Ot+"` was not specified in "+("`"+de+"`."))}else return ve.apply(void 0,[gt,Ye,de,Ue,Ot].concat(St))}var et=Qe.bind(null,!1);return et.isRequired=Qe.bind(null,!0),et}function ye(ve,Qe){function et(it,gt,Ye,de,Ue){var Ot=it[gt];if(!Qe(Ot)){var st=z(Ot);return new Error("Invalid "+de+" `"+Ue+"` of type `"+st+"` "+("supplied to `"+Ye+"`, expected `"+ve+"`."))}return null}return Q(et)}function ne(ve,Qe){return ye("Iterable."+ve,function(et){return E.Iterable.isIterable(et)&&Qe(et)})}function j(ve,Qe,et){function it(gt,Ye,de,Ue,Ot){for(var st=arguments.length,St=Array(st>5?st-5:0),ct=5;ct<st;ct++)St[ct-5]=arguments[ct];var Pt=gt[Ye];if(!et(Pt)){var we=Ue,qe=z(Pt);return new Error("Invalid "+we+" `"+Ot+"` of type "+("`"+qe+"` supplied to `"+de+"`, expected an Immutable.js "+Qe+"."))}if(typeof ve!="function")return new Error("Invalid typeChecker supplied to `"+de+"` "+("for propType `"+Ot+"`, expected a function."));for(var lt=Pt.valueSeq().toArray(),Me=0,$e=lt.length;Me<$e;Me++){var nt=ve.apply(void 0,[lt,Me,de,Ue,""+Ot+"["+Me+"]"].concat(St));if(nt instanceof Error)return nt}}return Q(it)}function K(ve){function Qe(et,it,gt,Ye,de){for(var Ue=arguments.length,Ot=Array(Ue>5?Ue-5:0),st=5;st<Ue;st++)Ot[st-5]=arguments[st];var St=et[it];if(typeof ve!="function")return new Error("Invalid keysTypeChecker (optional second argument) supplied to `"+gt+"` "+("for propType `"+de+"`, expected a function."));for(var ct=St.keySeq().toArray(),Pt=0,we=ct.length;Pt<we;Pt++){var qe=ve.apply(void 0,[ct,Pt,gt,Ye,""+de+" -> key("+ct[Pt]+")"].concat(Ot));if(qe instanceof Error)return qe}}return Q(Qe)}function W(ve){return j(ve,"List",E.List.isList)}function $(ve,Qe,et,it){function gt(){for(var Ye=arguments.length,de=Array(Ye),Ue=0;Ue<Ye;Ue++)de[Ue]=arguments[Ue];return j(ve,et,it).apply(void 0,de)||Qe&&K(Qe).apply(void 0,de)}return Q(gt)}function J(ve,Qe){return $(ve,Qe,"Map",E.Map.isMap)}function ie(ve,Qe){return $(ve,Qe,"OrderedMap",E.OrderedMap.isOrderedMap)}function ue(ve){return j(ve,"Set",E.Set.isSet)}function xe(ve){return j(ve,"OrderedSet",E.OrderedSet.isOrderedSet)}function Ne(ve){return j(ve,"Stack",E.Stack.isStack)}function We(ve){return j(ve,"Iterable",E.Iterable.isIterable)}function Ce(ve){function Qe(et,it,gt,Ye,de){for(var Ue=arguments.length,Ot=Array(Ue>5?Ue-5:0),st=5;st<Ue;st++)Ot[st-5]=arguments[st];var St=et[it];if(!(St instanceof E.Record)){var ct=z(St),Pt=Ye;return new Error("Invalid "+Pt+" `"+de+"` of type `"+ct+"` "+("supplied to `"+gt+"`, expected an Immutable.js Record."))}for(var we in ve){var qe=ve[we];if(qe){var lt=St.toObject(),Me=qe.apply(void 0,[lt,we,gt,Ye,""+de+"."+we].concat(Ot));if(Me)return Me}}}return Q(Qe)}function ht(ve){var Qe=arguments[1]===void 0?"Iterable":arguments[1],et=arguments[2]===void 0?E.Iterable.isIterable:arguments[2];function it(gt,Ye,de,Ue,Ot){for(var st=arguments.length,St=Array(st>5?st-5:0),ct=5;ct<st;ct++)St[ct-5]=arguments[ct];var Pt=gt[Ye];if(!et(Pt)){var we=z(Pt),qe=Ue;return new Error("Invalid "+qe+" `"+Ot+"` of type `"+we+"` "+("supplied to `"+de+"`, expected an Immutable.js "+Qe+"."))}var lt=Pt.toObject();for(var Me in ve){var $e=ve[Me];if($e){var nt=$e.apply(void 0,[lt,Me,de,Ue,""+Ot+"."+Me].concat(St));if(nt)return nt}}}return Q(it)}function Ze(ve){return ht(ve)}function It(ve){return ht(ve,"Map",E.Map.isMap)}function ze(ve){return ht(ve,"OrderedMap",E.OrderedMap.isOrderedMap)}Ke.exports=F},"../../node_modules/selection-is-backward/index.js":function(Ke){function Ie(X){var E=X.anchorNode,Z=X.anchorOffset,F=X.focusNode,T=X.focusOffset,B=E.compareDocumentPosition(F);return!(B===4||B===0&&Z<T)}Ke.exports=Ie},"../../node_modules/slate-hotkeys/node_modules/is-hotkey/lib/index.js":function(Ke,Ie){"use strict";var X;X={value:!0};for(var E=typeof window<"u"&&/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Z={alt:"altKey",control:"ctrlKey",meta:"metaKey",shift:"shiftKey"},F={add:"+",break:"pause",cmd:"meta",command:"meta",ctl:"control",ctrl:"control",del:"delete",down:"arrowdown",esc:"escape",ins:"insert",left:"arrowleft",mod:E?"meta":"control",opt:"alt",option:"alt",return:"enter",right:"arrowright",space:" ",spacebar:" ",up:"arrowup",win:"meta",windows:"meta"},T={backspace:8,tab:9,enter:13,shift:16,control:17,alt:18,pause:19,capslock:20,escape:27," ":32,pageup:33,pagedown:34,end:35,home:36,arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,insert:45,delete:46,meta:91,numlock:144,scrolllock:145,";":186,"=":187,",":188,"-":189,".":190,"/":191,"`":192,"[":219,"\\":220,"]":221,"'":222},B=1;B<20;B++)T["f"+B]=111+B;function z($,J,ie){J&&!("byKey"in J)&&(ie=J,J=null),Array.isArray($)||($=[$]);var ue=$.map(function(We){return ne(We,J)}),xe=function(Ce){return ue.some(function(ht){return j(ht,Ce)})},Ne=ie==null?xe:xe(ie);return Ne}function Q($,J){return z($,J)}function ye($,J){return z($,{byKey:!0},J)}function ne($,J){var ie=J&&J.byKey,ue={};$=$.replace("++","+add");var xe=$.split("+"),Ne=xe.length;for(var We in Z)ue[Z[We]]=!1;var Ce=!0,ht=!1,Ze=void 0;try{for(var It=xe[Symbol.iterator](),ze;!(Ce=(ze=It.next()).done);Ce=!0){var ve=ze.value,Qe=ve.endsWith("?");Qe&&(ve=ve.slice(0,-1));var et=W(ve),it=Z[et];(Ne===1||!it)&&(ie?ue.key=et:ue.which=K(ve)),it&&(ue[it]=Qe?null:!0)}}catch(gt){ht=!0,Ze=gt}finally{try{!Ce&&It.return&&It.return()}finally{if(ht)throw Ze}}return ue}function j($,J){for(var ie in $){var ue=$[ie],xe=void 0;if(ue!=null&&(ie==="key"?xe=J.key.toLowerCase():ie==="which"?xe=ue===91&&J.which===93?91:J.which:xe=J[ie],!(xe==null&&ue===!1)&&xe!==ue))return!1}return!0}function K($){$=W($);var J=T[$]||$.toUpperCase().charCodeAt(0);return J}function W($){return $=$.toLowerCase(),$=F[$]||$,$}X=z,X=z,X=Q,Ie.Sn=ye,X=ne,X=j,X=K,X=W},"../../node_modules/slate-plain-serializer/lib/slate-plain-serializer.es.js":function(Ke,Ie,X){"use strict";var E=X("../../node_modules/slate/lib/slate.es.js"),Z=X("../../node_modules/immutable/dist/immutable.es.js"),F=Object.assign||function(ye){for(var ne=1;ne<arguments.length;ne++){var j=arguments[ne];for(var K in j)Object.prototype.hasOwnProperty.call(j,K)&&(ye[K]=j[K])}return ye};function T(ye){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=ne.defaultBlock,K=j===void 0?"line":j,W=ne.defaultMarks,$=W===void 0?[]:W,J=ne.delimiter,ie=J===void 0?`
`:J,ue=ne.toJSON,xe=ue===void 0?!1:ue;Z.Set.isSet($)&&($=$.toArray()),K=E.bP.createProperties(K),$=$.map(E.CU.createProperties);var Ne={object:"value",document:{object:"document",data:{},nodes:ye.split(ie).map(function(Ce){return F({},K,{object:"block",data:{},nodes:[{object:"text",text:Ce,marks:$}]})})}},We=xe?Ne:E.WT.fromJSON(Ne);return We}function B(ye){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z(ye.document,ne)}function z(ye){var ne=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},j=ne.delimiter,K=j===void 0?`
`:j;return ye.object==="document"||ye.object==="block"&&E.eB.isBlockList(ye.nodes)?ye.nodes.map(z).join(K):ye.text}var Q={deserialize:T,serialize:B};Ie.A=Q},"../../node_modules/slate-react/lib/slate-react.es.js":function(Ke,Ie,X){"use strict";X.d(Ie,{KE:function(){return A}});var E=X("../../node_modules/react/index.js"),Z=X("../../node_modules/prop-types/index.js"),F=X.n(Z),T=X("../../node_modules/slate/lib/slate.es.js");function B(p,g){function w(b,R,M,q,Y){var D=R[M];return D==null&&!b?null:D==null&&b?new Error("The "+Y+" `"+M+"` is marked as required in `"+q+"`, but it was not supplied."):g(D)?null:new Error("Invalid "+Y+" `"+M+"` supplied to `"+q+"`, expected a Slate `"+p+"` but received: "+D)}function k(){for(var b=arguments.length,R=Array(b),M=0;M<b;M++)R[M]=arguments[M];return w.apply(void 0,[!1].concat(R))}return k.isRequired=function(){for(var b=arguments.length,R=Array(b),M=0;M<b;M++)R[M]=arguments[M];return w.apply(void 0,[!0].concat(R))},k}var z={block:B("Block",function(p){return T.eB.isBlock(p)}),blocks:B("List<Block>",function(p){return T.eB.isBlockList(p)}),change:B("Change",function(p){return T.lY.isChange(p)}),data:B("Data",function(p){return T.B_.isData(p)}),document:B("Document",function(p){return T.yo.isDocument(p)}),inline:B("Inline",function(p){return T.cV.isInline(p)}),inlines:B("Inline",function(p){return T.cV.isInlineList(p)}),leaf:B("Leaf",function(p){return T.hK.isLeaf(p)}),leaves:B("List<Leaf>",function(p){return T.hK.isLeafList(p)}),mark:B("Mark",function(p){return T.CU.isMark(p)}),marks:B("Set<Mark>",function(p){return T.CU.isMarkSet(p)}),node:B("Node",function(p){return T.bP.isNode(p)}),nodes:B("List<Node>",function(p){return T.bP.isNodeList(p)}),range:B("Range",function(p){return T.Q6.isRange(p)}),ranges:B("List<Range>",function(p){return T.Q6.isRangeList(p)}),selection:B("Selection",function(p){return T.LN.isSelection(p)}),value:B("Value",function(p){return T.WT.isValue(p)}),text:B("Text",function(p){return T.EY.isText(p)}),texts:B("List<Text>",function(p){return T.EY.isTextList(p)})},Q=z,ye=X("../../node_modules/react-immutable-proptypes/dist/ImmutablePropTypes.js"),ne=X.n(ye),j=X("../../node_modules/slate-react/node_modules/debug/src/browser.js"),K=X.n(j),W=!0,$=function(p,g){if(!W){if(p)return;console.warn(g)}},J=$,ie=X("../../node_modules/get-window/index.js"),ue=X.n(ie),xe=X("../../node_modules/selection-is-backward/index.js"),Ne=X.n(xe),We=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(p){return typeof p}:function(p){return p&&typeof Symbol=="function"&&p.constructor===Symbol&&p!==Symbol.prototype?"symbol":typeof p},Ce=(typeof window>"u"?"undefined":We(window))==="object"&&(typeof document>"u"?"undefined":We(document))==="object"&&document.nodeType===9,ht=Ce,Ze=function(){function p(g,w){var k=[],b=!0,R=!1,M=void 0;try{for(var q=g[Symbol.iterator](),Y;!(b=(Y=q.next()).done)&&(k.push(Y.value),!(w&&k.length===w));b=!0);}catch(D){R=!0,M=D}finally{try{!b&&q.return&&q.return()}finally{if(R)throw M}}return k}return function(g,w){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),It=[["edge",/Edge\/([0-9\._]+)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)$/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+)\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["android",/Android\s([0-9\.]+)/],["safari",/Version\/([0-9\._]+).*Safari/]],ze=void 0;if(ht){var ve=!0,Qe=!1,et=void 0;try{for(var it=It[Symbol.iterator](),gt;!(ve=(gt=it.next()).done);ve=!0){var Ye=gt.value,de=Ze(Ye,2),Ue=de[0],Ot=de[1];if(Ot.test(window.navigator.userAgent)){ze=Ue;break}}}catch(p){Qe=!0,et=p}finally{try{!ve&&it.return&&it.return()}finally{if(Qe)throw et}}}var st=[["ios",/os ([\.\_\d]+) like mac os/i],["macos",/mac os x/i],["android",/android/i],["firefoxos",/mozilla\/[a-z\.\_\d]+ \((?:mobile)|(?:tablet)/i],["windows",/windows\s*(?:nt)?\s*([\.\_\d]+)/i]],St=void 0;if(ht){var ct=!0,Pt=!1,we=void 0;try{for(var qe=st[Symbol.iterator](),lt;!(ct=(lt=qe.next()).done);ct=!0){var Me=lt.value,$e=Ze(Me,2),nt=$e[0],Et=$e[1];if(Et.test(window.navigator.userAgent)){St=nt;break}}}catch(p){Pt=!0,we=p}finally{try{!ct&&qe.return&&qe.return()}finally{if(Pt)throw we}}}var Tt=[["inputeventslevel1",function(p){var g=p.InputEvent?new p.InputEvent("input"):{},w="inputType"in g;return w}],["inputeventslevel2",function(p){return!1}]],yt=[];if(ht){var _t=!0,Nt=!1,sr=void 0;try{for(var Ut=Tt[Symbol.iterator](),jr;!(_t=(jr=Ut.next()).done);_t=!0){var rr=jr.value,Fe=Ze(rr,2),Or=Fe[0],xt=Fe[1];xt(window)&&yt.push(Or)}}catch(p){Nt=!0,sr=p}finally{try{!_t&&Ut.return&&Ut.return()}finally{if(Nt)throw sr}}}var ur=[[/^9([.]0|)/,28],[/^8[.]1/,27],[/^8([.]0|)/,26],[/^7[.]1/,25],[/^7([.]0|)/,24],[/^6([.]0|)/,23],[/^5[.]1/,22],[/^5([.]0|)/,21],[/^4[.]4/,20]];function mn(){if(St!=="android")return null;var p=window.navigator.userAgent,g=p.match(/Android\s([0-9\.]+)/);if(g==null)return null;var w=g[1],k=!0,b=!1,R=void 0;try{for(var M=ur[Symbol.iterator](),q;!(k=(q=M.next()).done);k=!0){var Y=q.value,D=Ze(Y,2),L=D[0],ee=D[1];if(w.match(L))return ee}}catch(se){b=!0,R=se}finally{try{!k&&M.return&&M.return()}finally{if(b)throw R}}return null}var Ft=ze==="chrome",zn=ze==="opera",kr=ze==="firefox",sn=ze==="safari",lr=ze==="ie",un=ze==="edge",$r=St==="android",Br=St==="ios",Qt=St==="macos",Yr=St==="windows",jt=mn(),Lt=yt.includes("inputeventslevel1"),Zt=yt.includes("inputeventslevel2")||$r&&(jt===28||jt===null),Zr=X("../../node_modules/lodash/throttle.js"),Vt=X.n(Zr),cr=X("../../node_modules/lodash/omit.js"),gn=X.n(cr),fr=X("../../node_modules/immutable/dist/immutable.es.js"),pt=X("../../node_modules/slate-hotkeys/node_modules/is-hotkey/lib/index.js"),yn={bold:"mod+b",compose:["down","left","right","up","backspace","enter"],moveBackward:"left",moveForward:"right",moveWordBackward:"ctrl+left",moveWordForward:"ctrl+right",deleteBackward:"shift?+backspace",deleteForward:"shift?+delete",extendBackward:"shift+left",extendForward:"shift+right",italic:"mod+i",splitBlock:"shift?+enter",undo:"mod+z"},gr={moveLineBackward:"opt+up",moveLineForward:"opt+down",moveWordBackward:"opt+left",moveWordForward:"opt+right",deleteBackward:["ctrl+backspace","ctrl+h"],deleteForward:["ctrl+delete","ctrl+d"],deleteLineBackward:"cmd+shift?+backspace",deleteLineForward:["cmd+shift?+delete","ctrl+k"],deleteWordBackward:"opt+shift?+backspace",deleteWordForward:"opt+shift?+delete",extendLineBackward:"opt+shift+up",extendLineForward:"opt+shift+down",redo:"cmd+shift+z",transposeCharacter:"ctrl+t"},jn={deleteWordBackward:"ctrl+shift?+backspace",deleteWordForward:"ctrl+shift?+delete",redo:"ctrl+y"},wr={},Pn=Br||Qt,Yn=!Pn,Zn=[].concat(Object.keys(yn)).concat(Object.keys(gr)).concat(Object.keys(jn));Zn.forEach(function(p){var g="is"+p[0].toUpperCase()+p.slice(1);if(!wr[g]){var w=yn[p],k=gr[p],b=jn[p],R=w&&(0,pt.Sn)(w),M=k&&(0,pt.Sn)(k),q=b&&(0,pt.Sn)(b);wr[g]=function(Y){return!!(R&&R(Y)||Pn&&M&&M(Y)||Yn&&q&&q(Y))}}});var Rt=wr,rt=X("../../node_modules/react-dom/index.js"),S=X("../../node_modules/isomorphic-base64/browser.js");function x(p){var g=JSON.stringify(p),w=(0,S.E)(encodeURIComponent(g));return w}function O(p){var g=decodeURIComponent((0,S.l)(p)),w=JSON.parse(g);return w}function V(p,g){var w=O(p),k=T.WT.fromJSON(w,g);return k}function H(p,g){var w=O(p),k=T.bP.fromJSON(w,g);return k}function U(p,g){var w=p.toJSON(g),k=x(w);return k}function Te(p,g){var w=p.toJSON(g),k=x(w);return k}var Be={deserialize:V,deserializeNode:H,serialize:U,serializeNode:Te},mt=Be,Ge=X("../../node_modules/slate-plain-serializer/lib/slate-plain-serializer.es.js"),dt=X("../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js"),ut=!1,Dt="Invariant failed",Nr=function(p,g){if(!p)throw ut?new Error(Dt):new Error(Dt+": "+(g||""))},hr=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(p[k]=w[k])}return p},br=function(){function p(g,w){var k=[],b=!0,R=!1,M=void 0;try{for(var q=g[Symbol.iterator](),Y;!(b=(Y=q.next()).done)&&(k.push(Y.value),!(w&&k.length===w));b=!0);}catch(D){R=!0,M=D}finally{try{!b&&q.return&&q.return()}finally{if(R)throw M}}return k}return function(g,w){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),rn=function(p){if(Array.isArray(p)){for(var g=0,w=Array(p.length);g<p.length;g++)w[g]=p[g];return w}else return Array.from(p)},Rn=0;function Fn(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=Rn++,w=p.placeholder,k=p.when,b=p.style,R=b===void 0?{}:b;Nr(typeof w=="string","You must pass `SlateReactPlaceholder` an `options.placeholder` string."),Nr(typeof k=="string"||typeof k=="function","You must pass `SlateReactPlaceholder` an `options.when` query.");function M(Y,D,L){if(!D.query(k,Y))return L();var ee=L(),se=Y.texts(),le=br(se,1),ke=le[0],me=Y.texts({direction:"backward"}),Ae=br(me,1),re=Ae[0],G=br(ke,2),_e=G[0],Pe=G[1],be=br(re,2),je=be[0],pe=be[1],Oe={type:"placeholder",data:{key:g},anchor:{key:_e.key,offset:0,path:Pe},focus:{key:je.key,offset:je.text.length,path:pe}};return[].concat(rn(ee),[Oe])}function q(Y,D,L){var ee=Y.children,se=Y.decoration;if(se.type==="placeholder"&&se.data.get("key")===g){var le=hr({pointerEvents:"none",display:"inline-block",width:"0",maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.333",verticalAlign:"text-top"},R);return E.createElement("span",null,E.createElement("span",{contentEditable:!1,style:le},w),ee)}return L()}return{decorateNode:M,renderDecoration:q}}var Gr=Fn,kn=function(g,w){return g===w};function Gn(p,g){g===void 0&&(g=kn);var w,k=[],b,R=!1,M=function(D,L){return g(D,k[L])},q=function(){for(var D=arguments.length,L=new Array(D),ee=0;ee<D;ee++)L[ee]=arguments[ee];return R&&w===this&&L.length===k.length&&L.every(M)||(b=p.apply(this,L),R=!0,w=this,k=L),b};return q}var Kr=Gn,Cr=["onBeforeInput","onBlur","onClick","onContextMenu","onCompositionEnd","onCompositionStart","onCopy","onCut","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop","onInput","onFocus","onKeyDown","onKeyUp","onMouseDown","onMouseUp","onPaste","onSelect"],qt=["decorateNode","renderAnnotation","renderBlock","renderDecoration","renderDocument","renderEditor","renderInline","renderMark"],kt={EDITOR:"data-slate-editor",FRAGMENT:"data-slate-fragment",KEY:"data-key",LEAF:"data-slate-leaf",LENGTH:"data-slate-length",OBJECT:"data-slate-object",OFFSET_KEY:"data-offset-key",SPACER:"data-slate-spacer",STRING:"data-slate-string",TEXT:"data-slate-object",VOID:"data-slate-void",ZERO_WIDTH:"data-slate-zero-width"},Ht={BLOCK:"["+kt.OBJECT+'="block"]',EDITOR:"["+kt.EDITOR+"]",INLINE:"["+kt.OBJECT+'="inline"]',KEY:"["+kt.KEY+"]",LEAF:"["+kt.LEAF+"]",OBJECT:"["+kt.OBJECT+"]",STRING:"["+kt.STRING+"]",TEXT:"["+kt.OBJECT+'="text"]',VOID:"["+kt.VOID+"]",ZERO_WIDTH:"["+kt.ZERO_WIDTH+"]"},Ct=function(p,g){if(!(p instanceof g))throw new TypeError("Cannot call a class as a function")},wn=function(){function p(g,w){for(var k=0;k<w.length;k++){var b=w[k];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(g,b.key,b)}}return function(g,w,k){return w&&p(g.prototype,w),k&&p(g,k),g}}(),nr=function(p,g,w){return g in p?Object.defineProperty(p,g,{value:w,enumerable:!0,configurable:!0,writable:!0}):p[g]=w,p},bt=Object.assign||function(p){for(var g=1;g<arguments.length;g++){var w=arguments[g];for(var k in w)Object.prototype.hasOwnProperty.call(w,k)&&(p[k]=w[k])}return p},cn=function(p,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);p.prototype=Object.create(g&&g.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(p,g):p.__proto__=g)},Ir=function(p,g){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:p},zt=function(){function p(g,w){var k=[],b=!0,R=!1,M=void 0;try{for(var q=g[Symbol.iterator](),Y;!(b=(Y=q.next()).done)&&(k.push(Y.value),!(w&&k.length===w));b=!0);}catch(D){R=!0,M=D}finally{try{!b&&q.return&&q.return()}finally{if(R)throw M}}return k}return function(g,w){if(Array.isArray(g))return g;if(Symbol.iterator in Object(g))return p(g,w);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Qr=function(p){if(Array.isArray(p)){for(var g=0,w=Array(p.length);g<p.length;g++)w[g]=p[g];return w}else return Array.from(p)},Qn=/^([\w-]+)(?::(\d+))?$/;function Ar(p){var g=Qn.exec(p);if(!g)throw new Error('Invalid offset key string "'+p+'".');var w=zt(g,3),k=w[0],b=w[1],R=w[2];return{key:b,index:parseInt(R,10)}}function $n(p){return p.key+":"+p.index}var Sr={parse:Ar,stringify:$n},ae=function(g){var w=g.text,k=w===void 0?"":w,b=g.isTrailing,R=b===void 0?!1:b;return E.createElement("span",nr({},kt.STRING,!0),k,R?`
`:null)},Jt=function(g){var w,k=g.length,b=k===void 0?0:k,R=g.isLineBreak,M=R===void 0?!1:R;return E.createElement("span",(w={},nr(w,kt.ZERO_WIDTH,M?"n":"z"),nr(w,kt.LENGTH,b),w),"\uFEFF",M?E.createElement("br",null):null)},$t=function(g){var w,k=g.marks,b=g.annotations,R=g.decorations,M=g.node,q=g.index,Y=g.offset,D=g.text,L=g.editor,ee=g.parent,se=g.block,le=g.leaves,ke=Sr.stringify({key:M.key,index:q}),me=void 0;if(L.query("isVoid",ee))me=E.createElement(Jt,{length:ee.text.length});else if(D===""&&ee.object==="block"&&ee.text===""&&ee.nodes.last()===M)me=E.createElement(Jt,{isLineBreak:!0});else if(D==="")me=E.createElement(Jt,null);else{var Ae=se.getLastText(),re=D.charAt(D.length-1),G=M===Ae,_e=q===le.size-1;G&&_e&&re===`
`?me=E.createElement(ae,{isTrailing:!0,text:D}):me=E.createElement(ae,{text:D})}var Pe={editor:L,marks:k,annotations:b,decorations:R,node:M,offset:Y,text:D},be=!0,je=!1,pe=void 0;try{for(var Oe=k[Symbol.iterator](),Re;!(be=(Re=Oe.next()).done);be=!0){var Ve=Re.value,oe=L.run("renderMark",bt({},Pe,{mark:Ve,children:me,attributes:nr({},kt.OBJECT,"mark")}));oe&&(me=oe)}}catch(zr){je=!0,pe=zr}finally{try{!be&&Oe.return&&Oe.return()}finally{if(je)throw pe}}var Se=!0,Le=!1,at=void 0;try{for(var Mt=R[Symbol.iterator](),Xt;!(Se=(Xt=Mt.next()).done);Se=!0){var ir=Xt.value,oe=L.run("renderDecoration",bt({},Pe,{decoration:ir,children:me,attributes:nr({},kt.OBJECT,"decoration")}));oe&&(me=oe)}}catch(zr){Le=!0,at=zr}finally{try{!Se&&Mt.return&&Mt.return()}finally{if(Le)throw at}}var tr=!0,er=!1,dr=void 0;try{for(var mr=b[Symbol.iterator](),_r;!(tr=(_r=mr.next()).done);tr=!0){var Er=_r.value,oe=L.run("renderAnnotation",bt({},Pe,{annotation:Er,children:me,attributes:nr({},kt.OBJECT,"annotation")}));oe&&(me=oe)}}catch(zr){er=!0,dr=zr}finally{try{!tr&&mr.return&&mr.return()}finally{if(er)throw dr}}var Lr=(w={},nr(w,kt.LEAF,!0),nr(w,kt.OFFSET_KEY,ke),w);return E.createElement("span",Lr,me)};$t.propTypes={annotations:ne().list.isRequired,block:Q.block.isRequired,decorations:ne().list.isRequired,editor:F().object.isRequired,index:F().number.isRequired,leaves:F().object.isRequired,marks:Q.marks.isRequired,node:Q.node.isRequired,offset:F().number.isRequired,parent:Q.node.isRequired,text:F().string.isRequired};var tt=E.memo($t,function(p,g){return g.block===p.block&&g.index===p.index&&g.marks===p.marks&&g.parent===p.parent&&g.text===p.text&&g.annotations.equals(p.annotations)&&g.decorations.equals(p.decorations)}),Dr=E.forwardRef(function(p,g){var w,k=p.annotations,b=p.block,R=p.decorations,M=p.node,q=p.parent,Y=p.editor,D=p.style,L=M.key,ee=M.getLeaves(k,R),se=0;return E.createElement("span",bt({ref:g,style:D},(w={},nr(w,kt.OBJECT,M.object),nr(w,kt.KEY,L),w)),ee.map(function(le,ke){var me=le.text,Ae=se;return se+=me.length,E.createElement(tt,{key:M.key+"-"+ke,block:b,editor:Y,index:ke,annotations:le.annotations,decorations:le.decorations,marks:le.marks,node:M,offset:Ae,parent:q,leaves:ee,text:me})}))});Dr.propTypes={annotations:ne().map.isRequired,block:Q.block,decorations:ne().list.isRequired,editor:F().object.isRequired,node:Q.node.isRequired,parent:Q.node.isRequired,style:F().object};var Ur=E.memo(Dr,function(p,g){return g.node===p.node&&g.parent.object==="block"&&p.parent.nodes.last()===p.node&&g.parent.nodes.last()!==g.node&&g.annotations.equals(p.annotations)&&g.decorations.equals(p.decorations)}),nn=K()("slate:void"),Xr=function(p){cn(g,p);function g(){var w,k,b,R;Ct(this,g);for(var M=arguments.length,q=Array(M),Y=0;Y<M;Y++)q[Y]=arguments[Y];return R=(k=(b=Ir(this,(w=g.__proto__||Object.getPrototypeOf(g)).call.apply(w,[this].concat(q))),b),en.call(b),k),Ir(b,R)}return wn(g,[{key:"render",value:function(){var k,b=this.props,R=b.children,M=b.node,q=b.readOnly,Y=M.object==="block"?"div":"span",D={height:"0",color:"transparent",outline:"none",position:"absolute"},L=nr({},kt.SPACER,!0),ee=E.createElement(Y,bt({style:D},L),this.renderText()),se=E.createElement(Y,{contentEditable:q?null:!1},R);this.debug("render",{props:b});var le=(k={},nr(k,kt.VOID,!0),nr(k,kt.KEY,M.key),k);return E.createElement(Y,bt({contentEditable:q||M.object==="block"?null:!1},le),q?null:ee,se)}}]),g}(E.Component);Xr.propTypes={block:Q.block,children:F().any.isRequired,editor:F().object.isRequired,node:Q.node.isRequired,parent:Q.node.isRequired,readOnly:F().bool.isRequired};var en=function(){var g=this;this.debug=function(w){for(var k=arguments.length,b=Array(k>1?k-1:0),R=1;R<k;R++)b[R-1]=arguments[R];var M=g.props.node,q=M.key,Y=M.type,D=q+" ("+Y+")";nn.apply(void 0,[w,""+D].concat(b))},this.renderText=function(){var w=g.props,k=w.annotations,b=w.block,R=w.decorations,M=w.node,q=w.readOnly,Y=w.editor,D=w.textRef,L=M.getFirstText();return E.createElement(Ur,{ref:D,annotations:k,block:M.object==="block"?M:b,decorations:R,editor:Y,key:L.key,node:L,parent:M,readOnly:q})}},bn=K()("slate:node"),qr=function(p){cn(g,p);function g(){var w,k,b,R;Ct(this,g);for(var M=arguments.length,q=Array(M),Y=0;Y<M;Y++)q[Y]=arguments[Y];return R=(k=(b=Ir(this,(w=g.__proto__||Object.getPrototypeOf(g)).call.apply(w,[this].concat(q))),b),Kn.call(b),k),Ir(b,R)}return wn(g,[{key:"shouldComponentUpdate",value:function(k){var b=this.props,R=b.editor,M=R.run("shouldNodeComponentUpdate",b,k),q=k,Y=b;if(M!=null){if(J(!1,'As of slate-react@0.22 the `shouldNodeComponentUpdate` middleware is deprecated. You can pass specific values down the tree using React\'s built-in "context" construct instead.'),M)return!0;J(M!==!1,"Returning false in `shouldNodeComponentUpdate` does not disable Slate's internal `shouldComponentUpdate` logic. If you want to prevent updates, use React's `shouldComponentUpdate` instead.")}return!!(q.readOnly!==Y.readOnly||q.node!==Y.node||!q.selection&&Y.selection||q.selection&&!Y.selection||q.selection&&Y.selection&&!q.selection.equals(Y.selection)||!q.annotations.equals(Y.annotations)||!q.decorations.equals(Y.decorations))}},{key:"render",value:function(){var k=this,b;this.debug("render",this);var R=this.props,M=R.annotations,q=R.block,Y=R.decorations,D=R.editor,L=R.node,ee=R.parent,se=R.readOnly,le=R.selection,ke=L.getDecorations(D),me=L.nodes.toArray().map(function(Pe,be){var je=Pe.object==="text"?Ur:g,pe=le&&An(L,be,le),Oe=ke.concat(Y).map(function(Ve){return An(L,be,Ve)}).filter(function(Ve){return Ve}),Re=M.map(function(Ve){return An(L,be,Ve)}).filter(function(Ve){return Ve});return E.createElement(je,{block:L.object==="block"?L:q,editor:D,annotations:Re,decorations:Oe,selection:pe,key:Pe.key,node:Pe,parent:L,readOnly:se,ref:function(oe){oe?k.tmp.nodeRefs[be]=oe:delete k.tmp.nodeRefs[be]}})}),Ae=(b={},nr(b,kt.OBJECT,L.object),nr(b,kt.KEY,L.key),nr(b,"ref",this.ref),b);if(L.isLeafBlock()){var re=L.getTextDirection();re==="rtl"&&(Ae.dir="rtl")}var G=void 0;L.object==="block"?G="renderBlock":L.object==="document"?G="renderDocument":L.object==="inline"&&(G="renderInline");var _e=D.run(G,{attributes:Ae,children:me,editor:D,isFocused:!!le&&le.isFocused,isSelected:!!le,node:L,parent:ee,readOnly:se});return D.isVoid(L)?E.createElement(Xr,bt({},this.props,{textRef:function(be){be?k.tmp.nodeRefs[0]=be:delete k.tmp.nodeRefs[0]}}),_e):_e}}]),g}(E.Component);qr.propTypes={annotations:ne().map.isRequired,block:Q.block,decorations:ne().list.isRequired,editor:F().object.isRequired,node:Q.node.isRequired,parent:Q.node,readOnly:F().bool.isRequired,selection:Q.selection};var Kn=function(){var g=this;this.tmp={nodeRefs:{}},this.ref=E.createRef(),this.debug=function(w){for(var k=arguments.length,b=Array(k>1?k-1:0),R=1;R<k;R++)b[R-1]=arguments[R];var M=g.props.node,q=M.key,Y=M.type;bn.apply(void 0,[w,q+" ("+Y+")"].concat(b))}};function An(p,g,w){if(w.isUnset)return null;var k=p.nodes.get(g),b=w,R=b.start,M=b.end,q=R,Y=q.path,D=M,L=D.path,ee=Y.first(),se=L.first();if(ee===g)R=R.setPath(Y.rest());else if(ee<g&&g<=se)if(k.object==="text")R=R.moveTo(T.PW.create([g]),0).setKey(k.key);else{var le=k.texts(),ke=zt(le,1),me=ke[0],Ae=zt(me,2),re=Ae[0],G=Ae[1];R=R.moveTo(G,0).setKey(re.key)}else R=null;if(se===g)M=M.setPath(L.rest());else if(ee<=g&&g<se)if(k.object==="text"){var _e=k.text.length;M=M.moveTo(T.PW.create([g]),_e).setKey(k.key)}else{var Pe=k.texts({direction:"backward"}),be=zt(Pe,1),je=be[0],pe=zt(je,2),Oe=pe[0],Re=pe[1];M=M.moveTo(Re,Oe.text.length).setKey(Oe.key)}else M=null;return!R||!M?null:(w=w.setAnchor(R),w=w.setFocus(M),w)}var tn=["auto","overlay","scroll"],Pr=Br&&!!window.navigator.userAgent.match(/os 11_/i);function Un(p,g){for(var w=p.parentNode,k=void 0;!k&&w.parentNode;){var b=g.getComputedStyle(w),R=b.overflowY;if(tn.includes(R)){k=w;break}w=w.parentNode}return k||g.document.body}function Bn(p){if(!Pr&&p.anchorNode){var g=ue()(p.anchorNode),w=Un(p.anchorNode,g),k=w===g.document.body||w===g.document.documentElement,b=Ne()(p),R=p.getRangeAt(0).cloneRange();R.collapse(b);var M=R.getBoundingClientRect();sn&&R.collapsed&&M.top===0&&M.height===0&&(R.startOffset===0?R.setEnd(R.endContainer,1):R.setStart(R.startContainer,R.startOffset-1),M=R.getBoundingClientRect(),M.top===0&&M.height===0&&R.getClientRects().length&&(M=R.getClientRects()[0]));var q=void 0,Y=void 0,D=void 0,L=void 0,ee=0,se=0,le=0,ke=0,me=0,Ae=0,re=0,G=0;if(k){var _e=g.innerWidth,Pe=g.innerHeight,be=g.pageYOffset,je=g.pageXOffset;q=_e,Y=Pe,D=be,L=je}else{var pe=w.offsetWidth,Oe=w.offsetHeight,Re=w.scrollTop,Ve=w.scrollLeft,oe=g.getComputedStyle(w),Se=oe.borderTopWidth,Le=oe.borderBottomWidth,at=oe.borderLeftWidth,Mt=oe.borderRightWidth,Xt=oe.paddingTop,ir=oe.paddingBottom,tr=oe.paddingLeft,er=oe.paddingRight,dr=w.getBoundingClientRect();q=pe,Y=Oe,ee=dr.top+parseInt(Se,10),se=dr.left+parseInt(at,10),le=parseInt(Se,10)+parseInt(Le,10),ke=parseInt(at,10)+parseInt(Mt,10),me=parseInt(Xt,10),Ae=parseInt(ir,10),re=parseInt(tr,10),G=parseInt(er,10),D=Re,L=Ve}var mr=M.top+D-ee,_r=M.left+L-se,Er=L,Lr=D;_r<L?Er=_r-re:_r+M.width+ke>L+q&&(Er=_r+ke+G-q),mr<D?Lr=mr-me:mr+M.height+le>D+Y&&(Lr=mr+le+Ae+M.height-Y),k?g.scrollTo(Er,Lr):(w.scrollTop=Lr,w.scrollLeft=Er)}}function xn(p){if(lr){var g=window.document.body.createTextRange();g.collapse(),g.select()}else p.removeAllRanges()}var qn=/Permission denied to access property "nodeType"/,xr=K()("slate:content");xr.update=K()("slate:update");var In=function(p){cn(g,p);function g(){var w,k,b,R;Ct(this,g);for(var M=arguments.length,q=Array(M),Y=0;Y<M;Y++)q[Y]=arguments[Y];return R=(k=(b=Ir(this,(w=g.__proto__||Object.getPrototypeOf(g)).call.apply(w,[this].concat(q))),b),b.tmp={isUpdatingSelection:!1,nodeRef:E.createRef(),nodeRefs:{},contentKey:0,nativeSelection:{}},b.ref=E.createRef(),b.setRef=function(D){b.ref.current=D,b.props.editor.el=D},b.handlers=Cr.reduce(function(D,L){return D[L]=function(ee){return b.onEvent(L,ee)},D},{}),b.updateSelection=function(){var D=b.props.editor,L=D.value,ee=L.selection,se=ee.isBackward,le=ue()(b.ref.current),ke=le.getSelection(),me=le.document.activeElement;if(xr.update.enabled&&xr.update("updateSelection",{selection:ee.toJSON()}),!!ke){var Ae=ke.rangeCount,re=ke.anchorNode,G=!1;ee.isBlurred&&me===b.ref.current&&(b.ref.current.blur(),G=!0);var _e=["anchorNode","anchorOffset","focusNode","focusOffset","isCollapsed","rangeCount","type"],Pe=!0,be=!0,je=!1,pe=void 0;try{for(var Oe=_e[Symbol.iterator](),Re;!(be=(Re=Oe.next()).done);be=!0){var Ve=Re.value;b.tmp.nativeSelection[Ve]!==ke[Ve]&&(Pe=!1)}}catch(ir){je=!0,pe=ir}finally{try{!be&&Oe.return&&Oe.return()}finally{if(je)throw pe}}if(ee.isUnset&&Ae&&b.isInEditor(re)&&Pe&&(xn(ke),G=!0),ee.isFocused&&me!==b.ref.current&&(b.ref.current.focus({preventScroll:!0}),G=!0),ee.isFocused&&ee.isSet){var oe=!!ke.rangeCount&&ke.getRangeAt(0),Se=D.findDOMRange(ee);if(!Se){J(!1,"Unable to find a native DOM range from the current selection.");return}var Le=Se.startContainer,at=Se.startOffset,Mt=Se.endContainer,Xt=Se.endOffset;if(oe&&(Le===oe.startContainer&&at===oe.startOffset&&Mt===oe.endContainer&&Xt===oe.endOffset||Le===oe.endContainer&&at===oe.endOffset&&Mt===oe.startContainer&&Xt===oe.startOffset))return;G=!0,b.tmp.isUpdatingSelection=!0,xn(ke),ke.setBaseAndExtent?se?ke.setBaseAndExtent(Se.endContainer,Se.endOffset,Se.startContainer,Se.startOffset):ke.setBaseAndExtent(Se.startContainer,Se.startOffset,Se.endContainer,Se.endOffset):ke.addRange(Se),D.userActionPerformed()===!0&&Bn(ke),setTimeout(function(){kr&&b.ref.current&&b.ref.current.focus(),b.tmp.isUpdatingSelection=!1,xr.update("updateSelection:setTimeout",{anchorOffset:le.getSelection().anchorOffset})})}G&&(xr.enabled||xr.update.enabled)&&(xr("updateSelection",{selection:ee,native:ke,activeElement:me}),xr.update("updateSelection:applied",{selection:ee.toJSON(),native:{anchorOffset:ke.anchorOffset,focusOffset:ke.focusOffset}}))}},b.isInEditor=function(D){var L=void 0;try{if(D.nodeType===8)return!1;L=D.nodeType===3?D.parentNode:D}catch(ee){if(kr&&qn.test(ee.message))return!1;throw ee}return L.isContentEditable&&(L===b.ref.current||L.closest(Ht.EDITOR)===b.ref.current)},b.onNativeSelectionChange=Vt()(function(D){if(!b.props.readOnly){var L=ue()(D.target),ee=L.document.activeElement,se=L.getSelection();xr.update("onNativeSelectionChange",{anchorOffset:se.anchorOffset}),ee===b.ref.current&&(b.tmp.nativeSelection={anchorNode:se.anchorNode,anchorOffset:se.anchorOffset,focusNode:se.focusNode,focusOffset:se.focusOffset,isCollapsed:se.isCollapsed,rangeCount:se.rangeCount,type:se.type},b.props.onEvent("onSelect",D))}},100),k),Ir(b,R)}return wn(g,[{key:"componentDidCatch",value:function(k,b){xr("componentDidCatch",{error:k,info:b}),this.setState({})}},{key:"componentDidMount",value:function(){var k=ue()(this.ref.current);k.document.addEventListener("selectionchange",this.onNativeSelectionChange),Zt&&this.ref.current.addEventListener("beforeinput",this.handlers.onBeforeInput),this.updateSelection(),this.props.onEvent("onComponentDidMount")}},{key:"componentWillUnmount",value:function(){var k=ue()(this.ref.current);k&&k.document.removeEventListener("selectionchange",this.onNativeSelectionChange),Zt&&this.ref.current.removeEventListener("beforeinput",this.handlers.onBeforeInput),this.props.onEvent("onComponentWillUnmount")}},{key:"componentDidUpdate",value:function(){xr.update("componentDidUpdate"),this.updateSelection(),this.props.editor.clearUserActionPerformed(),this.props.onEvent("onComponentDidUpdate")}},{key:"onEvent",value:function(k,b){xr("onEvent",k);var R=b.nativeEvent||b,M=b.type==="keydown"&&(Rt.isUndo(R)||Rt.isRedo(R));if(!((this.tmp.isUpdatingSelection||M)&&(k==="onSelect"||k==="onBlur"||k==="onFocus"))){if(!$r&&k==="onSelect"){var q=this.props.editor,Y=q.value,D=Y.selection,L=ue()(b.target),ee=L.getSelection(),se=q.findRange(ee);if(se&&se.equals(D.toRange())){this.updateSelection();return}}if(k==="onDragEnd"||k==="onDragEnter"||k==="onDragExit"||k==="onDragLeave"||k==="onDragOver"||k==="onDragStart"||k==="onDrop"){var le=b.target.closest(Ht.EDITOR);if(le!==this.ref.current)return}(k==="onBeforeInput"||k==="onBlur"||k==="onCompositionEnd"||k==="onCompositionStart"||k==="onCopy"||k==="onCut"||k==="onFocus"||k==="onInput"||k==="onKeyDown"||k==="onKeyUp"||k==="onPaste"||k==="onSelect")&&!this.isInEditor(b.target)||this.props.onEvent(k,b)}}},{key:"render",value:function(){var k,b=this.props,R=this.handlers,M=b.id,q=b.className,Y=b.readOnly,D=b.editor,L=b.tabIndex,ee=b.role,se=b.tagName,le=b.spellCheck,ke=D.value,me=se,Ae=ke.document,re=ke.selection,G=bt({outline:"none",whiteSpace:"pre-wrap",wordWrap:"break-word"},Y?{}:{WebkitUserModify:"read-write-plaintext-only"},b.style);xr("render",{props:b}),xr.update("render",this.tmp.contentKey,Ae.text),this.props.onEvent("onRender");var _e=(k={},nr(k,kt.EDITOR,!0),nr(k,kt.KEY,Ae.key),k),Pe=gn()(this.props,Object.keys(g.propTypes));return E.createElement(me,bt({},Pe,{key:this.tmp.contentKey},R,_e,{ref:this.setRef,contentEditable:Y?null:!0,suppressContentEditableWarning:!0,id:M,className:q,autoCorrect:b.autoCorrect?"on":"off",spellCheck:le,style:G,role:Y?null:ee||"textbox",tabIndex:L,"data-gramm":Pe["data-gramm"]?void 0:!1}),E.createElement(qr,{annotations:ke.annotations,block:null,decorations:(0,fr.List)(),editor:D,node:Ae,parent:null,readOnly:Y,selection:re,ref:this.tmp.nodeRef}))}}]),g}(E.Component);In.propTypes={autoCorrect:F().bool.isRequired,className:F().string,contentKey:F().number,editor:F().object.isRequired,id:F().string,onEvent:F().func.isRequired,readOnly:F().bool.isRequired,role:F().string,spellCheck:F().bool.isRequired,style:F().object,tabIndex:F().number,tagName:F().string},In.defaultProps={style:{},tagName:"div"};var Xn=[].concat(Qr(Cr),["commands","decorateNode","queries","renderAnnotation","renderBlock","renderDecoration","renderDocument","renderEditor","renderInline","renderMark","schema"]);function ea(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=Xn.reduce(function(w,k){return k in p&&(w[k]=p[k]),w},{});return g}function ta(){return{decorateNode:function(){return[]},renderAnnotation:function(g){var w=g.attributes,k=g.children;return E.createElement("span",w,k)},renderBlock:function(g){var w=g.attributes,k=g.children;return E.createElement("div",bt({},w,{style:{position:"relative"}}),k)},renderDecoration:function(g){var w=g.attributes,k=g.children;return E.createElement("span",w,k)},renderDocument:function(g){var w=g.children;return w},renderEditor:function(g){var w=g.children;return w},renderInline:function(g){var w=g.attributes,k=g.children;return E.createElement("span",bt({},w,{style:{position:"relative"}}),k)},renderMark:function(g){var w=g.attributes,k=g.children;return E.createElement("span",w,k)}}}function ra(){function p(w,k){var b=w.value,R=b.document,M=b.selection,q=R.getPath(k.key),Y=w.findDOMNode(q),D=R.getClosestBlock(q),L=k.text,ee=Y.textContent,se=D.nodes.last()===k,le=ee.charAt(ee.length-1);if(se&&le===`
`&&(ee=ee.slice(0,-1)),L!==ee){var ke=M.moveAnchorTo(q,0).moveFocusTo(q,L.length);ke=R.resolveRange(ke),w.insertTextAtRange(ke,ee,k.marks)}}function g(w,k){var b=k.parentElement.closest("[data-key]"),R=w.findNode(b);w.reconcileNode(R)}return{commands:{reconcileNode:p,reconcileDOMNode:g}}}function na(){function p(D,L){L=T.PW.create(L);var ee=D.tmp.contentRef.current;if(!ee)return null;if(!L.size)return ee.ref.current||null;var se=function me(Ae,re){if(!Ae)return null;if(!re.size)return Ae.ref?Ae.ref.current||null:Ae||null;var G=re.first(),_e=re.rest(),Pe=Ae.tmp.nodeRefs[G];return me(Pe,_e)},le=ee.tmp.nodeRef.current,ke=se(le,L);return ke}function g(D,L){var ee=D.findDOMNode(L.path),se=0;if(!ee)return null;var le=Array.from(ee.querySelectorAll(Ht.STRING+", "+Ht.ZERO_WIDTH)),ke=!0,me=!1,Ae=void 0;try{for(var re=le[Symbol.iterator](),G;!(ke=(G=re.next()).done);ke=!0){var _e=G.value,Pe=_e.childNodes[0],be=Pe.textContent.length,je=be;_e.hasAttribute(kt.LENGTH)&&(je=parseInt(_e.getAttribute(kt.LENGTH),10));var pe=se+je;if(L.offset<=pe){var Oe=Math.min(be,Math.max(0,L.offset-se));return{node:Pe,offset:Oe}}se=pe}}catch(Re){me=!0,Ae=Re}finally{try{!ke&&re.return&&re.return()}finally{if(me)throw Ae}}return null}function w(D,L){var ee=L.anchor,se=L.focus,le=L.isBackward,ke=L.isCollapsed,me=D.findDOMPoint(ee),Ae=ke?me:D.findDOMPoint(se);if(!me||!Ae)return null;var re=ue()(me.node),G=re.document.createRange(),_e=le?Ae:me,Pe=le?me:Ae;return G.setStart(_e.node,_e.offset),G.setEnd(Pe.node,Pe.offset),G}function k(D,L){var ee=D.findPath(L);if(!ee)return null;var se=D.value,le=se.document,ke=le.getNode(ee);return ke}function b(D,L){L.nativeEvent&&(L=L.nativeEvent);var ee=L,se=ee.clientX,le=ee.clientY,ke=ee.target;if(se==null||le==null)return null;var me=D.value,Ae=me.document,re=D.findPath(L.target);if(!re)return null;var G=Ae.getNode(re);if(D.isVoid(G)){var _e=ke.getBoundingClientRect(),Pe=G.object==="inline"?se-_e.left<_e.left+_e.width-se:le-_e.top<_e.top+_e.height-le,be=Ae.createRange(),je=Pe?"moveToEndOfNode":"moveToStartOfNode",pe=Ae[Pe?"getPreviousText":"getNextText"](re);return pe?be[je](pe):null}var Oe=ue()(ke),Re=void 0;if(Oe.document.caretRangeFromPoint)Re=Oe.document.caretRangeFromPoint(se,le);else if(Oe.document.caretPositionFromPoint){var Ve=Oe.document.caretPositionFromPoint(se,le);Re=Oe.document.createRange(),Re.setStart(Ve.offsetNode,Ve.offset),Re.setEnd(Ve.offsetNode,Ve.offset)}else if(Oe.document.body.createTextRange){Re=Oe.document.body.createTextRange();try{Re.moveToPoint(se,le)}catch{return null}}var oe=D.findRange(Re);return oe}function R(D,L){var ee=D.tmp.contentRef.current,se=L;if(se.hasAttribute(kt.KEY)||(se=se.closest(Ht.KEY)),!se||!se.getAttribute(kt.KEY))return null;if(se===ee.ref.current)return T.PW.create([]);var le=function Ae(re,G){if(se===re)return G;if(!re.ref)return null;if(se===re.ref.current)return G;if(!re.tmp)return null;var _e=re.tmp.nodeRefs,Pe=Object.keys(_e),be=!0,je=!1,pe=void 0;try{for(var Oe=Pe[Symbol.iterator](),Re;!(be=(Re=Oe.next()).done);be=!0){var Ve=Re.value,oe=_e[Ve],Se=parseInt(Ve,10),Le=Ae(oe,[].concat(Qr(G),[Se]));if(Le)return Le}}catch(at){je=!0,pe=at}finally{try{!be&&Oe.return&&Oe.return()}finally{if(je)throw pe}}return null},ke=ee.tmp.nodeRef.current,me=le(ke,[]);return me?T.PW.create(me):null}function M(D,L,ee){var se=pr(L,ee),le=se.node,ke=se.offset,me=ue()(L),Ae=le.parentNode,re=Ae.closest(Ht.LEAF),G=void 0,_e=void 0,Pe=void 0;if(re){G=re.closest(Ht.TEXT);var be=me.document.createRange();be.setStart(G,0),be.setEnd(le,ke);var je=be.cloneContents(),pe=je.querySelectorAll(Ht.ZERO_WIDTH);Array.from(pe).forEach(function(Le){Le.parentNode.removeChild(Le)}),_e=je.textContent.length,Pe=G}else{var Oe=Ae.closest(Ht.VOID);if(!Oe||(re=Oe.querySelector(Ht.LEAF),!re))return null;G=re.closest(Ht.TEXT),Pe=re,_e=Pe.textContent.length}_e===Pe.textContent.length&&Ae.hasAttribute(kt.ZERO_WIDTH)&&_e--;var Re=D.findPath(G);if(!Re)return null;var Ve=D.value,oe=Ve.document,Se=oe.createPoint({path:Re,offset:_e});return Se}function q(D,L){var ee=L.anchorNode||L.startContainer;if(!ee)return null;var se=ue()(ee);(L instanceof se.Range||se.StaticRange&&L instanceof se.StaticRange)&&(L={anchorNode:L.startContainer,anchorOffset:L.startOffset,focusNode:L.endContainer,focusOffset:L.endOffset});var le=L,ke=le.anchorNode,me=le.anchorOffset,Ae=le.focusNode,re=le.focusOffset,G=le.isCollapsed,_e=D.value,Pe=D.findPoint(ke,me),be=G?Pe:D.findPoint(Ae,re);if(!Pe||!be)return null;var je=_e.document,pe=je.createRange({anchor:Pe,focus:be});return pe}function Y(D,L){var ee=D.value,se=ee.document;if(!L.rangeCount)return null;var le=D.findRange(L);if(!le)return null;var ke=le,me=ke.anchor,Ae=ke.focus,re=se.getNode(me.path),G=se.getNode(Ae.path),_e=se.getClosestInline(me.path),Pe=se.getClosestInline(Ae.path),be=se.getClosestBlock(Ae.path),je=se.getClosestBlock(me.path);if(je&&!D.isVoid(je)&&me.offset===0&&be&&D.isVoid(be)&&Ae.offset!==0&&(le=le.setFocus(Ae.setOffset(0))),_e&&!D.isVoid(_e)&&me.offset===re.text.length){var pe=se.getClosestBlock(me.path),Oe=se.getDepth(pe.key),Re=T.PW.drop(me.path,Oe),Ve=pe.texts({path:Re}),oe=zt(Ve,1),Se=oe[0];if(Se){var Le=zt(Se,2),at=Le[1],Mt=me.path.slice(0,Oe).concat(at);le=le.moveAnchorTo(Mt,0)}}if(Pe&&!D.isVoid(Pe)&&Ae.offset===G.text.length){var Xt=se.getClosestBlock(Ae.path),ir=se.getDepth(Xt.key),tr=T.PW.drop(Ae.path,ir),er=Xt.texts({path:tr}),dr=zt(er,1),mr=dr[0];if(mr){var _r=zt(mr,2),Er=_r[1],Lr=Ae.path.slice(0,ir).concat(Er);le=le.moveFocusTo(Lr,0)}}var zr=se.createSelection(le);return zr=zr.setIsFocused(!0),zr=zr.set("marks",ee.selection.marks),zr}return{queries:{findDOMNode:p,findDOMPoint:g,findDOMRange:w,findEventRange:b,findNode:k,findPath:R,findPoint:M,findRange:q,findSelection:Y}}}function pr(p,g){if(p.nodeType===1&&p.childNodes.length){var w=g===p.childNodes.length,k=w?"backward":"forward",b=w?g-1:g;for(p=Mr(p,b,k);p.nodeType===1&&p.childNodes.length;){var R=w?p.childNodes.length-1:0;p=Mr(p,R,k)}g=w?p.textContent.length:0}return{node:p,offset:g}}function Mr(p,g,w){for(var k=p.childNodes,b=k[g],R=g,M=!1,q=!1;(b.nodeType===8||b.nodeType===1&&b.childNodes.length===0||b.nodeType===1&&b.getAttribute("contenteditable")==="false")&&!(M&&q);){if(R>=k.length){M=!0,R=g-1,w="backward";continue}if(R<0){q=!0,R=g+1,w="forward";continue}b=k[R],w==="forward"&&R++,w==="backward"&&R--}return b||null}function Kt(p,g){for(var w=Math.min(p.length,g.length),k=0;k<w;k++)if(p.charAt(k)!==g.charAt(k))return k;return p.length!==g.length?w:null}function la(p,g,w){for(var k=p.length,b=g.length,R=Math.min(k,b,w),M=0;M<R;M++){var q=p.charAt(k-M-1),Y=g.charAt(b-M-1);if(q!==Y)return M}return p.length!==g.length?R:null}function Dn(p,g){if(p===g)return null;var w=Kt(p,g),k=Math.min(p.length-w,g.length-w),b=la(p,g,k);return{start:w,end:b,total:w+b}}function _n(p,g){return p.slice(g.start,p.length-g.end)}function Jn(p,g){var w=Dn(p,g);if(w==null)return null;var k=_n(g,w),b=_n(p,w);return{start:w.start,end:p.length-w.end,cursor:w.start+k.length,insertText:k,removeText:b}}var Wt=K()("slate:composition-manager"),On=String.fromCharCode(65279),Jr=rt.unstable_flushControlled;function Wr(p,g){Jr(function(){g(),p.controller.flush()})}function Vr(p){for(var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,k=g,b=p,R=0;R!==-1&&(R=b.indexOf(On,R),R!==-1);)k>R&&k--,b=""+b.slice(0,R)+b.slice(R+1);var M=b.charAt(b.length-1);w&&M===`
`&&(b=b.slice(0,-1));var q=b.length;return k>q&&(k=q),{text:b,offset:k}}function Rr(p){var g=new window.MutationObserver(Ae),w=null,k={rootEl:null,diff:null,range:null,domNode:null};function b(){Wt("connect",{rootEl:pe});var pe=p.findDOMNode([]);k.rootEl!==pe&&(Wt("connect:run"),w=ue()(pe),g.observe(pe,{childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0}))}function R(){Wt("disconnect"),g.disconnect(),k.rootEl=null}function M(){Wt("clearDIff"),k.diff=null}function q(){Wt("clearAction"),k.diff=null,k.domNode=null}function Y(){Wt("applyDiff");var pe=k.diff;if(pe!=null){Wt("applyDiff:run");var Oe=p.value.document,Re=p.value.selection.moveAnchorTo(pe.path,pe.start).moveFocusTo(pe.path,pe.end);Re=Oe.resolveRange(Re),p.insertTextAtRange(Re,pe.insertText)}}function D(){Wt("splitBlock"),Wr(p,function(){Y(),k.range?p.select(k.range):Wt("splitBlock:NO-SELECTION"),p.splitBlock().focus().restoreDOM(),q()})}function L(){Wt("mergeBlock"),w.requestAnimationFrame(function(){Wr(p,function(){Y(),p.select(k.range).deleteBackward().focus().restoreDOM(),q()})})}var ee=null,se=[],le=null,ke=!1;function me(){ee&&(window.cancelAnimationFrame(ee),ee=null),ke=!0,le&&window.cancelAnimationFrame(le),le=window.requestAnimationFrame(function(){se.length>0&&re(se),le=null,se=[],ke=!1})}function Ae(pe){var Oe;Wt("flush"),(Oe=se).push.apply(Oe,Qr(pe)),me()}function re(pe){if(Wt("flushAction",pe.length,pe),k.range&&!k.range.isCollapsed){Wr(p,function(){p.select(k.range).deleteBackward().focus().restoreDOM()});return}if(pe.length>1){var Oe=pe.find(function(Ve){if(Ve.type!=="childList"||Ve.addedNodes.length===0)return!1;var oe=Ve.addedNodes[0];if(oe.nodeType===window.Node.TEXT_NODE&&oe.textContent===`
`)return!0;if(oe.nodeType!==window.Node.ELEMENT_NODE)return!1;var Se=oe.dataset,Le=Se.key;if(Le==null)return!1;var at=p.value.document.getClosestBlock(Le);return!!at});if(Oe){D();return}}var Re=pe[0];Re.type==="characterData"?G(Re.target.parentNode):Re.type==="childList"&&(Re.removedNodes.length>0?pe.length===1?_e(Re.removedNodes[0]):L():Re.addedNodes.length>0&&D())}function G(pe){Wt("resolveDOMNode");var Oe=p.value,Re=Oe.document,Ve=pe.closest("[data-key]"),oe=Ve.dataset.key,Se=Re.getPath(oe),Le=Re.getClosestBlock(oe),at=Re.getDescendant(oe),Mt=at.text,Xt=Le.nodes.last()===at,ir=Vr(pe.textContent,0,Xt),tr=ir.text;if(tr===Mt){k.diff=null;return}var er=Jn(Mt,tr);k.diff={path:Se,start:er.start,end:er.end,insertText:er.insertText},Wt("resolveDOMNode:diff",k.diff)}function _e(pe){if(Wt("removeNode"),pe.nodeType===window.Node.ELEMENT_NODE){var Oe=p.value,Re=Oe.document,Ve=Oe.selection,oe=p.findNode(pe),Se=Re.resolveRange(Ve.moveToRangeOfNode(oe));Wr(p,function(){p.select(Se).delete().restoreDOM()})}}function Pe(){Wt("onCompositionStart")}function be(){Wt("onCompositionEnd"),window.setTimeout(function(){k.diff&&(Wt("onCompositionEnd:applyDiff"),Wr(p,function(){Y();var pe=w.getSelection().getRangeAt(0),Oe=pe.startContainer.textContent,Re=pe.startOffset,Ve=Vr(Oe,Re),oe=p.findRange({anchorNode:pe.startContainer,anchorOffset:0,focusNode:pe.startContainer,focusOffset:0,isCollapsed:!0}).moveTo(Ve.offset);p.select(oe).focus().restoreDOM()})),q()},20)}function je(pe){Wt("onSelect:try"),pe=pe.nativeEvent?pe.nativeEvent:pe,window.cancelAnimationFrame(ee),ee=null,!ke&&(ee=window.requestAnimationFrame(function(){Wt("onSelect:save-selection");var Oe=ue()(pe.target).getSelection(),Re=p.findRange(Oe),Ve=Vr(Oe.anchorNode.textContent,Oe.anchorOffset),oe=Vr(Oe.focusNode.textContent,Oe.focusOffset);Re.anchor.offset!==Ve.offset&&(Re=Re.set("anchor",Re.anchor.set("offset",Ve.offset))),Re.focus.offset!==oe.offset&&(Re=Re.set("focus",Re.focus.set("offset",oe.offset))),Wt("onSelect:save-data",{domSelection:Yt(Oe),range:Re.toJS()}),Oe.isCollapsed&&k.node!==Oe.anchorNode&&k.diff!=null&&(Wt("onSelect:applyDiff",k.diff),Y(),p.select(Re),q()),k.range=Re,k.node=Oe.anchorNode}))}return{clearDiff:M,connect:b,disconnect:R,onKeyDown:me,onCompositionStart:Pe,onCompositionEnd:be,onSelect:je}}function Yt(p){return{anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}}function Sn(p){var g=p.getSelection(),w=g.anchorNode;if(w!=null){var k=w.parentElement.dataset,b=k?k.slateZeroWidth==="n":!1;if(b&&w.textContent.length===1&&g.anchorOffset!==0){var R=p.document.createRange();R.setStart(w,0),R.setEnd(w,0),g.removeAllRanges(),g.addRange(R)}}}function an(p){var g=p.editor,w=new Rr(g);function k(){w.onCompositionStart()}function b(){w.onCompositionEnd()}function R(L){var ee=ue()(L.target);Sn(ee),w.onSelect(L)}function M(){w.connect()}function q(){w.connect()}function Y(){w.disconnect()}function D(){w.disconnect(),w.clearDiff()}return{onComponentDidMount:M,onComponentDidUpdate:q,onComponentWillUnmount:Y,onCompositionEnd:b,onCompositionStart:k,onRender:D,onSelect:R}}function fn(){var p={},g=!0,w=!1,k=void 0;try{for(var b=Cr[Symbol.iterator](),R;!(g=(R=b.next()).done);g=!0){var M=R.value;p[M]=function(q,Y,D){}}}catch(q){w=!0,k=q}finally{try{!g&&b.return&&b.return()}finally{if(w)throw k}}return p}var ar={FRAGMENT:"application/x-slate-fragment",HTML:"text/html",NODE:"application/x-slate-node",RICH:"text/rtf",TEXT:"text/plain"},Fr=ar.FRAGMENT,aa=ar.HTML,En=ar.TEXT;function on(p,g){var w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:function(){};(0,dt.A)(!T.WT.isValue(g),"As of Slate 0.42.0, the `cloneFragment` utility takes an `editor` instead of a `value`.");var k=ue()(p.target),b=k.getSelection(),R=g.value,M=R.document,q=R.fragment,Y=R.selection,D=Y.start,L=Y.end,ee=M.getClosestVoid(D.path,g),se=M.getClosestVoid(L.path,g);if(!(b.isCollapsed&&!ee)){var le=mt.serializeNode(q),ke=b.getRangeAt(0),me=ke.cloneContents(),Ae=me.childNodes[0];if(me.childNodes.forEach(function(Re){Re.textContent&&Re.textContent.trim()!==""&&(Ae=Re)}),se){var re=ke.cloneRange(),G=M.getPath(se.key);if(G){var _e=g.findDOMNode(G);re.setEndAfter(_e),me=re.cloneContents()}}if(ee&&(Ae=me.childNodes[0].childNodes[1].firstChild),[].slice.call(me.querySelectorAll(Ht.ZERO_WIDTH)).forEach(function(Re){var Ve=Re.getAttribute(kt.ZERO_WIDTH)==="n";Re.textContent=Ve?`
`:""}),Ae.nodeType===3){var Pe=k.document.createElement("span");Pe.style.whiteSpace="pre",Pe.appendChild(Ae),me.appendChild(Pe),Ae=Pe}Ae.setAttribute(kt.FRAGMENT,le);var be=T.WT.create({document:q}),je=Ge.A.serialize(be),pe=k.document.createElement("div");if(pe.appendChild(me),p.clipboardData&&p.clipboardData.setData&&!lr){p.preventDefault(),p.clipboardData.setData(En,je),p.clipboardData.setData(Fr,le),p.clipboardData.setData(aa,pe.innerHTML),w();return}var Oe=p.target.closest(Ht.EDITOR);pe.setAttribute("contenteditable",!0),pe.style.position="absolute",pe.style.left="-9999px",Oe.appendChild(pe),b.selectAllChildren(pe),k.requestAnimationFrame(function(){Oe.removeChild(pe),xn(b),b.addRange(ke),w()})}}var ln=ar.FRAGMENT,oa=ar.HTML,Tr=ar.NODE,ia=ar.RICH,dn=ar.TEXT,Wn=/ data-slate-fragment="([^\s"]+)"/;function vn(p){!lr&&p.nativeEvent&&(p=p.nativeEvent);var g=p.dataTransfer||p.clipboardData,w=Tn(g,ln),k=Tn(g,Tr),b=Tn(g,oa),R=Tn(g,ia),M=Tn(g,dn),q=void 0;if(!w&&b&&~b.indexOf(" "+kt.FRAGMENT+'="')){var Y=Wn.exec(b),D=zt(Y,2),L=D[0],ee=D[1];ee&&(w=ee)}if(M){var se=hn(M);se[ln]&&(w=se[ln]),se[Tr]&&(k=se[Tr]),se[dn]&&(M=se[dn])}w&&(w=mt.deserializeNode(w)),k&&(k=mt.deserializeNode(k));try{g.items&&g.items.length?q=Array.from(g.items).map(function(ke){return ke.kind==="file"?ke.getAsFile():null}).filter(function(ke){return ke}):g.files&&g.files.length&&(q=Array.from(g.files))}catch{g.files&&g.files.length&&(q=Array.from(g.files))}var le={files:q,fragment:w,html:b,node:k,rich:R,text:M};return le.type=Vn(le),le}function hn(p){var g="SLATE-DATA-EMBED::";if(p.substring(0,g.length)!==g)return{TEXT:p};try{return JSON.parse(p.substring(g.length))}catch{throw new Error("Unable to parse custom Slate drag event data.")}}function Vn(p){return p.fragment?"fragment":p.node?"node":p.rich&&p.html?"html":p.rich&&p.text?"text":p.files&&p.files.length?"files":p.html?"html":p.text?"text":"unknown"}function Tn(p,g){if(!p.types||!p.types.length)return g===dn&&p.getData("Text")||null;var w=Array.from(p.types);return w.indexOf(g)!==-1&&p.getData(g)||null}var Mn=ar.TEXT;function Nn(p,g,w){var k=ar[g.toUpperCase()];if(!k)throw new Error('Cannot set unknown transfer type "'+k+'".');p.nativeEvent&&(p=p.nativeEvent);var b=p.dataTransfer||p.clipboardData;try{b.setData(k,w),b.setData("text",b.getData("text"))}catch{var R="SLATE-DATA-EMBED::",M=b.getData(Mn),q={};if(M.substring(0,R.length)===R)try{q=JSON.parse(M.substring(R.length))}catch{throw new Error("Failed to parse Slate data from `DataTransfer` object.")}else q[Mn]=M;q[k]=w;var Y=""+R+JSON.stringify(q);b.setData(Mn,Y)}}var yr=K()("slate:after");function sa(){var p=null,g=!1;function w(re,G,_e){var Pe=G.value,be=!!re.nativeEvent;if(be)return re.preventDefault(),G.insertText(re.data),_e();var je=re.getTargetRanges(),pe=zt(je,1),Oe=pe[0];if(!Oe)return _e();yr("onBeforeInput",{event:re}),re.preventDefault();var Re=Pe.document,Ve=Pe.selection,oe=G.findRange(Oe);switch(re.inputType){case"deleteByDrag":case"deleteByCut":case"deleteContent":case"deleteContentBackward":case"deleteContentForward":{G.deleteAtRange(oe);break}case"deleteWordBackward":{G.deleteWordBackwardAtRange(oe);break}case"deleteWordForward":{G.deleteWordForwardAtRange(oe);break}case"deleteSoftLineBackward":case"deleteHardLineBackward":{G.deleteLineBackwardAtRange(oe);break}case"deleteSoftLineForward":case"deleteHardLineForward":{G.deleteLineForwardAtRange(oe);break}case"insertLineBreak":case"insertParagraph":{var Se=Re.hasVoidParent(Ve.start.path,G);Se?G.moveToStartOfNextText():G.splitBlockAtRange(oe);break}case"insertFromYank":case"insertReplacementText":case"insertText":{var Le=re.data==null?re.dataTransfer.getData("text/plain"):re.data;if(Le==null)break;G.insertTextAtRange(oe,Le,Ve.marks),Ve.marks&&Pe.document!==G.value.document&&G.select({marks:null});break}}_e()}function k(re,G,_e){yr("onBlur",{event:re}),G.blur(),_e()}function b(re,G,_e){if(G.readOnly)return _e();var Pe=G.value,be=Pe.document,je=G.findPath(re.target);if(!je)return _e();yr("onClick",{event:re});var pe=be.getNode(je),Oe=be.getAncestors(je),Re=pe&&(G.isVoid(pe)||Oe.some(function(Ve){return G.isVoid(Ve)}));Re&&G.focus().moveToEndOfNode(pe),_e()}function R(re,G,_e){yr("onCopy",{event:re}),on(re,G),_e()}function M(re,G,_e){yr("onCut",{event:re}),on(re,G,function(){var Pe=G.value,be=Pe.document,je=Pe.selection,pe=je.end,Oe=je.isCollapsed,Re=void 0;if(Oe){var Ve=!0,oe=!1,Se=void 0;try{for(var Le=be.ancestors(pe.path)[Symbol.iterator](),at;!(Ve=(at=Le.next()).done);Ve=!0){var Mt=at.value,Xt=zt(Mt,2),ir=Xt[0],tr=Xt[1];if(G.isVoid(ir)){Re=tr;break}}}catch(er){oe=!0,Se=er}finally{try{!Ve&&Le.return&&Le.return()}finally{if(oe)throw Se}}}Re?G.removeNodeByKey(Re):G.delete()}),_e()}function q(re,G,_e){yr("onDragEnd",{event:re}),p=null,_e()}function Y(re,G,_e){yr("onDragStart",{event:re}),p=!0;var Pe=G.value,be=Pe.document,je=G.findPath(re.target),pe=be.getNode(je),Oe=be.getAncestors(je),Re=pe&&(G.isVoid(pe)||Oe.some(function(Le){return G.isVoid(Le)})),Ve=Pe.blocks.some(function(Le){return Le===pe});Re&&!Ve&&G.moveToRangeOfNode(pe);var oe=G.value.fragment,Se=mt.serializeNode(oe);Nn(re,"fragment",Se),_e()}function D(re,G,_e){var Pe=G.value,be=Pe.document,je=Pe.selection,pe=ue()(re.target),Oe=G.findEventRange(re);if(!Oe)return _e();yr("onDrop",{event:re});var Re=vn(re),Ve=Re.type,oe=Re.fragment,Se=Re.text;G.focus();var Le=G.findDOMNode(Oe.focus.path);Le&&Le.dispatchEvent(new MouseEvent("mouseup",{view:pe,bubbles:!0,cancelable:!0}));var at=je;if(G.select(Oe),p&&G.deleteAtRange(at),Ve==="text"||Ve==="html"){var Mt=Oe.anchor,Xt=be.hasVoidParent(Mt.path,G);if(Xt){for(var ir=Mt.path,tr=be.getNode(Mt.path);Xt;){var er=be.texts({path:ir}),dr=zt(er,1),mr=dr[0];if(!mr)break;var _r=zt(mr,2);tr=_r[0],ir=_r[1],Xt=be.hasVoidParent(ir,G)}tr&&G.moveToStartOfNode(tr)}Se&&Se.split(`
`).forEach(function(Er,Lr){Lr>0&&G.splitBlock(),G.insertText(Er)})}Ve==="fragment"&&G.insertFragment(oe),_e()}function L(re,G,_e){yr("onFocus",{event:re}),g&&!lr&&!un?G.deselect().focus():G.focus(),_e()}function ee(re,G,_e){yr("onInput");var Pe=ue()(re.target),be=Pe.getSelection(),je=G.findSelection(be);je?G.select(je):G.blur();var pe=be.anchorNode;G.reconcileDOMNode(pe),_e()}function se(re,G,_e){yr("onKeyDown",{event:re});var Pe=G.value,be=Pe.document,je=Pe.selection,pe=je.start,Oe=be.hasVoidParent(pe.path,G);if(Rt.isSplitBlock(re)&&!Br)return Oe?G.moveToStartOfNextText():G.splitBlock();if(Rt.isDeleteBackward(re)&&!Br)return G.deleteCharBackward();if(Rt.isDeleteForward(re)&&!Br)return G.deleteCharForward();if(Rt.isDeleteLineBackward(re))return G.deleteLineBackward();if(Rt.isDeleteLineForward(re))return G.deleteLineForward();if(Rt.isDeleteWordBackward(re))return G.deleteWordBackward();if(Rt.isDeleteWordForward(re))return G.deleteWordForward();if(Rt.isRedo(re))return G.redo();if(Rt.isUndo(re))return G.undo();if(Rt.isMoveLineBackward(re))return re.preventDefault(),G.moveToStartOfBlock();if(Rt.isMoveLineForward(re))return re.preventDefault(),G.moveToEndOfBlock();if(Rt.isExtendLineBackward(re))return re.preventDefault(),G.moveFocusToStartOfBlock();if(Rt.isExtendLineForward(re))return re.preventDefault(),G.moveFocusToEndOfBlock();if(Rt.isMoveBackward(re))return re.preventDefault(),je.isCollapsed?G.moveBackward():G.moveToStart();if(Rt.isMoveForward(re))return re.preventDefault(),je.isCollapsed?G.moveForward():G.moveToEnd();if(Rt.isMoveWordBackward(re))return re.preventDefault(),G.moveWordBackward();if(Rt.isMoveWordForward(re))return re.preventDefault(),G.moveWordForward();if(Rt.isExtendBackward(re)){var Re=be.getNode(pe.path),Ve=be.texts({path:pe.path,direction:"backward"}),oe=zt(Ve,1),Se=oe[0],Le=!1;if(Se){var at=zt(Se,2),Mt=at[1];Le=be.hasVoidParent(Mt,G)}if(Oe||Le||Re.text==="")return re.preventDefault(),G.moveFocusBackward()}if(Rt.isExtendForward(re)){var Xt=be.getNode(pe.path),ir=be.texts({path:pe.path}),tr=zt(ir,1),er=tr[0],dr=!1;if(er){var mr=zt(er,2),_r=mr[1];dr=be.hasVoidParent(_r,G)}if(Oe||dr||Xt.text==="")return re.preventDefault(),G.moveFocusForward()}_e()}function le(re,G,_e){yr("onMouseDown",{event:re}),g=!0,_e()}function ke(re,G,_e){yr("onMouseUp",{event:re}),g=!1,_e()}function me(re,G,_e){yr("onPaste",{event:re});var Pe=G.value,be=vn(re),je=be.type,pe=be.fragment,Oe=be.text;if(je==="fragment"&&G.insertFragment(pe),je==="text"||je==="html"){if(!Oe)return _e();var Re=Pe.document,Ve=Pe.selection,oe=Pe.startBlock;if(G.isVoid(oe))return _e();var Se=oe,Le=Re.getInsertMarksAtRange(Ve),at=Ge.A.deserialize(Oe,{defaultBlock:Se,defaultMarks:Le}).document;G.insertFragment(at)}_e()}function Ae(re,G,_e){yr("onSelect",{event:re});var Pe=ue()(re.target),be=Pe.getSelection(),je=G.findSelection(be);je?G.select(je):G.blur(),g=!1,_e()}return{onBeforeInput:w,onBlur:k,onClick:b,onCopy:R,onCut:M,onDragEnd:q,onDragStart:Y,onDrop:D,onFocus:L,onInput:ee,onKeyDown:se,onMouseDown:le,onMouseUp:ke,onPaste:me,onSelect:Ae}}var or=K()("slate:before");function ua(){var p=null,g=0,w=!1,k=!1,b=!1,R=!1;function M(oe,Se,Le){var at=!!oe.nativeEvent;Se.readOnly||(R=!0,!(at&&Zt)&&(or("onBeforeInput",{event:oe}),Le()))}function q(oe,Se,Le){if(!k&&!Se.readOnly){var at=oe.relatedTarget,Mt=oe.target,Xt=ue()(Mt);if(p!==Xt.document.activeElement){if(at){var ir=Se.findDOMNode([]);if(at===ir||at.hasAttribute(kt.SPACER))return;var tr=Se.findNode(at);if(ir.contains(at)&&tr&&!Se.isVoid(tr))return}or("onBlur",{event:oe}),Le()}}}function Y(oe,Se,Le){var at=g;R=!0,window.requestAnimationFrame(function(){g>at||(w=!1)}),or("onCompositionEnd",{event:oe}),Le()}function D(oe,Se,Le){or("onClick",{event:oe}),R=!0,Le()}function L(oe,Se,Le){w=!0,g++;var at=Se.value,Mt=at.selection;R=!0,Mt.isCollapsed||Se.delete(),or("onCompositionStart",{event:oe}),Le()}function ee(oe,Se,Le){var at=ue()(oe.target);k=!0,at.requestAnimationFrame(function(){return k=!1}),or("onCopy",{event:oe}),Le()}function se(oe,Se,Le){if(!Se.readOnly){var at=ue()(oe.target);k=!0,at.requestAnimationFrame(function(){return k=!1}),or("onCut",{event:oe}),Le()}}function le(oe,Se,Le){b=!1,or("onDragEnd",{event:oe}),Le()}function ke(oe,Se,Le){or("onDragEnter",{event:oe}),Le()}function me(oe,Se,Le){or("onDragExit",{event:oe}),Le()}function Ae(oe,Se,Le){or("onDragLeave",{event:oe}),Le()}function re(oe,Se,Le){var at=Se.findNode(oe.target);(!at||Se.isVoid(at))&&oe.preventDefault(),lr&&oe.preventDefault(),b||(b=!0,lr||(oe.nativeEvent.dataTransfer.dropEffect="move")),or("onDragOver",{event:oe}),Le()}function G(oe,Se,Le){b=!0,or("onDragStart",{event:oe}),Le()}function _e(oe,Se,Le){Se.readOnly||(R=!0,oe.preventDefault(),or("onDrop",{event:oe}),Le())}function Pe(oe,Se,Le){if(!k&&!Se.readOnly){var at=Se.findDOMNode([]),Mt=ue()(oe.target);if(p=Mt.document.activeElement,kr&&oe.target!==at){at.focus();return}or("onFocus",{event:oe}),Le()}}function be(oe,Se,Le){w||Se.value.selection.isBlurred||(R=!0,or("onInput",{event:oe}),Le())}function je(oe,Se,Le){if(!Se.readOnly){if(w){Rt.isCompose(oe)&&oe.preventDefault();return}!Br&&(Rt.isBold(oe)||Rt.isDeleteBackward(oe)||Rt.isDeleteForward(oe)||Rt.isDeleteLineBackward(oe)||Rt.isDeleteLineForward(oe)||Rt.isDeleteWordBackward(oe)||Rt.isDeleteWordForward(oe)||Rt.isItalic(oe)||Rt.isRedo(oe)||Rt.isSplitBlock(oe)||Rt.isTransposeCharacter(oe)||Rt.isUndo(oe))&&oe.preventDefault(),R=!0,or("onKeyDown",{event:oe}),Le()}}function pe(oe,Se,Le){Se.readOnly||(R=!0,oe.preventDefault(),or("onPaste",{event:oe}),Le())}function Oe(oe,Se,Le){if(!k&&!w&&!Se.readOnly){var at=ue()(oe.target);p=at.document.activeElement,R=!0,or("onSelect",{event:oe}),Le()}}function Re(){return R}function Ve(){return R=!1,null}return{onBeforeInput:M,onBlur:q,onClick:D,onCompositionEnd:Y,onCompositionStart:L,onCopy:ee,onCut:se,onDragEnd:le,onDragEnter:ke,onDragExit:me,onDragLeave:Ae,onDragOver:re,onDragStart:G,onDrop:_e,onFocus:Pe,onInput:be,onKeyDown:je,onPaste:pe,onSelect:Oe,queries:{userActionPerformed:Re},commands:{clearUserActionPerformed:Ve}}}function da(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.plugins,w=g===void 0?[]:g,k=ua(),b=sa(),R=$r?[an(p),fn(p)]:[];return[].concat(R,[k],Qr(w),[b])}function ca(){function p(g){var w=g.tmp.contentRef.current.tmp;w.contentKey=w.contentKey+1}return{commands:{restoreDOM:p}}}function Ln(p){var g=p.nativeEvent||p;switch(g.type){case"keydown":return g.type+" "+JSON.stringify(g.key);case"input":case"beforeinput":case"textInput":return g.type+":"+g.inputType+" "+JSON.stringify(g.data);default:return g.type}}var Cn=K()("slate:events");function r(){var p={},g=!0,w=!1,k=void 0;try{for(var b=Cr[Symbol.iterator](),R;!(g=(R=b.next()).done);g=!0){var M=R.value;p[M]=function(q,Y,D){var L=Ln(q);Cn(L),D()}}}catch(q){w=!0,k=q}finally{try{!g&&b.return&&b.return()}finally{if(w)throw k}}return p}var n=2e3,t=K()("slate:batch-events");function e(){var p=null,g=null,w=[];function k(){t(`
`+w.join(`
`)),w.length=0}function b(se){w.length===0&&(p=new Date);var le=Ln(se),ke=new Date;w.push("- "+(ke-p)+" - "+le),clearTimeout(g),g=setTimeout(k,n)}var R={},M=!0,q=!1,Y=void 0;try{for(var D=Cr[Symbol.iterator](),L;!(M=(L=D.next()).done);M=!0){var ee=L.value;R[ee]=function(se,le,ke){b(se),ke()}}}catch(se){q=!0,Y=se}finally{try{!M&&D.return&&D.return()}finally{if(q)throw Y}}return R}var a=K()("slate:mutations"),s=["type","oldValue","target","addedNodes","removedNodes","attributeName","attributeNamespace","nextSibling","previousSibling"];function c(p){if(p.nodeType===window.Node.TEXT_NODE)return p.textContent;if(p.nodeType===window.Node.ELEMENT_NODE){var g=p.outerHTML,w=p.innerHTML;return g==null?JSON.stringify(p.textContent):g.slice(0,g.indexOf(w))}else return"Node(type="+p.nodeType}function l(){var p=new window.MutationObserver(function(b){var R=Array.from(b).map(function(M){var q={};return s.forEach(function(Y){var D=M[Y];if(D!=null){if(D instanceof window.NodeList){if(D.length===0)return;q[Y]=Array.from(D).map(c).join(", ");return}D instanceof window.Node&&(D=c(D)),q[Y]=D}}),q});a.apply(void 0,[R.length+" Mutations"].concat(Qr(R)))}),g=null;function w(b,R,M){var q=R.findDOMNode([]);if(q===g)return M();a("start"),p.observe(q,{childList:!0,characterData:!0,attributes:!0,subtree:!0,characterDataOldValue:!0}),g=q,M()}function k(b,R,M){a("stop"),p.disconnect(),g=null,M()}return{onComponentDidMount:w,onComponentDidUpdate:w,onComponentWillUnmount:k}}function v(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},g=p.placeholder,w=g===void 0?"":g,k=K().enabled("slate:events")?r(p):null,b=K().enabled("slate:batch-events")?e(p):null,R=K().enabled("slate:mutations")?l(p):null,M=ta(p),q=ra(p),Y=na(p),D=ea(p),L=da(p),ee=ca(),se=$r?null:Gr({placeholder:w,when:function(ke,me){return me.object==="document"&&me.text===""&&me.nodes.size===1&&Array.from(me.texts()).length===1}});return[k,b,R,D,L,ee,se,M,q,Y]}var h=K()("slate:editor"),A=function(p){cn(g,p);function g(){var w,k,b,R;Ct(this,g);for(var M=arguments.length,q=Array(M),Y=0;Y<M;Y++)q[Y]=arguments[Y];return R=(k=(b=Ir(this,(w=g.__proto__||Object.getPrototypeOf(g)).call.apply(w,[this].concat(q))),b),b.state={value:b.props.defaultValue,contentKey:0},b.tmp={mounted:!1,change:null,resolves:0,updates:0,contentRef:E.createRef()},b.resolveController=Kr(function(){var D=arguments[5];J(b.tmp.resolves<5||b.tmp.resolves!==b.tmp.updates,"A Slate <Editor> component is re-resolving the `plugins`, `schema`, `commands`, `queries` or `placeholder` prop on each update, which leads to poor performance. This is often due to passing in a new references for these props with each render by declaring them inline in your render function. Do not do this! Declare them outside your render function, or memoize them instead."),b.tmp.resolves++;var L=D(bt({},b.props,{editor:b,value:b.props.value||b.state.value})),ee=function(le){b.tmp.mounted?b.handleChange(le):b.tmp.change=le};b.controller=new T.KE({plugins:[L],onChange:ee},{controller:b,construct:!1}),b.controller.run("onConstruct")}),k),Ir(b,R)}return wn(g,[{key:"componentDidMount",value:function(){this.tmp.mounted=!0,this.tmp.updates++,this.props.autoFocus&&this.focus(),this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentDidUpdate",value:function(){this.tmp.updates++,this.tmp.change&&(this.handleChange(this.tmp.change),this.tmp.change=null)}},{key:"componentWillUnmount",value:function(){this.tmp.mounted=!1}},{key:"render",value:function(){var k=this;h("render",this);var b=this.props,R=b.commands,M=b.placeholder,q=b.plugins,Y=b.queries,D=b.schema;this.resolveController(q,D,R,Y,M,v);var L=this.props,ee=L.options,se=L.readOnly,le=L.value,ke=this.state.value,me=le||ke,Ae=this.state.contentKey;this.controller.setReadOnly(se),this.controller.setValue(me,ee);var re=this.props,G=re.autoCorrect,_e=re.className,Pe=re.id,be=re.role,je=re.spellCheck,pe=re.tabIndex,Oe=re.style,Re=re.tagName,Ve=gn()(this.props,Object.keys(g.propTypes)),oe=E.createElement(In,bt({},Ve,{ref:this.tmp.contentRef,autoCorrect:G,className:_e,contentKey:Ae,editor:this,id:Pe,onEvent:function(at,Mt){return k.run(at,Mt)},readOnly:se,role:be,spellCheck:je,style:Oe,tabIndex:pe,tagName:Re})),Se=this.controller.run("renderEditor",bt({},this.props,{editor:this,children:oe}));return Se}},{key:"handleChange",value:function(k){var b=this.props.onChange,R=this.state.value;R&&this.setState({value:k.value}),b(k)}},{key:"applyOperation",value:function(){var k;return(k=this.controller).applyOperation.apply(k,arguments)}},{key:"command",value:function(){var k;return(k=this.controller).command.apply(k,arguments)}},{key:"hasCommand",value:function(){var k;return(k=this.controller).hasCommand.apply(k,arguments)}},{key:"hasQuery",value:function(){var k;return(k=this.controller).hasQuery.apply(k,arguments)}},{key:"normalize",value:function(){var k;return(k=this.controller).normalize.apply(k,arguments)}},{key:"query",value:function(){var k;return(k=this.controller).query.apply(k,arguments)}},{key:"registerCommand",value:function(){var k;return(k=this.controller).registerCommand.apply(k,arguments)}},{key:"registerQuery",value:function(){var k;return(k=this.controller).registerQuery.apply(k,arguments)}},{key:"run",value:function(){var k;return(k=this.controller).run.apply(k,arguments)}},{key:"withoutNormalizing",value:function(){var k;return(k=this.controller).withoutNormalizing.apply(k,arguments)}},{key:"call",value:function(){var k;return(k=this.controller).call.apply(k,arguments)}},{key:"change",value:function(){var k;return(k=this.controller).change.apply(k,arguments)}},{key:"onChange",value:function(){var k;return(k=this.controller).onChange.apply(k,arguments)}},{key:"applyOperations",value:function(){var k;return(k=this.controller).applyOperations.apply(k,arguments)}},{key:"setOperationFlag",value:function(){var k;return(k=this.controller).setOperationFlag.apply(k,arguments)}},{key:"getFlag",value:function(){var k;return(k=this.controller).getFlag.apply(k,arguments)}},{key:"unsetOperationFlag",value:function(){var k;return(k=this.controller).unsetOperationFlag.apply(k,arguments)}},{key:"withoutNormalization",value:function(){var k;return(k=this.controller).withoutNormalization.apply(k,arguments)}},{key:"operations",get:function(){return this.controller.operations}},{key:"readOnly",get:function(){return this.controller.readOnly}},{key:"value",get:function(){return this.controller.value}},{key:"editor",get:function(){return this.controller.editor}},{key:"schema",get:function(){(0,dt.A)(!1,"As of Slate 0.42, the `editor.schema` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}},{key:"stack",get:function(){(0,dt.A)(!1,"As of Slate 0.42, the `editor.stack` property no longer exists, and its functionality has been folded into the editor itself. Use the `editor` instead.")}}]),g}(E.Component);A.propTypes=bt({autoCorrect:F().bool,autoFocus:F().bool,className:F().string,defaultValue:Q.value,id:F().string,onChange:F().func,options:F().object,placeholder:F().any,plugins:F().array,readOnly:F().bool,role:F().string,schema:F().object,spellCheck:F().bool,style:F().object,tabIndex:F().number,value:Q.value},Cr.reduce(function(p,g){return p[g]=F().func,p},{}),qt.reduce(function(p,g){return p[g]=F().func,p},{})),A.defaultProps={autoFocus:!1,autoCorrect:!0,onChange:function(){},options:{},placeholder:"",plugins:[],readOnly:!1,schema:{},spellCheck:!0};function _(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;J(!1,"As of slate-react@0.22 the `findDOMNode(key)` helper is deprecated in favor of `editor.findDOMNode(path)`."),T.bP.isNode(p)&&(p=p.key);var w=g.document.querySelector("["+kt.KEY+'="'+p+'"]');if(!w)throw new Error('Unable to find a DOM node for "'+p+'". This is often because of forgetting to add `props.attributes` to a custom component.');return w}function C(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;J(!1,"As of slate-react@0.22 the `findDOMPoint(point)` helper is deprecated in favor of `editor.findDOMPoint(point)`.");var w=_(p.key,g),k=0,b=Array.from(w.querySelectorAll(Ht.STRING+", "+Ht.ZERO_WIDTH)),R=!0,M=!1,q=void 0;try{for(var Y=b[Symbol.iterator](),D;!(R=(D=Y.next()).done);R=!0){var L=D.value,ee=L.childNodes[0],se=ee.textContent.length,le=se;L.hasAttribute(kt.LENGTH)&&(le=parseInt(L.getAttribute(kt.LENGTH),10));var ke=k+le;if(p.offset<=ke){var me=Math.min(se,Math.max(0,p.offset-k));return{node:ee,offset:me}}k=ke}}catch(Ae){M=!0,q=Ae}finally{try{!R&&Y.return&&Y.return()}finally{if(M)throw q}}return null}function P(p){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:window;J(!1,"As of slate-react@0.22 the `findDOMRange(range)` helper is deprecated in favor of `editor.findDOMRange(range)`.");var w=p.anchor,k=p.focus,b=p.isBackward,R=p.isCollapsed,M=C(w,g),q=R?M:C(k,g);if(!M||!q)return null;var Y=g.document.createRange(),D=b?q:M,L=b?M:q;return Y.setStart(D.node,D.offset),Y.setEnd(L.node,L.offset),Y}function fe(p,g){J(!1,"As of slate-react@0.22 the `findNode(element)` helper is deprecated in favor of `editor.findNode(element)`."),(0,dt.A)(!T.WT.isValue(g),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var w=p.closest(Ht.KEY);if(!w)return null;var k=w.getAttribute(kt.KEY);if(!k)return null;var b=g.value,R=b.document,M=R.getNode(k);return M||null}function ge(p,g){J(!1,"As of slate-react@0.22 the `findPath(element)` helper is deprecated in favor of `editor.findPath(element)`.");var w=fe(p,g);if(!w)return null;var k=g.value,b=k.document,R=b.getPath(w);return R}function he(p,g,w){J(!1,"As of slate-react@0.22 the `findPoint(node, offset)` helper is deprecated in favor of `editor.findPoint(node, offset)`."),(0,dt.A)(!T.WT.isValue(w),"As of Slate 0.42.0, the `findPoint` utility takes an `editor` instead of a `value`.");var k=De(p,g),b=k.node,R=k.offset,M=ue()(p),q=b.parentNode,Y=q.closest(Ht.LEAF),D=void 0,L=void 0;if(Y){var ee=M.document.createRange(),se=Y.closest(Ht.TEXT);ee.setStart(se,0),ee.setEnd(b,R),L=se;var le=ee.cloneContents(),ke=le.querySelectorAll("["+kt.ZERO_WIDTH+"]");D=le.textContent.length-ke.length}else{var me=q.closest(Ht.VOID);if(!me||(Y=me.querySelector(Ht.LEAF),!Y))return null;L=Y,D=L.textContent.length}D===L.textContent.length&&q.hasAttribute(kt.ZERO_WIDTH)&&D--;var Ae=Y.getAttribute(kt.OFFSET_KEY);if(!Ae)return null;var re=Sr.parse(Ae),G=re.key,_e=w.value;if(!_e.document.hasDescendant(G))return null;var Pe=_e.document.createPoint({key:G,offset:D});return Pe}function De(p,g){if(p.nodeType===1&&p.childNodes.length){var w=g===p.childNodes.length,k=w?"backward":"forward",b=w?g-1:g;for(p=Je(p,b,k);p.nodeType===1&&p.childNodes.length;){var R=w?p.childNodes.length-1:0;p=Je(p,R,k)}g=w?p.textContent.length:0}return{node:p,offset:g}}function Je(p,g,w){for(var k=p.childNodes,b=k[g],R=g,M=!1,q=!1;(b.nodeType===8||b.nodeType===1&&b.childNodes.length===0||b.nodeType===1&&b.getAttribute("contenteditable")==="false")&&!(M&&q);){if(R>=k.length){M=!0,R=g-1,w="backward";continue}if(R<0){q=!0,R=g+1,w="forward";continue}b=k[R],w==="forward"&&R++,w==="backward"&&R--}return b||null}function ot(p,g){J(!1,"As of slate-react@0.22 the `findRange(selection)` helper is deprecated in favor of `editor.findRange(selection)`."),(0,dt.A)(!T.WT.isValue(g),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`.");var w=p.anchorNode||p.startContainer;if(!w)return null;var k=ue()(w);(p instanceof k.Range||k.StaticRange&&p instanceof k.StaticRange)&&(p={anchorNode:p.startContainer,anchorOffset:p.startOffset,focusNode:p.endContainer,focusOffset:p.endOffset});var b=p,R=b.anchorNode,M=b.anchorOffset,q=b.focusNode,Y=b.focusOffset,D=b.isCollapsed,L=g.value,ee=he(R,M,g),se=D?ee:he(q,Y,g);if(!ee||!se)return null;var le=L.document,ke=le.createRange({anchor:ee,focus:se});return ke}function ft(p,g){J(!1,"As of slate-react@0.22 the `getEventRange(event, editor)` helper is deprecated in favor of `editor.findEventRange(event)`."),(0,dt.A)(!T.WT.isValue(g),"As of Slate 0.42.0, the `findNode` utility takes an `editor` instead of a `value`."),p.nativeEvent&&(p=p.nativeEvent);var w=p,k=w.clientX,b=w.clientY,R=w.target;if(k==null||b==null)return null;var M=g.value,q=M.document,Y=ge(p.target,g);if(!Y)return null;var D=q.getNode(Y);if(g.isVoid(D)){var L=R.getBoundingClientRect(),ee=D.object==="inline"?k-L.left<L.left+L.width-k:b-L.top<L.top+L.height-b,se=q.createRange(),le=ee?"moveToEndOfNode":"moveToStartOfNode",ke=q[ee?"getPreviousText":"getNextText"](Y);return ke?se[le](ke):null}var me=ue()(R),Ae=void 0;if(me.document.caretRangeFromPoint)Ae=me.document.caretRangeFromPoint(k,b);else if(me.document.caretPositionFromPoint){var re=me.document.caretPositionFromPoint(k,b);Ae=me.document.createRange(),Ae.setStart(re.offsetNode,re.offset),Ae.setEnd(re.offsetNode,re.offset)}else if(me.document.body.createTextRange){Ae=me.document.body.createTextRange();try{Ae.moveToPoint(k,b)}catch{return null}}var G=ot(Ae,g);return G||null}var Xe={Editor:A,cloneFragment:on,findDOMNode:_,findDOMPoint:C,findDOMRange:P,findNode:fe,findPath:ge,findPoint:he,findRange:ot,getEventRange:ft,getEventTransfer:vn,setEventTransfer:Nn,ReactPlugin:v},vt=null},"../../node_modules/slate-react/node_modules/debug/src/browser.js":function(Ke,Ie,X){"use strict";var E=X("../../node_modules/process/browser.js");function Z(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z=function(W){return typeof W}:Z=function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},Z(j)}Ie.log=B,Ie.formatArgs=T,Ie.save=z,Ie.load=Q,Ie.useColors=F,Ie.storage=ye(),Ie.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function F(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function T(j){if(j[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+j[0]+(this.useColors?"%c ":" ")+"+"+Ke.exports.humanize(this.diff),!!this.useColors){var K="color: "+this.color;j.splice(1,0,K,"color: inherit");var W=0,$=0;j[0].replace(/%[a-zA-Z%]/g,function(J){J!=="%%"&&(W++,J==="%c"&&($=W))}),j.splice($,0,K)}}function B(){var j;return(typeof console>"u"?"undefined":Z(console))==="object"&&console.log&&(j=console).log.apply(j,arguments)}function z(j){try{j?Ie.storage.setItem("debug",j):Ie.storage.removeItem("debug")}catch{}}function Q(){var j;try{j=Ie.storage.getItem("debug")}catch{}return!j&&typeof E<"u"&&"env"in E&&(j=E.env.DEBUG),j}function ye(){try{return localStorage}catch{}}Ke.exports=X("../../node_modules/slate-react/node_modules/debug/src/common.js")(Ie);var ne=Ke.exports.formatters;ne.j=function(j){try{return JSON.stringify(j)}catch(K){return"[UnexpectedJSONParseError]: "+K.message}}},"../../node_modules/slate-react/node_modules/debug/src/common.js":function(Ke,Ie,X){"use strict";function E(Z){T.debug=T,T.default=T,T.coerce=j,T.disable=ye,T.enable=Q,T.enabled=ne,T.humanize=X("../../node_modules/ms/index.js"),Object.keys(Z).forEach(function(K){T[K]=Z[K]}),T.instances=[],T.names=[],T.skips=[],T.formatters={};function F(K){for(var W=0,$=0;$<K.length;$++)W=(W<<5)-W+K.charCodeAt($),W|=0;return T.colors[Math.abs(W)%T.colors.length]}T.selectColor=F;function T(K){var W;function $(){if($.enabled){for(var J=arguments.length,ie=new Array(J),ue=0;ue<J;ue++)ie[ue]=arguments[ue];var xe=$,Ne=Number(new Date),We=Ne-(W||Ne);xe.diff=We,xe.prev=W,xe.curr=Ne,W=Ne,ie[0]=T.coerce(ie[0]),typeof ie[0]!="string"&&ie.unshift("%O");var Ce=0;ie[0]=ie[0].replace(/%([a-zA-Z%])/g,function(Ze,It){if(Ze==="%%")return Ze;Ce++;var ze=T.formatters[It];if(typeof ze=="function"){var ve=ie[Ce];Ze=ze.call(xe,ve),ie.splice(Ce,1),Ce--}return Ze}),T.formatArgs.call(xe,ie);var ht=xe.log||T.log;ht.apply(xe,ie)}}return $.namespace=K,$.enabled=T.enabled(K),$.useColors=T.useColors(),$.color=F(K),$.destroy=B,$.extend=z,typeof T.init=="function"&&T.init($),T.instances.push($),$}function B(){var K=T.instances.indexOf(this);return K!==-1?(T.instances.splice(K,1),!0):!1}function z(K,W){return T(this.namespace+(typeof W>"u"?":":W)+K)}function Q(K){T.save(K),T.names=[],T.skips=[];var W,$=(typeof K=="string"?K:"").split(/[\s,]+/),J=$.length;for(W=0;W<J;W++)$[W]&&(K=$[W].replace(/\*/g,".*?"),K[0]==="-"?T.skips.push(new RegExp("^"+K.substr(1)+"$")):T.names.push(new RegExp("^"+K+"$")));for(W=0;W<T.instances.length;W++){var ie=T.instances[W];ie.enabled=T.enabled(ie.namespace)}}function ye(){T.enable("")}function ne(K){if(K[K.length-1]==="*")return!0;var W,$;for(W=0,$=T.skips.length;W<$;W++)if(T.skips[W].test(K))return!1;for(W=0,$=T.names.length;W<$;W++)if(T.names[W].test(K))return!0;return!1}function j(K){return K instanceof Error?K.stack||K.message:K}return T.enable(T.load()),T}Ke.exports=E},"../../node_modules/slate/lib/slate.es.js":function(Ke,Ie,X){"use strict";X.d(Ie,{eB:function(){return gr},lY:function(){return V},B_:function(){return ur},yo:function(){return Zt},KE:function(){return _n},cV:function(){return Vt},hK:function(){return Vr},CU:function(){return Ft},bP:function(){return pt},PW:function(){return Fe},Q6:function(){return Qt},LN:function(){return lr},EY:function(){return fr},WT:function(){return wr}});var E=X("../../node_modules/immutable/dist/immutable.es.js"),Z=X("../../node_modules/slate/node_modules/is-plain-object/index.js"),F=X.n(Z),T=!0,B=function(r,n){if(!T){if(r)return;console.warn(n)}},z=B,Q=X("../../node_modules/tiny-invariant/dist/esm/tiny-invariant.js"),ye=X("../../node_modules/slate/node_modules/debug/src/browser.js"),ne=X.n(ye),j=X("../../node_modules/esrever/esrever.js"),K=X("../../node_modules/lodash/pick.js"),W=X.n(K),$=X("../../node_modules/lodash/omit.js"),J=X.n($),ie=X("../../node_modules/direction/index.js"),ue=X.n(ie),xe=void 0,Ne=void 0;function We(r){if(r==null)return Ne();if(typeof r=="string")return r;throw new Error("Keys must be strings, but you passed: "+r)}function Ce(r){Ne=r}function ht(){xe=0,Ne=function(){return""+xe++}}ht();var Ze={create:We,setGenerator:Ce,resetGenerator:ht},It=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},ze=function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")},ve=function(){function r(n,t){for(var e=0;e<t.length;e++){var a=t[e];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(n,a.key,a)}}return function(n,t,e){return t&&r(n.prototype,t),e&&r(n,e),n}}(),Qe=function(r,n,t){return n in r?Object.defineProperty(r,n,{value:t,enumerable:!0,configurable:!0,writable:!0}):r[n]=t,r},et=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var t=arguments[n];for(var e in t)Object.prototype.hasOwnProperty.call(t,e)&&(r[e]=t[e])}return r},it=function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)},gt=function(r,n){var t={};for(var e in r)n.indexOf(e)>=0||Object.prototype.hasOwnProperty.call(r,e)&&(t[e]=r[e]);return t},Ye=function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n&&(typeof n=="object"||typeof n=="function")?n:r},de=function(){function r(n,t){var e=[],a=!0,s=!1,c=void 0;try{for(var l=n[Symbol.iterator](),v;!(a=(v=l.next()).done)&&(e.push(v.value),!(t&&e.length===t));a=!0);}catch(h){s=!0,c=h}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return e}return function(n,t){if(Array.isArray(n))return n;if(Symbol.iterator in Object(n))return r(n,t);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),Ue=function(r){if(Array.isArray(r)){for(var n=0,t=Array(r.length);n<r.length;n++)t[n]=r[n];return t}else return Array.from(r)};function Ot(r,n){for(var t=Ut(r,n),e=0;e<t;e++){var a=r.get(e),s=n.get(e);if(a<s)return-1;if(a>s)return 1}return r.size===n.size?0:null}function st(r){if(r==null)return null;if(E.List.isList(r))return r;if(Array.isArray(r))return(0,E.List)(r);throw new Error("Paths can only be created from arrays or lists, but you passed: "+r)}function St(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:Ut(r,n),e=r.slice(0,t),a=n.slice(0,t);return[e,a]}function ct(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.size-1;return we(r,0-n,t)}function Pt(r){var n=(0,E.List)().withMutations(function(t){for(var e=0;e<r.size;e++)t.push(r.slice(0,e))});return n}function we(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.size-1,e=r.get(t),a=e+n,s=r.set(t,a);return s}function qe(r,n){var t=St(r,n),e=de(t,2),a=e[0],s=e[1];return r.size<n.size&&Ot(a,s)===0}function lt(r,n){var t=St(r,n),e=de(t,2),a=e[0],s=e[1];return Ot(a,s)===1}function Me(r,n){var t=St(r,n),e=de(t,2),a=e[0],s=e[1];return Ot(a,s)===-1}function $e(r,n){return r.equals(n)}function nt(r,n){var t=r.size-1,e=St(r,n,t),a=de(e,2),s=a[0],c=a[1],l=r.get(t),v=n.get(t);return $e(s,c)&&l>v}function Et(r){return(E.List.isList(r)||Array.isArray(r))&&r.every(function(n){return typeof n=="number"})}function Tt(r,n){if(r.size!==n.size)return!1;var t=r.butLast(),e=n.butLast();return t.equals(e)}function yt(r,n){var t=r.size-1,e=St(r,n,t),a=de(e,2),s=a[0],c=a[1],l=r.get(t),v=n.get(t);return $e(s,c)&&l<v}function _t(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.slice(0,-1*n);return t}function Nt(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.slice(n);return t}function sr(r,n){var t=Math.max(r.size,n.size);return t}function Ut(r,n){var t=Math.min(r.size,n.size);return t}function jr(r,n){for(var t=[],e=0;e<r.size&&e<n.size;e++){var a=r.get(e),s=n.get(e);if(a!==s)break;t.push(a)}var c=st(t);return c}function rr(r,n){var t=n.type,e=n.position,a=n.path;if(t==="add_mark"||t==="insert_text"||t==="remove_mark"||t==="remove_text"||t==="set_mark"||t==="set_node"||t==="set_selection"||t==="set_value"||t==="add_annotation"||t==="remove_annotation"||t==="set_annotation"||r.size===0)return(0,E.List)([r]);var s=a.size-1,c=$e(a,r),l=yt(a,r),v=qe(a,r);if(t==="insert_node"&&(c||l||v)&&(r=we(r,1,s)),t==="remove_node"&&(l?r=ct(r,1,s):(c||v)&&(r=[])),t==="merge_node"&&(c||l?r=ct(r,1,s):v&&(r=ct(r,1,s),r=we(r,e,s+1))),t==="split_node"&&(c?r=[r,we(r)]:l?r=we(r,1,s):v&&r.get(s+1)>=e&&(r=we(r,1,s),r=ct(r,e,s+1))),t==="move_node"){var h=n.newPath;if($e(a,h))return(0,E.List)([r]);v||c?yt(a,h)&&a.size<h.size?r=ct(h,1,Ut(h,a)-1).concat(r.slice(a.size)):r=h.concat(r.slice(a.size)):(l&&(r=ct(r,1,s)),(yt(h,r)||$e(h,r)||qe(h,r))&&(r=we(r,1,h.size-1)))}var A=Array.isArray(r)?r:[r];return(0,E.List)(A)}var Fe={compare:Ot,create:st,crop:St,decrement:ct,getAncestors:Pt,increment:we,isAbove:qe,isAfter:lt,isBefore:Me,isEqual:$e,isOlder:nt,isPath:Et,isSibling:Tt,isYounger:yt,lift:_t,drop:Nt,max:sr,min:Ut,relate:jr,transform:rr},Or={key:void 0,offset:void 0,path:void 0},xt=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"isAfterPoint",value:function(e){if(this.isUnset)return!1;var a=this.key===e.key&&this.offset>e.offset||Fe.compare(this.path,e.path)===1;return a}},{key:"isAfterRange",value:function(e){if(this.isUnset)return!1;var a=this.isAfterPoint(e.end);return a}},{key:"isAtEndOfRange",value:function(e){if(this.isUnset)return!1;var a=this.equals(e.end);return a}},{key:"isAtStartOfRange",value:function(e){if(this.isUnset)return!1;var a=this.equals(e.start);return a}},{key:"isBeforePoint",value:function(e){if(this.isUnset)return!1;var a=this.key===e.key&&this.offset<e.offset||Fe.compare(this.path,e.path)===-1;return a}},{key:"isBeforeRange",value:function(e){if(this.isUnset)return!1;var a=this.isBeforePoint(e.start);return a}},{key:"isInRange",value:function(e){if(this.isUnset)return!1;var a=this.equals(e.start)||this.equals(e.end)||this.isAfterPoint(e.start)&&this.isBeforePoint(e.end);return a}},{key:"isAtEndOfNode",value:function(e){if(this.isUnset)return!1;var a=e.getLastText(),s=this.key===a.key&&this.offset===a.text.length;return s}},{key:"isAtStartOfNode",value:function(e){if(this.isUnset||this.offset!==0)return!1;var a=e.getFirstText(),s=this.key===a.key;return s}},{key:"isInNode",value:function(e){return this.isUnset?!1:!!(e.object==="text"&&e.key===this.key||e.hasNode(this.key))}},{key:"moveBackward",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(e===0)return this;if(e<0)return this.moveForward(-e);var a=this.setOffset(this.offset-e);return a}},{key:"moveForward",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;if(e===0)return this;if(e<0)return this.moveBackward(-e);var a=this.setOffset(this.offset+e);return a}},{key:"moveTo",value:function(e){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=this.key;typeof e=="number"?(a=e,e=this.path):typeof e=="string"?(s=e,e=s===this.key?this.path:null):s=e.equals(this.path)?this.key:null;var c=this.merge({key:s,path:e,offset:a});return c}},{key:"moveToStartOfNode",value:function(e){var a=e.getFirstText(),s=this.moveTo(a.key,0);return s}},{key:"moveToEndOfNode",value:function(e){var a=e.getLastText(),s=this.moveTo(a.key,a.text.length);return s}},{key:"normalize",value:function(e){if(this.key==null&&this.path==null)return this.setOffset(null);var a=this.key,s=this.offset,c=this.path,l=c&&e.getNode(c);if(!l&&(l=e.getNode(a),l)){var v=this.merge({path:e.getPath(a)});return v}if(!l){z(!1,"A point's `path` or `key` invalid and was reset!");var h=e.getFirstText();if(!h)return n.create();var A=this.merge({key:h.key,offset:0,path:e.getPath(h.key)});return A}if(l.object!=="text"){z(!1,"A point should not reference a non-text node!");var _=l.getTextAtOffset(s),C=l.getOffset(_.key),P=this.merge({offset:s-C,key:_.key,path:e.getPath(_.key)});return P}l&&c&&a&&a!==l.key&&z(!1,"A point's `key` did not match its `path`!");var fe=this.merge({key:l.key,path:c??e.getPath(l.key),offset:s==null?0:Math.min(s,l.text.length)});if(fe.offset===l.text.length){var ge=e.getClosestBlock(fe.path),he=ge.getNextText();he&&(fe=fe.merge({key:he.key,path:e.getPath(he.key),offset:0}))}return fe}},{key:"setKey",value:function(e){e!=null&&(e=Ze.create(e));var a=this.set("key",e);return a}},{key:"setOffset",value:function(e){var a=this.set("offset",e);return a}},{key:"setPath",value:function(e){e!=null&&(e=Fe.create(e));var a=this.set("path",e);return a}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,key:this.key,offset:this.offset,path:this.path&&this.path.toArray()};return e.preserveKeys||delete a.key,a}},{key:"unset",value:function(){return this.merge({key:null,offset:null,path:null})}},{key:"isSet",get:function(){return this.key!=null&&this.offset!=null&&this.path!=null}},{key:"isUnset",get:function(){return!this.isSet}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isPoint(e))return e;if(F()(e))return n.fromJSON(e);throw new Error("`Point.create` only accepts objects or points, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isPoint(e))return{key:e.key,offset:e.offset,path:e.path};if(F()(e)){var a={};return"key"in e&&(a.key=e.key),"offset"in e&&(a.offset=e.offset),"path"in e&&(a.path=Fe.create(e.path)),"path"in e&&!("key"in e)&&(a.key=null),"key"in e&&!("path"in e)&&(a.path=null),a}throw new Error("`Point.createProperties` only accepts objects or points, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.key,s=a===void 0?null:a,c=e.offset,l=c===void 0?null:c,v=e.path,h=v===void 0?null:v,A=new n({key:s,offset:l,path:Fe.create(h)});return A}}]),n}((0,E.Record)(Or)),ur=function(){function r(){ze(this,r)}return ve(r,null,[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(E.Map.isMap(t))return t;if(F()(t))return r.fromJSON(t);throw new Error("`Data.create` only accepts objects or maps, but you passed it: "+t)}},{key:"fromJSON",value:function(t){return new E.Map(t)}}]),r}();ur.fromJS=ur.fromJSON;var mn={data:void 0,type:void 0},Ft=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"toJSON",value:function(){var e={object:this.object,type:this.type,data:this.data.toJSON()};return e}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isMark(e))return e;if(typeof e=="string"&&(e={type:e}),F()(e))return n.fromJSON(e);throw new Error("`Mark.create` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"createSet",value:function(e){if(E.Set.isSet(e)||Array.isArray(e)){var a=new E.Set(e.map(n.create));return a}if(e==null)return(0,E.Set)();throw new Error("`Mark.createSet` only accepts sets, arrays or null, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isMark(e))return{data:e.data,type:e.type};if(typeof e=="string")return{type:e};if(F()(e)){var a={};return"type"in e&&(a.type=e.type),"data"in e&&(a.data=ur.create(e.data)),a}throw new Error("`Mark.createProperties` only accepts objects, strings or marks, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.data,s=a===void 0?{}:a,c=e.type;if(typeof c!="string")throw new Error("`Mark.fromJS` requires a `type` string.");var l=new n({type:c,data:new E.Map(s)});return l}},{key:"isMarkSet",value:function(e){return E.Set.isSet(e)&&e.every(function(a){return n.isMark(a)})}}]),n}((0,E.Record)(mn)),zn={type:void 0,data:void 0,anchor:void 0,focus:void 0},kr=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"setProperties",value:function(e){e=n.createProperties(e);var a=this.merge(e);return a}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isDecoration(e))return e;if(Qt.isRange(e))return n.fromJSON(Qt.createProperties(e));if(F()(e))return n.fromJSON(e);throw new Error("`Decoration.create` only accepts objects or decorations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Decoration.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isDecoration(e))return{type:e.type,data:e.data,anchor:xt.createProperties(e.anchor),focus:xt.createProperties(e.focus),mark:Ft.create(e.mark)};if(F()(e)){var a={};return"type"in e&&(a.type=e.type),"data"in e&&(a.data=ur.create(e.data)),"anchor"in e&&(a.anchor=xt.create(e.anchor)),"focus"in e&&(a.focus=xt.create(e.focus)),a}throw new Error("`Decoration.createProperties` only accepts objects or decorations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.anchor,s=e.focus,c=e.type,l=e.data;if(e.mark&&!c&&(z(!1,"As of slate@0.47 the `decoration.mark` property has been changed to `decoration.type` and `decoration.data` directly."),c=e.mark.type,l=e.mark.data),!c)throw new Error("Decorations must be created with a `type`, but you passed: "+JSON.stringify(e));var v=new n({type:c,data:ur.create(l||{}),anchor:xt.fromJSON(a||{}),focus:xt.fromJSON(s||{})});return v}}]),n}((0,E.Record)(zn)),sn={anchor:void 0,focus:void 0,isFocused:void 0,marks:void 0},lr=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"setIsFocused",value:function(e){var a=this.set("isFocused",e);return a}},{key:"setMarks",value:function(e){var a=this.set("marks",e);return a}},{key:"setProperties",value:function(e){e=n.createProperties(e);var a=e,s=a.anchor,c=a.focus,l=gt(a,["anchor","focus"]);s&&(l.anchor=xt.create(s)),c&&(l.focus=xt.create(c));var v=this.merge(l);return v}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e),isFocused:this.isFocused,marks:this.marks==null?null:this.marks.toArray().map(function(s){return s.toJSON()})};return a}},{key:"isBlurred",get:function(){return!this.isFocused}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isSelection(e))return e;if(Qt.isRange(e))return n.fromJSON(Qt.createProperties(e));if(F()(e))return n.fromJSON(e);throw new Error("`Selection.create` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isSelection(e))return{anchor:xt.createProperties(e.anchor),focus:xt.createProperties(e.focus),isFocused:e.isFocused,marks:e.marks};if(Qt.isRange(e))return{anchor:xt.createProperties(e.anchor),focus:xt.createProperties(e.focus)};if(F()(e)){var a={};return"anchor"in e&&(a.anchor=xt.create(e.anchor)),"focus"in e&&(a.focus=xt.create(e.focus)),"isFocused"in e&&(a.isFocused=e.isFocused),"marks"in e&&(a.marks=e.marks==null?null:Ft.createSet(e.marks)),a}throw new Error("`Selection.createProperties` only accepts objects, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.anchor,s=e.focus,c=e.isFocused,l=c===void 0?!1:c,v=e.marks,h=v===void 0?null:v,A=new n({anchor:xt.fromJSON(a||{}),focus:xt.fromJSON(s||{}),isFocused:l,marks:h==null?null:new E.Set(h.map(Ft.fromJSON))});return A}}]),n}((0,E.Record)(sn)),un={annotation:"@@__SLATE_ANNOTATION__@@",block:"@@__SLATE_BLOCK__@@",change:"@@__SLATE_CHANGE__@@",decoration:"@@__SLATE_DECORATION__@@",document:"@@__SLATE_DOCUMENT__@@",editor:"@@__SLATE_EDITOR__@@",inline:"@@__SLATE_INLINE__@@",leaf:"@@__SLATE_LEAF__@@",mark:"@@__SLATE_MARK__@@",operation:"@@__SLATE_OPERATION__@@",point:"@@__SLATE_POINT__@@",range:"@@__SLATE_RANGE__@@",selection:"@@__SLATE_SELECTION__@@",text:"@@__SLATE_TEXT__@@",value:"@@__SLATE_VALUE__@@"};function $r(r,n){return!!(n&&n[un[r]])}var Br={anchor:void 0,focus:void 0},Qt=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isRange(e))return e.object==="range"?e:n.fromJSON(n.createProperties(e));if(F()(e))return n.fromJSON(e);throw new Error("`Range.create` only accepts objects or ranges, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Range.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isRange(e))return{anchor:xt.createProperties(e.anchor),focus:xt.createProperties(e.focus)};if(F()(e)){var a={};return"anchor"in e&&(a.anchor=xt.create(e.anchor)),"focus"in e&&(a.focus=xt.create(e.focus)),a}throw new Error("`Range.createProperties` only accepts objects, annotations, decorations, ranges or selections, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.anchor,s=e.focus,c=new n({anchor:xt.fromJSON(a||{}),focus:xt.fromJSON(s||{})});return c}},{key:"isRange",value:function(e){return $r("range",e)||kr.isDecoration(e)||lr.isSelection(e)}}]),n}((0,E.Record)(Br)),Yr={key:void 0,type:void 0,data:void 0,anchor:void 0,focus:void 0},jt=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"setProperties",value:function(e){e=n.createProperties(e);var a=this.merge(e);return a}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,key:this.key,type:this.type,data:this.data.toJSON(),anchor:this.anchor.toJSON(e),focus:this.focus.toJSON(e)};return a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isAnnotation(e))return e;if(Qt.isRange(e))return n.fromJSON(Qt.createProperties(e));if(F()(e))return n.fromJSON(e);throw new Error("`Annotation.create` only accepts objects or annotations, but you passed it: "+e)}},{key:"createMap",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.Map.isMap(e))return e;if(F()(e)){var a={};for(var s in e){var c=e[s],l=n.create(c);a[s]=l}return(0,E.Map)(a)}throw new Error("`Annotation.createMap` only accepts arrays or lists, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isAnnotation(e))return{key:e.key,type:e.type,data:e.data,anchor:xt.createProperties(e.anchor),focus:xt.createProperties(e.focus)};if(F()(e)){var a={};return"key"in e&&(a.key=e.key),"type"in e&&(a.type=e.type),"data"in e&&(a.data=ur.create(e.data)),"anchor"in e&&(a.anchor=xt.create(e.anchor)),"focus"in e&&(a.focus=xt.create(e.focus)),a}throw new Error("`Annotation.createProperties` only accepts objects or annotations, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.key,s=e.type,c=e.data,l=e.anchor,v=e.focus;if(!a)throw new Error("Annotations must be created with a `key`, but you passed: "+JSON.stringify(e));if(!s)throw new Error("Annotations must be created with a `type`, but you passed: "+JSON.stringify(e));var h=new n({key:a,type:s,data:ur.create(c||{}),anchor:xt.fromJSON(l||{}),focus:xt.fromJSON(v||{})});return h}}]),n}((0,E.Record)(Yr)),Lt={data:void 0,key:void 0,nodes:void 0},Zt=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(s){return s.toJSON(e)})};return e.preserveKeys&&(a.key=this.key),a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isDocument(e))return e;if((E.List.isList(e)||Array.isArray(e))&&(e={nodes:e}),F()(e))return n.fromJSON(e);throw new Error("`Document.create` only accepts objects, arrays, lists or documents, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isDocument(e))return e;var a=e.data,s=a===void 0?{}:a,c=e.key,l=c===void 0?Ze.create():c,v=e.nodes,h=v===void 0?[]:v,A=new n({key:l,data:new E.Map(s),nodes:pt.createList(h)});return A}}]),n}((0,E.Record)(Lt)),Zr={data:void 0,key:void 0,nodes:void 0,type:void 0},Vt=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(s){return s.toJSON(e)})};return e.preserveKeys&&(a.key=this.key),a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isInline(e))return e;if(typeof e=="string"&&(e={type:e}),F()(e))return n.fromJSON(e);throw new Error("`Inline.create` only accepts objects, strings or inlines, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Inline.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isInline(e))return e;var a=e.data,s=a===void 0?{}:a,c=e.key,l=c===void 0?Ze.create():c,v=e.nodes,h=v===void 0?[]:v,A=e.type;if(typeof A!="string")throw new Error("`Inline.fromJS` requires a `type` string.");var _=new n({key:l,type:A,data:new E.Map(s),nodes:pt.createList(h)});return _}},{key:"isInlineList",value:function(e){return E.List.isList(e)&&e.every(function(a){return n.isInline(a)})}}]),n}((0,E.Record)(Zr)),cr={key:void 0,marks:void 0,text:void 0},gn=(0,E.Record)({text:void 0,marks:void 0,annotations:void 0,decorations:void 0}),fr=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"addMark",value:function(e){e=Ft.create(e);var a=this.marks,s=a.add(e),c=this.set("marks",s);return c}},{key:"addMarks",value:function(e){e=Ft.createSet(e);var a=this.set("marks",this.marks.union(e));return a}},{key:"getLeaves",value:function(e,a){var s=this.text,c=this.marks,l=[{text:s,marks:c,annotations:[],decorations:[]}],v=function(C,P){return[{text:C.text.slice(0,P),marks:C.marks,annotations:[].concat(Ue(C.annotations)),decorations:[].concat(Ue(C.decorations))},{text:C.text.slice(P),marks:C.marks,annotations:[].concat(Ue(C.annotations)),decorations:[].concat(Ue(C.decorations))}]},h=function(C){var P=C==="annotations"?e.values():a,fe=!0,ge=!1,he=void 0;try{for(var De=P[Symbol.iterator](),Je;!(fe=(Je=De.next()).done);fe=!0){var ot=Je.value,ft=ot.start,Xe=ot.end,vt=[],p=0,g=!0,w=!1,k=void 0;try{for(var b=l[Symbol.iterator](),R;!(g=(R=b.next()).done);g=!0){var M=R.value,q=M.text.length,Y=p;if(p+=q,ft.offset<=Y&&Xe.offset>=Y+q){M[C].push(ot),vt.push(M);continue}if(ft.offset>Y+q||Xe.offset<Y||Xe.offset===Y&&Y!==0){vt.push(M);continue}var D=M,L=void 0,ee=void 0;if(Xe.offset<Y+q){var se=v(D,Xe.offset-Y),le=de(se,2);D=le[0],ee=le[1]}if(ft.offset>Y){var ke=v(D,ft.offset-Y),me=de(ke,2);L=me[0],D=me[1]}D[C].push(ot),L&&vt.push(L),vt.push(D),ee&&vt.push(ee)}}catch(Ae){w=!0,k=Ae}finally{try{!g&&b.return&&b.return()}finally{if(w)throw k}}l=vt}}catch(Ae){ge=!0,he=Ae}finally{try{!fe&&De.return&&De.return()}finally{if(ge)throw he}}};h("annotations"),h("decorations"),l=l.map(function(_){return new gn(et({},_,{annotations:(0,E.List)(_.annotations),decorations:(0,E.List)(_.decorations)}))});var A=(0,E.List)(l);return A}},{key:"insertText",value:function(e,a){var s=this.text,c=s.slice(0,e)+a+s.slice(e),l=this.set("text",c);return l}},{key:"removeMark",value:function(e){e=Ft.create(e);var a=this.marks,s=a.remove(e),c=this.set("marks",s);return c}},{key:"removeText",value:function(e,a){var s=this.text,c=s.slice(0,e)+s.slice(e+a),l=this.set("text",c);return l}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,text:this.text,marks:this.marks.toArray().map(function(s){return s.toJSON()})};return e.preserveKeys&&(a.key=this.key),a}},{key:"setMark",value:function(e,a){var s=this.marks,c=Ft.create(e),l=c.merge(a),v=s.remove(c).add(l),h=this.set("marks",v);return h}},{key:"splitText",value:function(e){var a=this.text,s=this.set("text",a.slice(0,e)),c=this.set("text",a.slice(e)).regenerateKey();return[s,c]}},{key:"mergeText",value:function(e){var a=this.text+e.text,s=this.set("text",a);return s}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";if(n.isText(e))return e;if(typeof e=="string"&&(e={text:e}),F()(e))return n.fromJSON(e);throw new Error("`Text.create` only accepts objects, arrays, strings or texts, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Text.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isText(e))return e;(0,Q.A)(e.leaves==null,"As of slate@0.46, the `leaves` property of text nodes has been removed! Each individual leaf should be created as a text node instead.");var a=e.text,s=a===void 0?"":a,c=e.marks,l=c===void 0?[]:c,v=e.key,h=v===void 0?Ze.create():v,A=new n({key:h,text:s,marks:Ft.createSet(l)});return A}},{key:"isTextList",value:function(e){return E.List.isList(e)&&e.every(function(a){return n.isText(a)})}}]),n}((0,E.Record)(cr)),pt=function(){function r(){ze(this,r)}return ve(r,null,[{key:"create",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(r.isNode(t))return t;if(F()(t)){var e=t.object;switch(!e&&t.kind&&(z(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),e=t.kind),e){case"block":return gr.create(t);case"document":return Zt.create(t);case"inline":return Vt.create(t);case"text":return fr.create(t);default:throw new Error("`Node.create` requires a `object` string.")}}throw new Error("`Node.create` only accepts objects or nodes but you passed it: "+t)}},{key:"createList",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(t)||Array.isArray(t)){var e=[];t.forEach(function(s){if(s&&s.object==="text"&&s.leaves&&Array.isArray(s.leaves)){z(!1,"As of slate@0.46, the `leaves` property of Text nodes has been removed. Instead, each text node contains a string of text and a unique set of marks and leaves are unnecessary.");var c=fr.createList(s.leaves).toArray();e=e.concat(c);return}var l=r.create(s);e.push(l)});var a=(0,E.List)(e);return a}throw new Error("`Node.createList` only accepts lists or arrays, but you passed it: "+t)}},{key:"createProperties",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(gr.isBlock(t)||Vt.isInline(t))return{data:t.data,type:t.type};if(typeof t=="string")return{type:t};if(F()(t)){var e={};return"type"in t&&(e.type=t.type),"data"in t&&(e.data=ur.create(t.data)),e}throw new Error("`Node.createProperties` only accepts objects, strings, blocks or inlines, but you passed it: "+t)}},{key:"fromJSON",value:function(t){var e=t.object;switch(!e&&t.kind&&(z(!1,"As of slate@0.32.0, the `kind` property of Slate objects has been renamed to `object`."),e=t.kind),e){case"block":return gr.fromJSON(t);case"document":return Zt.fromJSON(t);case"inline":return Vt.fromJSON(t);case"text":return fr.fromJSON(t);default:throw new Error("`Node.fromJSON` requires an `object` of either 'block', 'document', 'inline' or 'text', but you passed: "+t)}}},{key:"isNode",value:function(t){return gr.isBlock(t)||Zt.isDocument(t)||Vt.isInline(t)||fr.isText(t)}},{key:"isNodeList",value:function(t){return E.List.isList(t)&&t.every(function(e){return r.isNode(e)})}}]),r}(),yn={data:void 0,key:void 0,nodes:void 0,type:void 0},gr=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,type:this.type,data:this.data.toJSON(),nodes:this.nodes.toArray().map(function(s){return s.toJSON(e)})};return e.preserveKeys&&(a.key=this.key),a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isBlock(e))return e;if(typeof e=="string"&&(e={type:e}),F()(e))return n.fromJSON(e);throw new Error("`Block.create` only accepts objects, strings or blocks, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Block.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isBlock(e))return e;var a=e.data,s=a===void 0?{}:a,c=e.key,l=c===void 0?Ze.create():c,v=e.nodes,h=v===void 0?[]:v,A=e.type;if(typeof A!="string")throw new Error("`Block.fromJSON` requires a `type` string.");var _=new n({key:l,type:A,data:(0,E.Map)(s),nodes:pt.createList(h)});return _}},{key:"isBlockList",value:function(e){return E.List.isList(e)&&e.every(function(a){return n.isBlock(a)})}}]),n}((0,E.Record)(yn)),jn={annotations:void 0,data:void 0,document:void 0,selection:void 0},wr=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"addAnnotation",value:function(e){e=jt.create(e);var a=this,s=a,c=s.annotations,l=s.document,v=e,h=v.key;return e=e.updatePoints(function(A){return A.normalize(l)}),c=c.set(h,e),a=a.set("annotations",c),a}},{key:"addMark",value:function(e,a){a=Ft.create(a);var s=this,c=s,l=c.document;return l=l.addMark(e,a),s=s.set("document",l),s}},{key:"insertNode",value:function(e,a){var s=this,c=s,l=c.document;return l=l.insertNode(e,a),s=s.set("document",l),s=s.mapRanges(function(v){return v.updatePoints(function(h){return h.setPath(null)})}),s}},{key:"insertText",value:function(e,a,s){var c=this,l=c,v=l.document,h=v.assertNode(e);return v=v.insertText(e,a,s),h=v.assertNode(e),c=c.set("document",v),c=c.mapPoints(function(A){return A.key===h.key&&A.offset>=a?A.setOffset(A.offset+s.length):A}),c}},{key:"mergeNode",value:function(e){var a=this,s=a,c=s.document,l=c.mergeNode(e);e=c.resolvePath(e);var v=Fe.decrement(e),h=c.getNode(v),A=c.getNode(e);return a=a.set("document",l),a=a.mapRanges(function(_){if(A.object==="text"){var C=h.text.length;_.anchor.key===A.key&&(_=_.moveAnchorTo(h.key,C+_.anchor.offset)),_.focus.key===A.key&&(_=_.moveFocusTo(h.key,C+_.focus.offset))}return _=_.updatePoints(function(P){return P.setPath(null)}),_}),a}},{key:"moveNode",value:function(e,a){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,c=this,l=c,v=l.document;return Fe.isEqual(e,a)||(v=v.moveNode(e,a,s),c=c.set("document",v),c=c.mapPoints(function(h){return h.setPath(null)})),c}},{key:"removeAnnotation",value:function(e){e=jt.create(e);var a=this,s=a,c=s.annotations,l=e,v=l.key;return c=c.delete(v),a=a.set("annotations",c),a}},{key:"removeMark",value:function(e,a){a=Ft.create(a);var s=this,c=s,l=c.document;return l=l.removeMark(e,a),s=s.set("document",l),s}},{key:"removeNode",value:function(e){var a=this,s=a,c=s.document,l=c.assertNode(e),v=l.object==="text"?l:l.getFirstText()||l,h=l.object==="text"?l:l.getLastText()||l,A=c.getPreviousText(v.key),_=c.getNextText(h.key);return c=c.removeNode(e),a=a.set("document",c),a=a.mapRanges(function(C){var P=C,fe=P.anchor,ge=P.focus;return l.hasNode(fe.key)&&(C=A?C.moveAnchorTo(A.key,A.text.length):_?C.moveAnchorTo(_.key,0):C.unset()),l.hasNode(ge.key)&&(C=A?C.moveFocusTo(A.key,A.text.length):_?C.moveFocusTo(_.key,0):C.unset()),C=C.updatePoints(function(he){return he.setPath(null)}),C}),a}},{key:"removeText",value:function(e,a,s){var c=this,l=c,v=l.document,h=v.assertNode(e);v=v.removeText(e,a,s),c=c.set("document",v);var A=s.length,_=a,C=a+A;return c=c.mapPoints(function(P){return P.key!==h.key?P:P.offset>=C?P.setOffset(P.offset-A):P.offset>_?P.setOffset(_):P}),c}},{key:"setAnnotation",value:function(e,a){a=jt.createProperties(a);var s=jt.create(e),c=s.merge(a),l=this,v=l,h=v.annotations,A=s.key;return h=h.set(A,c),l=l.set("annotations",h),l}},{key:"setNode",value:function(e,a){var s=this,c=s,l=c.document;return l=l.setNode(e,a),s=s.set("document",l),s}},{key:"setMark",value:function(e,a,s){var c=this,l=c,v=l.document;return v=v.setMark(e,a,s),c=c.set("document",v),c}},{key:"setProperties",value:function(e){var a=this,s=a,c=s.document,l=e.data,v=e.annotations,h={};return l&&(h.data=l),v&&(h.annotations=v.map(function(A){return A.isSet?A:c.resolveAnnotation(A)})),a=a.merge(h),a}},{key:"setSelection",value:function(e){var a=this,s=a,c=s.document,l=s.selection,v=l.setProperties(e);return l=c.resolveSelection(v),a=a.set("selection",l),a}},{key:"splitNode",value:function(e,a,s){var c=this,l=c,v=l.document,h=v.splitNode(e,a,s),A=v.assertNode(e);return c=c.set("document",h),c=c.mapRanges(function(_){var C=h.getNextText(A.key),P=_,fe=P.anchor,ge=P.focus;return A.key===fe.key&&a<=fe.offset&&(_=_.moveAnchorTo(C.key,fe.offset-a)),A.key===ge.key&&a<=ge.offset&&(_=_.moveFocusTo(C.key,ge.offset-a)),_=_.updatePoints(function(he){return he.setPath(null)}),_}),c}},{key:"mapRanges",value:function(e){var a=this,s=a,c=s.document,l=s.selection,v=s.annotations,h=l.isSet?e(l):l;h||(h=l.unset()),h!==l&&(h=c.createSelection(h)),a=a.set("selection",h);var A=v.map(function(_){var C=_.isSet?e(_):_;return C&&C!==_&&(C=c.createAnnotation(C)),C});return A=A.filter(function(_){return!!_}),a=a.set("annotations",A),a}},{key:"mapPoints",value:function(e){return this.mapRanges(function(a){return a.updatePoints(e)})}},{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,document:this.document.toJSON(e)};return e.preserveData&&(a.data=this.data.toJSON(e)),e.preserveAnnotations&&(a.annotations=this.annotations.map(function(s){return s.toJSON(e)}).toObject()),e.preserveSelection&&(a.selection=this.selection.toJSON(e)),a}},{key:"change",value:function(){(0,Q.A)(!1,"As of Slate 0.42.0, value object are no longer schema-aware, and the `value.change()` method is no longer available. Use the `editor.change()` method on the new `Editor` controller instead.")}},{key:"startBlock",get:function(){return this.selection.start.key&&this.document.getClosestBlock(this.selection.start.key)}},{key:"endBlock",get:function(){return this.selection.end.key&&this.document.getClosestBlock(this.selection.end.key)}},{key:"anchorBlock",get:function(){return this.selection.anchor.key&&this.document.getClosestBlock(this.selection.anchor.key)}},{key:"focusBlock",get:function(){return this.selection.focus.key&&this.document.getClosestBlock(this.selection.focus.key)}},{key:"startInline",get:function(){return this.selection.start.key&&this.document.getClosestInline(this.selection.start.key)}},{key:"endInline",get:function(){return this.selection.end.key&&this.document.getClosestInline(this.selection.end.key)}},{key:"anchorInline",get:function(){return this.selection.anchor.key&&this.document.getClosestInline(this.selection.anchor.key)}},{key:"focusInline",get:function(){return this.selection.focus.key&&this.document.getClosestInline(this.selection.focus.key)}},{key:"startText",get:function(){return this.selection.start.key&&this.document.getDescendant(this.selection.start.key)}},{key:"endText",get:function(){return this.selection.end.key&&this.document.getDescendant(this.selection.end.key)}},{key:"anchorText",get:function(){return this.selection.anchor.key&&this.document.getDescendant(this.selection.anchor.key)}},{key:"focusText",get:function(){return this.selection.focus.key&&this.document.getDescendant(this.selection.focus.key)}},{key:"nextBlock",get:function(){return this.selection.end.key&&this.document.getNextBlock(this.selection.end.key)}},{key:"previousBlock",get:function(){return this.selection.start.key&&this.document.getPreviousBlock(this.selection.start.key)}},{key:"nextInline",get:function(){return this.selection.end.key&&this.document.getNextInline(this.selection.end.key)}},{key:"previousInline",get:function(){return this.selection.start.key&&this.document.getPreviousInline(this.selection.start.key)}},{key:"nextText",get:function(){return this.selection.end.key&&this.document.getNextText(this.selection.end.key)}},{key:"previousText",get:function(){return this.selection.start.key&&this.document.getPreviousText(this.selection.start.key)}},{key:"marks",get:function(){return this.selection.isUnset?new E.Set:this.selection.marks||this.document.getMarksAtRange(this.selection)}},{key:"activeMarks",get:function(){return this.selection.isUnset?new E.Set:this.selection.marks||this.document.getActiveMarksAtRange(this.selection)}},{key:"blocks",get:function(){return this.selection.isUnset?new E.List:this.document.getLeafBlocksAtRange(this.selection)}},{key:"fragment",get:function(){return this.selection.isUnset?Zt.create():this.document.getFragmentAtRange(this.selection)}},{key:"inlines",get:function(){return this.selection.isUnset?new E.List:this.document.getLeafInlinesAtRange(this.selection)}},{key:"texts",get:function(){return this.selection.isUnset?new E.List:this.document.getTextsAtRange(this.selection)}},{key:"history",get:function(){(0,Q.A)(!1,"As of Slate 0.42.0, the `value.history` model no longer exists, and the history is stored in `value.data` instead using plugins.")}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(n.isValue(e))return e;if(F()(e))return n.fromJSON(e,a);throw new Error("`Value.create` only accepts objects or values, but you passed it: "+e)}},{key:"createProperties",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isValue(e))return{annotations:e.annotations,data:e.data};if(F()(e)){var a={};return"annotations"in e&&(a.annotations=jt.createMap(e.annotations)),"data"in e&&(a.data=ur.create(e.data)),a}throw new Error("`Value.createProperties` only accepts objects or values, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.data,s=a===void 0?{}:a,c=e.annotations,l=c===void 0?{}:c,v=e.document,h=v===void 0?{}:v,A=e.selection,_=A===void 0?{}:A;if(s=ur.fromJSON(s),h=Zt.fromJSON(h),_=h.createSelection(_),l=jt.createMap(l),_.isUnset){var C=h.getFirstText();C&&(_=_.moveToStartOfNode(C)),_=h.createSelection(_)}var P=new n({annotations:l,data:s,document:h,selection:_});return P}}]),n}((0,E.Record)(jn)),Pn=ne()("slate:operation:apply");function Yn(r,n){n=x.create(n);var t=n,e=t.type;switch(Pn(e,n),e){case"add_annotation":{var a=n,s=a.annotation,c=r.addAnnotation(s);return c}case"add_mark":{var l=n,v=l.path,h=l.mark,A=r.addMark(v,h);return A}case"insert_node":{var _=n,C=_.path,P=_.node,fe=r.insertNode(C,P);return fe}case"insert_text":{var ge=n,he=ge.path,De=ge.offset,Je=ge.text,ot=ge.marks,ft=r.insertText(he,De,Je,ot);return ft}case"merge_node":{var Xe=n,vt=Xe.path,p=r.mergeNode(vt);return p}case"move_node":{var g=n,w=g.path,k=g.newPath,b=r.moveNode(w,k);return b}case"remove_annotation":{var R=n,M=R.annotation,q=r.removeAnnotation(M);return q}case"remove_mark":{var Y=n,D=Y.path,L=Y.mark,ee=r.removeMark(D,L);return ee}case"remove_node":{var se=n,le=se.path,ke=r.removeNode(le);return ke}case"remove_text":{var me=n,Ae=me.path,re=me.offset,G=me.text,_e=r.removeText(Ae,re,G);return _e}case"set_annotation":{var Pe=n,be=Pe.properties,je=Pe.newProperties,pe=r.setAnnotation(be,je);return pe}case"set_mark":{var Oe=n,Re=Oe.path,Ve=Oe.properties,oe=Oe.newProperties,Se=r.setMark(Re,Ve,oe);return Se}case"set_node":{var Le=n,at=Le.path,Mt=Le.newProperties,Xt=r.setNode(at,Mt);return Xt}case"set_selection":{var ir=n,tr=ir.newProperties,er=r.setSelection(tr);return er}case"set_value":{var dr=n,mr=dr.newProperties,_r=r.setProperties(mr);return _r}case"split_node":{var Er=n,Lr=Er.path,zr=Er.position,vr=Er.properties,Gt=r.splitNode(Lr,zr,vr);return Gt}default:throw new Error('Unknown operation type: "'+e+'".')}}var Zn=ne()("slate:operation:invert");function Rt(r){r=x.create(r);var n=r,t=n.type;switch(Zn(t,r),t){case"move_node":{var e=r,a=e.newPath,s=e.path;if(Fe.isEqual(a,s))return r;var c=Fe.transform(s,r).first(),l=Fe.transform(Fe.increment(s),r).first(),v=r.set("path",c).set("newPath",l);return v}case"merge_node":{var h=r,A=h.path,_=Fe.decrement(A),C=r.set("type","split_node").set("path",_);return C}case"split_node":{var P=r,fe=P.path,ge=Fe.increment(fe),he=r.set("type","merge_node").set("path",ge);return he}case"set_annotation":case"set_node":case"set_value":case"set_selection":case"set_mark":{var De=r,Je=De.properties,ot=De.newProperties,ft=r.set("properties",ot).set("newProperties",Je);return ft}case"insert_node":case"insert_text":{var Xe=r.set("type",t.replace("insert_","remove_"));return Xe}case"remove_node":case"remove_text":{var vt=r.set("type",t.replace("remove_","insert_"));return vt}case"add_annotation":case"add_mark":{var p=r.set("type",t.replace("add_","remove_"));return p}case"remove_annotation":case"remove_mark":{var g=r.set("type",t.replace("remove_","add_"));return g}default:throw new Error('Unknown operation type: "'+t+'".')}}var rt={add_mark:["path","mark","data"],add_annotation:["annotation","data"],insert_node:["path","node","data"],insert_text:["path","offset","text","data"],merge_node:["path","position","properties","target","data"],move_node:["path","newPath","data"],remove_annotation:["annotation","data"],remove_mark:["path","mark","data"],remove_node:["path","node","data"],remove_text:["path","offset","text","data"],set_annotation:["properties","newProperties","data"],set_mark:["path","properties","newProperties","data"],set_node:["path","properties","newProperties","data"],set_selection:["properties","newProperties","data"],set_value:["properties","newProperties","data"],split_node:["path","position","properties","target","data"]},S={annotation:void 0,data:void 0,length:void 0,mark:void 0,marks:void 0,newPath:void 0,newProperties:void 0,node:void 0,offset:void 0,path:void 0,position:void 0,properties:void 0,target:void 0,text:void 0,type:void 0},x=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"apply",value:function(e){var a=Yn(e,this);return a}},{key:"invert",value:function(){var e=Rt(this);return e}},{key:"toJSON",value:function(){var e=this.object,a=this.type,s={object:e,type:a},c=rt[a],l=!0,v=!1,h=void 0;try{for(var A=c[Symbol.iterator](),_;!(l=(_=A.next()).done);l=!0){var C=_.value,P=this[C];if((C==="annotation"||C==="mark"||C==="marks"||C==="node"||C==="path"||C==="newPath")&&(P=P.toJSON()),C==="properties"&&a==="merge_node"){var fe={};"data"in P&&(fe.data=P.data.toJS()),"type"in P&&(fe.type=P.type),P=fe}if((C==="properties"||C==="newProperties")&&a==="set_annotation"){var ge={};"anchor"in P&&(ge.anchor=P.anchor.toJS()),"focus"in P&&(ge.focus=P.focus.toJS()),"key"in P&&(ge.key=P.key),"data"in P&&(ge.data=P.data.toJS()),"type"in P&&(ge.type=P.type),P=ge}if((C==="properties"||C==="newProperties")&&a==="set_mark"){var he={};"data"in P&&(he.data=P.data.toJS()),"type"in P&&(he.type=P.type),P=he}if((C==="properties"||C==="newProperties")&&a==="set_node"){var De={};"data"in P&&(De.data=P.data.toJS()),"type"in P&&(De.type=P.type),P=De}if((C==="properties"||C==="newProperties")&&a==="set_selection"){var Je={};"anchor"in P&&(Je.anchor=P.anchor.toJSON()),"focus"in P&&(Je.focus=P.focus.toJSON()),"isFocused"in P&&(Je.isFocused=P.isFocused),"marks"in P&&(Je.marks=P.marks&&P.marks.toJSON()),P=Je}if((C==="properties"||C==="newProperties")&&a==="set_value"){var ot={};"data"in P&&(ot.data=P.data.toJS()),P=ot}if(C==="properties"&&a==="split_node"){var ft={};"data"in P&&(ft.data=P.data.toJS()),"type"in P&&(ft.type=P.type),P=ft}C==="data"&&(P=P.toJSON()),s[C]=P}}catch(Xe){v=!0,h=Xe}finally{try{!l&&A.return&&A.return()}finally{if(v)throw h}}return s}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isOperation(e))return e;if(F()(e))return n.fromJSON(e);throw new Error("`Operation.create` only accepts objects or operations, but you passed it: "+e)}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Operation.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){if(n.isOperation(e))return e;var a=e.type,s=rt[a],c={type:a};if(!s)throw new Error('`Operation.fromJSON` was passed an unrecognized operation type: "'+a+'"');var l=!0,v=!1,h=void 0;try{for(var A=s[Symbol.iterator](),_;!(l=(_=A.next()).done);l=!0){var C=_.value,P=e[C];if(C==="data"&&P===void 0&&(P={}),P===void 0)throw new Error('`Operation.fromJSON` was passed a "'+a+'" operation without the required "'+C+'" attribute.');C==="annotation"&&(P=jt.create(P)),(C==="path"||C==="newPath")&&(P=Fe.create(P)),C==="mark"&&(P=Ft.create(P)),C==="node"&&(P=pt.create(P)),(C==="properties"||C==="newProperties")&&a==="set_annotation"&&(P=jt.createProperties(P)),(C==="properties"||C==="newProperties")&&a==="set_mark"&&(P=Ft.createProperties(P)),(C==="properties"||C==="newProperties")&&(a==="set_node"||a==="merge_node"||a==="split_node")&&(P=pt.createProperties(P)),(C==="properties"||C==="newProperties")&&a==="set_selection"&&(P=lr.createProperties(P)),(C==="properties"||C==="newProperties")&&a==="set_value"&&(P=wr.createProperties(P)),C==="data"&&(P=(0,E.Map)(P)),c[C]=P}}catch(ge){v=!0,h=ge}finally{try{!l&&A.return&&A.return()}finally{if(v)throw h}}var fe=new n(c);return fe}},{key:"isOperationList",value:function(e){return E.List.isList(e)&&e.every(function(a){return n.isOperation(a)})}}]),n}((0,E.Record)(S)),O={operations:void 0,value:void 0},V=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"toJSON",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a={object:this.object,value:this.value.toJSON(e),operations:this.operations.toArray().map(function(s){return s.toJSON(e)})};return a}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(n.isChange(e))return e;if(F()(e))return n.fromJSON(e);throw new Error("`Change.create` only accepts objects or changes, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.value,s=e.operations,c=s===void 0?[]:s,l=new n({value:wr.create(a),operations:x.createList(c)});return l}}]),n}((0,E.Record)(O));function H(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function n(e,a,s){var c=e.type,l=e.args,v=r[c];if(!v)return s();a.command.apply(a,[v].concat(Ue(l)))}function t(e,a){for(var s in r)e.registerCommand(s);return a()}return{onCommand:n,onConstruct:t}}var U=55296,Te=57343,Be=/\s/,mt=/['\u2018\u2019]/,Ge=/[\u0021-\u0023\u0025-\u002A\u002C-\u002F\u003A\u003B\u003F\u0040\u005B-\u005D\u005F\u007B\u007D\u00A1\u00A7\u00AB\u00B6\u00B7\u00BB\u00BF\u037E\u0387\u055A-\u055F\u0589\u058A\u05BE\u05C0\u05C3\u05C6\u05F3\u05F4\u0609\u060A\u060C\u060D\u061B\u061E\u061F\u066A-\u066D\u06D4\u0700-\u070D\u07F7-\u07F9\u0830-\u083E\u085E\u0964\u0965\u0970\u0AF0\u0DF4\u0E4F\u0E5A\u0E5B\u0F04-\u0F12\u0F14\u0F3A-\u0F3D\u0F85\u0FD0-\u0FD4\u0FD9\u0FDA\u104A-\u104F\u10FB\u1360-\u1368\u1400\u166D\u166E\u169B\u169C\u16EB-\u16ED\u1735\u1736\u17D4-\u17D6\u17D8-\u17DA\u1800-\u180A\u1944\u1945\u1A1E\u1A1F\u1AA0-\u1AA6\u1AA8-\u1AAD\u1B5A-\u1B60\u1BFC-\u1BFF\u1C3B-\u1C3F\u1C7E\u1C7F\u1CC0-\u1CC7\u1CD3\u2010-\u2027\u2030-\u2043\u2045-\u2051\u2053-\u205E\u207D\u207E\u208D\u208E\u2329\u232A\u2768-\u2775\u27C5\u27C6\u27E6-\u27EF\u2983-\u2998\u29D8-\u29DB\u29FC\u29FD\u2CF9-\u2CFC\u2CFE\u2CFF\u2D70\u2E00-\u2E2E\u2E30-\u2E3B\u3001-\u3003\u3008-\u3011\u3014-\u301F\u3030\u303D\u30A0\u30FB\uA4FE\uA4FF\uA60D-\uA60F\uA673\uA67E\uA6F2-\uA6F7\uA874-\uA877\uA8CE\uA8CF\uA8F8-\uA8FA\uA92E\uA92F\uA95F\uA9C1-\uA9CD\uA9DE\uA9DF\uAA5C-\uAA5F\uAADE\uAADF\uAAF0\uAAF1\uABEB\uFD3E\uFD3F\uFE10-\uFE19\uFE30-\uFE52\uFE54-\uFE61\uFE63\uFE68\uFE6A\uFE6B\uFF01-\uFF03\uFF05-\uFF0A\uFF0C-\uFF0F\uFF1A\uFF1B\uFF1F\uFF20\uFF3B-\uFF3D\uFF3F\uFF5B\uFF5D\uFF5F-\uFF65]/;function dt(r){return U<=r&&r<=Te}function ut(r,n,t){if(r===55356){var e=n.charCodeAt(t+1);return e<=57343&&e>=57339}return!1}function Dt(r){return r<=65039&&r>=65024}function Nr(r){return r===10084||r===9794||r===9792||r===9760||r===9877||r===9992||r===9711}function hr(r,n){if(Be.test(r))return!1;if(mt.test(r)){var t=n.charAt(0),e=br(t);t=n.slice(0,e);var a=n.slice(e);if(hr(t,a))return!0}return!Ge.test(r)}function br(r){return dt(r.charCodeAt(0))?2:1}function rn(r,n,t){var e=0;if(r==="")return 1;for(var a=0;a<n;a++)for(var s=null,c=r.charCodeAt(e);c;){if(dt(c)){var l=ut(c,r,e);if(t){if(!l&&s&&s!=="ZWJ"||l&&s&&s!=="SURR")break}else if(s==="SURR"||s==="BMP")break;e+=2,s=l?"MOD":"SURR",c=r.charCodeAt(e);continue}if(c===8205){e+=1,s="ZWJ",c=r.charCodeAt(e);continue}if(Nr(c)){if(t&&s==="VAR"||s&&s!=="ZWJ"&&s!=="VAR")break;e+=1,s="BMP",c=r.charCodeAt(e);continue}if(Dt(c)){if(!t&&s&&s!=="ZWJ")break;e+=1,s="VAR",c=r.charCodeAt(e);continue}if(t){var v=r.charCodeAt(e+1);if(ut(v,r,e+1)){e+=3,s="MOD",c=r.charCodeAt(e);continue}}else if(s==="MOD"){e+=1;break}s===null&&(e+=1);break}return e}function Rn(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r=r.slice(0,n),r=(0,j.reverse)(r),rn(r,t)}function Fn(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;return r=r.slice(n),rn(r,t,!0)}function Gr(r){for(var n=0,t=0,e=!1,a=void 0;a=r.charAt(t);){var s=br(a);a=r.slice(t,t+s);var c=r.slice(t+s);if(hr(a,c))e=!0,n+=s;else if(!e)n+=s;else break;t+=s}return n}function kn(r,n){r=r.slice(0,n),r=(0,j.reverse)(r);var t=Gr(r);return t}function Gn(r,n){r=r.slice(n);var t=Gr(r);return t}var Kr={getCharLength:br,getCharOffset:rn,getCharOffsetBackward:Rn,getCharOffsetForward:Fn,getWordOffset:Gr,getWordOffsetBackward:kn,getWordOffsetForward:Gn,isSurrogate:dt,isWord:hr};function Cr(r,n){n.isExpanded&&r.deleteAtRange(n);var t=r.value,e=t.document,a=n,s=a.start,c=a.end;return e.hasDescendant(s.path)?n=n.moveToStart():n=n.moveTo(c.path,0).normalize(e),n}var qt={};qt.addMarkAtRange=function(r,n,t){if(!n.isCollapsed){var e=r.value,a=e.document,s=n.start,c=n.end,l=a.getTextsAtRange(n);r.withoutNormalizing(function(){l.forEach(function(v){var h=v.key,A=0,_=v.text.length;h===s.key&&(A=s.offset),h===c.key&&(_=c.offset),h===s.key&&h===c.key&&(_=c.offset-s.offset),r.addMarkByKey(h,A,_,t)})})}},qt.addMarksAtRange=function(r,n,t){t.forEach(function(e){return r.addMarkAtRange(n,e)})},qt.deleteAtRange=function(r,n){r.snapshotSelection();var t=r.value,e=n.start,a=n.end,s=e.key,c=e.offset,l=a.key,v=a.offset,h=t.document,A=h.hasVoidParent(s,r),_=h.hasVoidParent(l,r),C=h.getClosestBlock(s),P=h.getClosestBlock(l),fe=c===0&&v===0&&A===!1&&s===C.getFirstText().key&&l===P.getFirstText().key&&s!==l;if(fe&&_){var ge=h.getPreviousText(l);l=ge.key,v=ge.text.length,_=h.hasVoidParent(l,r)}r.withoutNormalizing(function(){for(;A;){var he=h.getClosestVoid(s,r),De=h.getNextText(s);if(r.removeNodeByKey(he.key),s===l||!De)return;h=r.value.document,s=De.key,c=0,A=h.hasVoidParent(s,r)}for(;_;){var Je=h.getClosestVoid(l,r),ot=h.getPreviousText(l);r.removeNodeByKey(Je.key),h=r.value.document,l=ot.key,v=ot.text.length,_=h.hasVoidParent(l,r)}if(s===l&&fe){r.removeNodeByKey(C.key);return}else if(s===l){var ft=c,Xe=v-c;r.removeTextByKey(s,ft,Xe);return}else{C=h.getClosestBlock(s),P=h.getClosestBlock(l);var vt=h.getNode(s),p=h.getNode(l),g=vt.text.length-c,w=v,k=h.getCommonAncestor(s,l),b=k.getFurthestChild(s),R=k.getFurthestChild(l),M=h.getParent(C.key),q=M.nodes.indexOf(C),Y=M.nodes.indexOf(P),D=void 0;for(D=vt;D.key!==b.key;){var L=h.getParent(D.key),ee=L.nodes.indexOf(D),se=L.nodes.slice(ee+1);se.reverse().forEach(function(Se){r.removeNodeByKey(Se.key)}),D=L}var le=k.nodes.indexOf(b),ke=k.nodes.indexOf(R),me=k.nodes.slice(le+1,ke);for(me.reverse().forEach(function(Se){r.removeNodeByKey(Se.key)}),D=p;D.key!==R.key;){var Ae=h.getParent(D.key),re=Ae.nodes.indexOf(D),G=Ae.nodes.slice(0,re);G.reverse().forEach(function(Se){r.removeNodeByKey(Se.key)}),D=Ae}if(g!==0&&r.removeTextByKey(s,c,g),w!==0&&r.removeTextByKey(l,0,v),C.key!==P.key){h=r.value.document;var _e=void 0,Pe=!0,be=!1,je=void 0;try{for(var pe=h.ancestors(P.key)[Symbol.iterator](),Oe;!(Pe=(Oe=pe.next()).done);Pe=!0){var Re=Oe.value,Ve=de(Re,1),oe=Ve[0];if(oe.nodes.size>1)break;_e=oe}}catch(Se){be=!0,je=Se}finally{try{!Pe&&pe.return&&pe.return()}finally{if(be)throw je}}Y!==q+1&&r.moveNodeByKey(P.key,M.key,q+1),fe?r.removeNodeByKey(C.key):r.mergeNodeByKey(P.key),_e&&r.removeNodeByKey(_e.key)}}})},qt.deleteBackwardAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){var e=r.value,a=e.document,s=n,c=s.start,l=s.focus;if(n.isExpanded){r.deleteAtRange(n);return}var v=a.getClosestVoid(c.path,r);if(v){r.removeNodeByKey(v.key);return}if(!c.isAtStartOfNode(a)){var h=a.getClosestBlock(c.path);if(a.nodes.size!==1&&h&&h.text===""&&h.nodes.size===1){r.removeNodeByKey(h.key);return}var A=a.getDescendant(c.path);if(c.isAtStartOfNode(A)){var _=a.getPreviousText(A.key),C=a.getClosestInline(A.key);C&&_.text===""&&(_=a.getPreviousText(_.key));var P=a.getClosestBlock(_.key),fe=a.getClosestVoid(_.key,r);if(fe){r.removeNodeByKey(fe.key);return}if(t===1&&P!==h){n=n.moveAnchorTo(_.key,_.text.length),r.deleteAtRange(n);return}}if(t<=l.offset){n=n.moveFocusBackward(t),r.deleteAtRange(n);return}for(var ge=A,he=0,De=l.offset;t>De;){ge=a.getPreviousText(ge.key);var Je=De+ge.text.length;if(t<=Je){he=Je-t;break}else De=Je}n=n.moveAnchorTo(ge.key,he),r.deleteAtRange(n)}}},qt.deleteCharBackwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,a=n.start,s=e.getClosestBlock(a.path),c=s.getOffset(a.key),l=c+a.offset,v=s.text,h=Kr.getCharOffsetBackward(v,l);r.deleteBackwardAtRange(n,h)},qt.deleteCharForwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,a=n.start,s=e.getClosestBlock(a.path),c=s.getOffset(a.key),l=c+a.offset,v=s.text,h=Kr.getCharOffsetForward(v,l);r.deleteForwardAtRange(n,h)},qt.deleteForwardAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){var e=r.value,a=e.document,s=n,c=s.start,l=s.focus;if(n.isExpanded){r.deleteAtRange(n);return}var v=a.getClosestVoid(c.path,r);if(v){r.removeNodeByKey(v.key);return}var h=a.getClosestBlock(c.path);if(h&&!r.isVoid(h)&&h.text===""&&a.nodes.size!==1){var A=a.getNextBlock(h.key);r.removeNodeByKey(h.key),A&&A.key&&r.moveToStartOfNode(A);return}if(!c.isAtEndOfNode(a)){var _=a.getDescendant(c.path);if(c.isAtEndOfNode(_)){var C=a.getNextText(_.key),P=a.getClosestBlock(C.key),fe=a.getClosestVoid(C.key,r);if(fe){r.removeNodeByKey(fe.key);return}if(t===1&&P!==h){n=n.moveFocusTo(C.key,0),r.deleteAtRange(n);return}}if(t<=_.text.length-l.offset){n=n.moveFocusForward(t),r.deleteAtRange(n);return}for(var ge=_,he=l.offset,De=_.text.length-l.offset;t>De;){ge=a.getNextText(ge.key);var Je=De+ge.text.length;if(t<=Je){he=t-De;break}else De=Je}n=n.moveFocusTo(ge.key,he),r.deleteAtRange(n)}}},qt.deleteLineBackwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,a=n.start,s=e.getClosestBlock(a.path),c=s.getOffset(a.key),l=c+a.offset;r.deleteBackwardAtRange(n,l)},qt.deleteLineForwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,a=n.start,s=e.getClosestBlock(a.path),c=s.getOffset(a.key),l=c+a.offset;r.deleteForwardAtRange(n,s.text.length-l)},qt.deleteWordBackwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,a=n.start,s=e.getClosestBlock(a.path),c=s.getOffset(a.key),l=c+a.offset,v=s.text,h=l===0?1:Kr.getWordOffsetBackward(v,l);r.deleteBackwardAtRange(n,h)},qt.deleteWordForwardAtRange=function(r,n){if(n.isExpanded){r.deleteAtRange(n);return}var t=r.value,e=t.document,a=n.start,s=e.getClosestBlock(a.path),c=s.getOffset(a.key),l=c+a.offset,v=s.text,h=Kr.getWordOffsetForward(v,l),A=h===0?1:h;r.deleteForwardAtRange(n,A)},qt.insertBlockAtRange=function(r,n,t){n=Cr(r,n),t=gr.create(t);var e=r.value,a=e.document,s=n,c=s.start,l=c.key,v=c.offset,h=a.getClosestBlock(l),A=a.getClosestInline(l),_=a.getParent(h.key),C=_.nodes.indexOf(h),P=kt(r,n);if(P==="before")r.insertNodeByKey(_.key,C,t);else if(P==="behind")r.insertNodeByKey(_.key,C+1,t);else{if(A&&r.isVoid(A)){var fe=c.isAtEndOfNode(A),ge=fe?a.getNextText(l):a.getPreviousText(l),he=fe?n.moveToStartOfNode(ge):n.moveToEndOfNode(ge);l=he.start.key,v=he.start.offset}r.withoutNormalizing(function(){r.splitDescendantsByKey(h.key,l,v),r.insertNodeByKey(_.key,C+1,t)})}};var kt=function(n,t){var e=n.value,a=e.document,s=t.start,c=s.key,l=a.getClosestBlock(c),v=a.getClosestInline(c);return n.isVoid(l)?s.isAtEndOfNode(l)?"behind":"before":!v&&l.text===""?"behind":s.isAtStartOfNode(l)?"before":s.isAtEndOfNode(l)?"behind":"split"};qt.insertFragmentAtRange=function(r,n,t){r.withoutNormalizing(function(){if(n=Cr(r,n),!!t.nodes.size){t=t.mapDescendants(function(q){return q.regenerateKey()});var e=n,a=e.start,s=r.value,c=s.document,l=c.getDescendant(a.path),v=c.getClosestBlock(l.key),h=v.getFurthestChild(l.key),A=a.isAtStartOfNode(v),_=c.getParent(v.key),C=_.nodes.indexOf(v),P=t.getBlocks(),fe=t.nodes.first(),ge=t.nodes.last(),he=P.first(),De=P.last(),Je=Ht(t,c,v.key);if(he===De&&r.isVoid(he)){r.insertBlockAtRange(n,he);return}if(Je===t&&(fe.hasBlockChildren()||ge.hasBlockChildren())){var ot=kt(r,n),ft=ot==="before"?t.nodes:t.nodes.reverse();ft.forEach(function(q){r.insertBlockAtRange(n,q)});return}if(he!==De){var Xe=Je.getFurthest(he.key,function(q){return q.nodes.size===1}),vt=Xe||he,p=_.nodes.indexOf(v),g=Je.removeNode(vt.key);g.nodes.forEach(function(q,Y){var D=p+Y+1;r.insertNodeByKey(_.key,D,q)})}if(a.offset!==0&&r.splitDescendantsByKey(h.key,a.key,a.offset),c=r.value.document,l=c.getDescendant(a.key),v=c.getClosestBlock(a.key),h=v.getFurthestChild(l.key),he!==De){var w=A?h:v.getNextSibling(h.key),k=w?v.nodes.skipUntil(function(q){return q.key===w.key}):(0,E.List)(),b=De.nodes.size;k.forEach(function(q,Y){var D=b+Y;r.moveNodeByKey(q.key,De.key,D)})}if(!r.isVoid(v)&&v.text===""&&!v.findDescendant(function(q){return r.isVoid(q)}))r.removeNodeByKey(v.key),r.insertNodeByKey(_.key,C,he);else{var R=v.getFurthestChild(l.key),M=v.nodes.indexOf(R);he.nodes.forEach(function(q,Y){var D=a.offset===0?0:1,L=M+Y+D;r.insertNodeByKey(v.key,L,q)})}}})};var Ht=function(n,t,e){var a=function(C){for(var P=C;P.nodes.size===1&&P.nodes.first().object==="block";)P=P.nodes.first();return P===C?null:P},s=function(C,P){return P.size>=C.size&&C.every(function(fe,ge){return P.get(ge).type===fe.type})},c=function(C,P){var fe=C.size-P.size;if(fe<0)return n;for(var ge=0;ge<P.size;ge++)for(var he=0;he<=fe;he++)if(s(P.slice(ge),C.slice(he)))return P.get(ge);return n},l=function(C,P){return C.getAncestors(P).slice(1).push(C.getNode(P)).reverse()},v=a(n);if(!v)return n;var h=l(t,e),A=l(n,v.key);return c(h,A)};qt.insertInlineAtRange=function(r,n,t){t=Vt.create(t),r.withoutNormalizing(function(){n=Cr(r,n);var e=r.value,a=e.document,s=n,c=s.start,l=a.getParent(c.path),v=a.assertDescendant(c.path),h=l.nodes.indexOf(v);r.isVoid(l)||(r.splitNodeByPath(c.path,c.offset),r.insertNodeByKey(l.key,h+1,t))})},qt.insertTextAtRange=function(r,n,t,e){r.withoutNormalizing(function(){n=Cr(r,n);var a=r.value,s=a.document,c=n,l=c.start,v=l.offset,h=s.getParent(l.path);r.isVoid(h)||r.insertTextByPath(l.path,v,t,e)})},qt.removeMarkAtRange=function(r,n,t){if(!n.isCollapsed){var e=r.value,a=e.document,s=a.getTextsAtRange(n),c=n.start,l=n.end;r.withoutNormalizing(function(){s.forEach(function(v){var h=v.key,A=0,_=v.text.length;h===c.key&&(A=c.offset),h===l.key&&(_=l.offset),h===c.key&&h===l.key&&(_=l.offset-c.offset),r.removeMarkByKey(h,A,_,t)})})}},qt.setBlocksAtRange=function(r,n,t){var e=r.value,a=e.document,s=a.getLeafBlocksAtRange(n),c=n.start,l=n.end,v=n.isCollapsed,h=a.hasVoidParent(c.path,r),A=a.getClosestBlock(c.path),_=a.getClosestBlock(l.key),C=v===!1&&c.offset===0&&l.offset===0&&h===!1&&c.key===A.getFirstText().key&&l.key===_.getFirstText().key,P=C?s.slice(0,-1):s;r.withoutNormalizing(function(){P.forEach(function(fe){r.setNodeByKey(fe.key,t)})})},qt.setInlinesAtRange=function(r,n,t){var e=r.value,a=e.document,s=a.getLeafInlinesAtRange(n);r.withoutNormalizing(function(){s.forEach(function(c){r.setNodeByKey(c.key,t)})})},qt.splitBlockAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;n=Cr(r,n);for(var e=n,a=e.start,s=e.end,c=r.value,l=c,v=l.document,h=v.assertDescendant(a.path),A=v.getClosestBlock(h.key),_=0;A&&A.object==="block"&&_<t;)h=A,A=v.getClosestBlock(A.key),_++;r.withoutNormalizing(function(){if(r.splitDescendantsByKey(h.key,a.path,a.offset),c=r.value,v=c.document,n.isExpanded){n.isBackward&&(n=n.flip());var C=v.getNextBlock(h.key);n=n.moveAnchorToStartOfNode(C),n=n.setFocus(n.focus.setPath(null)),a.path.equals(s.path)&&(n=n.moveFocusTo(n.anchor.key,s.offset-a.offset)),n=v.resolveRange(n),r.deleteAtRange(n)}})},qt.splitInlineAtRange=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1/0;n=Cr(r,n);for(var e=n,a=e.start,s=r.value,c=s.document,l=c.assertDescendant(a.path),v=c.getClosestInline(l.key),h=0;v&&v.object==="inline"&&h<t;)l=v,v=c.getClosestInline(v.key),h++;r.splitDescendantsByKey(l.key,a.path,a.offset)},qt.toggleMarkAtRange=function(r,n,t){if(!n.isCollapsed){t=Ft.create(t);var e=r.value,a=e.document,s=a.getActiveMarksAtRange(n),c=s.some(function(l){return l.equals(t)});c?r.removeMarkAtRange(n,t):r.addMarkAtRange(n,t)}},qt.unwrapBlockAtRange=function(r,n,t){t=pt.createProperties(t);var e=r.value,a=e.document,s=a.getLeafBlocksAtRange(n),c=s.map(function(l){return a.getClosest(l.key,function(v){return!(v.object!=="block"||t.type!=null&&v.type!==t.type||t.data!=null&&!v.data.isSuperset(t.data))})}).filter(function(l){return l}).toOrderedSet().toList();r.withoutNormalizing(function(){c.forEach(function(l){var v=l.nodes.first(),h=l.nodes.last(),A=r.value.document.getParent(l.key),_=A.nodes.indexOf(l),C=l.nodes.filter(function(he){return s.some(function(De){return he===De||he.hasDescendant(De.key)})}),P=C.first(),fe=C.last();if(v===P&&h===fe)l.nodes.forEach(function(he,De){r.moveNodeByKey(he.key,A.key,_+De)}),r.removeNodeByKey(l.key);else if(h===fe)l.nodes.skipUntil(function(he){return he===P}).forEach(function(he,De){r.moveNodeByKey(he.key,A.key,_+1+De)});else if(v===P)l.nodes.takeUntil(function(he){return he===fe}).push(fe).forEach(function(he,De){r.moveNodeByKey(he.key,A.key,_+De)});else{var ge=P.getFirstText();r.splitDescendantsByKey(l.key,ge.key,0),a=r.value.document,C.forEach(function(he,De){if(De===0){var Je=he;he=a.getNextBlock(he.key),r.removeNodeByKey(Je.key)}r.moveNodeByKey(he.key,A.key,_+1+De)})}})})},qt.unwrapInlineAtRange=function(r,n,t){t=pt.createProperties(t);var e=r.value,a=e.document,s=a.getTextsAtRange(n),c=s.map(function(l){return a.getClosest(l.key,function(v){return!(v.object!=="inline"||t.type!=null&&v.type!==t.type||t.data!=null&&!v.data.isSuperset(t.data))})}).filter(function(l){return l}).toOrderedSet().toList();r.withoutNormalizing(function(){c.forEach(function(l){var v=r.value.document.getParent(l.key),h=v.nodes.indexOf(l);l.nodes.forEach(function(A,_){r.moveNodeByKey(A.key,v.key,h+_)}),r.removeNodeByKey(l.key)})})},qt.wrapBlockAtRange=function(r,n,t){t=gr.create(t),t=t.set("nodes",t.nodes.clear());var e=r.value,a=e.document,s=a.getLeafBlocksAtRange(n),c=s.first(),l=s.last(),v=void 0,h=void 0,A=void 0;if(s.length===1?(v=a.getParent(c.key),h=s):v=a.getClosest(c.key,function(C){return!!a.getClosest(l.key,function(P){return C===P})}),v==null&&(v=a),h==null){var _=v.nodes.reduce(function(C,P,fe){return(P===c||P.hasDescendant(c.key))&&(C[0]=fe),(P===l||P.hasDescendant(l.key))&&(C[1]=fe),C},[]);A=_[0],h=v.nodes.slice(_[0],_[1]+1)}A==null&&(A=v.nodes.indexOf(h.first())),r.withoutNormalizing(function(){r.insertNodeByKey(v.key,A,t),h.forEach(function(C,P){r.moveNodeByKey(C.key,t.key,P)})})},qt.wrapInlineAtRange=function(r,n,t){var e=r.value,a=e.document,s=n.start,c=n.end;if(n.isCollapsed){var l=a.getClosestInline(s.path);return!l||!r.isVoid(l)?void 0:r.wrapInlineByKey(l.key,t)}t=Vt.create(t),t=t.set("nodes",t.nodes.clear());var v=a.getLeafBlocksAtRange(n),h=a.getClosestBlock(s.path),A=a.getClosestBlock(c.path),_=a.getClosestInline(s.path),C=a.getClosestInline(c.path),P=h.getFurthestChild(s.key),fe=A.getFurthestChild(c.key);r.withoutNormalizing(function(){(!_||_!==C)&&(r.splitDescendantsByKey(fe.key,c.key,c.offset),r.splitDescendantsByKey(P.key,s.key,s.offset)),a=r.value.document,h=a.getDescendant(h.key),A=a.getDescendant(A.key),P=h.getFurthestChild(s.key),fe=A.getFurthestChild(c.key);var ge=h.nodes.indexOf(P),he=A.nodes.indexOf(fe);if(_&&_===C){var De=h.getTextsAtRange(n).map(function(b){return s.key===b.key&&c.key===b.key?b.splitText(s.offset)[1].splitText(c.offset-s.offset)[0].regenerateKey():s.key===b.key?b.splitText(s.offset)[1].regenerateKey():c.key===b.key?b.splitText(c.offset)[0].regenerateKey():b.regenerateKey()});t=t.set("nodes",De),r.insertInlineAtRange(n,t)}else if(h===A){a=r.value.document,h=a.getClosestBlock(s.key),P=h.getFurthestChild(s.key);var Je=a.getNextSibling(P.key),ot=h.nodes.indexOf(Je),ft=s.key===c.key?Je:h.getFurthestChild(c.key),Xe=h.nodes.skipUntil(function(b){return b===Je}).takeUntil(function(b){return b===ft}).push(ft),vt=t.regenerateKey();r.insertNodeByKey(h.key,ot,vt),Xe.forEach(function(b,R){r.moveNodeByKey(b.key,vt.key,R)})}else{var p=h.nodes.slice(ge+1),g=A.nodes.slice(0,he+1),w=t.regenerateKey(),k=t.regenerateKey();r.insertNodeByKey(h.key,ge+1,w),r.insertNodeByKey(A.key,he,k),p.forEach(function(b,R){r.moveNodeByKey(b.key,w.key,R)}),g.forEach(function(b,R){r.moveNodeByKey(b.key,k.key,R)}),v.slice(1,-1).forEach(function(b){var R=t.regenerateKey();r.insertNodeByKey(b.key,0,R),b.nodes.forEach(function(M,q){r.moveNodeByKey(M.key,R.key,q)})})}})},qt.wrapTextAtRange=function(r,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:t,a=n.start,s=n.end,c=n.moveToStart(),l=n.moveToEnd();a.path.equals(s.path)&&(l=l.moveForward(t.length)),r.withoutNormalizing(function(){r.insertTextAtRange(c,t),r.insertTextAtRange(l,e)})};var Ct={};Ct.addMarkByPath=function(r,n,t,e,a){a=Ft.create(a),r.addMarksByPath(n,t,e,[a])},Ct.addMarksByPath=function(r,n,t,e,a){if(a=Ft.createSet(a),!!a.size){var s=r.value,c=s.document,l=c.assertNode(n);r.withoutNormalizing(function(){t+e<l.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=Fe.increment(n),t=0),a.forEach(function(v){r.applyOperation({type:"add_mark",path:n,mark:Ft.create(v)})})})}},Ct.replaceMarksByPath=function(r,n,t,e,a){var s=Ft.createSet(a),c=r.value,l=c.document,v=l.assertNode(n);v.marks.equals(s)||r.withoutNormalizing(function(){t+e<v.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=Fe.increment(n),t=0);var h=s.subtract(v.marks),A=v.marks.subtract(s);A.forEach(function(_){r.applyOperation({type:"remove_mark",path:n,mark:Ft.create(_)})}),h.forEach(function(_){r.applyOperation({type:"add_mark",path:n,mark:Ft.create(_)})})})},Ct.insertFragmentByPath=function(r,n,t,e){e.nodes.forEach(function(a,s){r.insertNodeByPath(n,t+s,a)})},Ct.insertNodeByPath=function(r,n,t,e){r.applyOperation({type:"insert_node",path:n.concat(t),node:e})},Ct.insertTextByPath=function(r,n,t,e,a){var s=r.value,c=s.annotations,l=s.document;l.assertNode(n),r.withoutNormalizing(function(){var v=!0,h=!1,A=void 0;try{for(var _=c.values()[Symbol.iterator](),C;!(v=(C=_.next()).done);v=!0){var P=C.value,fe=P.start,ge=P.end,he=r.isAtomic(P);he&&fe.path.equals(n)&&fe.offset<t&&(!ge.path.equals(n)||ge.offset>t)&&r.removeAnnotation(P)}}catch(De){h=!0,A=De}finally{try{!v&&_.return&&_.return()}finally{if(h)throw A}}r.applyOperation({type:"insert_text",path:n,offset:t,text:e}),a&&r.replaceMarksByPath(n,t,e.length,a)})},Ct.mergeNodeByPath=function(r,n){var t=r.value,e=t.document,a=e.getDescendant(n),s=e.getPreviousSibling(n);if(!s)throw new Error('Unable to merge node with path "'+n+'", because it has no previous sibling.');var c=s.object==="text"?s.text.length:s.nodes.size;r.applyOperation({type:"merge_node",path:n,position:c,properties:{type:a.type,data:a.data},target:null})},Ct.moveNodeByPath=function(r,n,t,e){if(Fe.isEqual(n,t))return r;var a=t.concat(e);if(Fe.isEqual(n,a))return r;r.applyOperation({type:"move_node",path:n,newPath:a})},Ct.removeMarkByPath=function(r,n,t,e,a){a=Ft.create(a),r.removeMarksByPath(n,t,e,[a])},Ct.removeMarksByPath=function(r,n,t,e,a){if(a=Ft.createSet(a),!!a.size){var s=r.value,c=s.document,l=c.assertNode(n);a.intersect(l.marks).isEmpty()||r.withoutNormalizing(function(){t+e<l.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=Fe.increment(n),t=0),a.forEach(function(v){r.applyOperation({type:"remove_mark",path:n,offset:t,length:e,mark:v})})})}},Ct.removeAllMarksByPath=function(r,n){var t=r.state,e=t.document,a=e.assertNode(n);r.withoutNormalizing(function(){if(a.object==="text"){r.removeMarksByPath(n,0,a.text.length,a.marks);return}var s=!0,c=!1,l=void 0;try{for(var v=a.texts()[Symbol.iterator](),h;!(s=(h=v.next()).done);s=!0){var A=h.value,_=de(A,2),C=_[0],P=_[1],fe=n.concat(P);r.removeMarksByPath(fe,0,C.text.length,C.marks)}}catch(ge){c=!0,l=ge}finally{try{!s&&v.return&&v.return()}finally{if(c)throw l}}})},Ct.removeNodeByPath=function(r,n){var t=r.value,e=t.document,a=e.assertNode(n);r.applyOperation({type:"remove_node",path:n,node:a})},Ct.removeTextByPath=function(r,n,t,e){var a=r.value,s=a.document,c=a.annotations,l=s.assertNode(n),v=l.text.slice(t,t+e);r.withoutNormalizing(function(){var h=!0,A=!1,_=void 0;try{for(var C=c.values()[Symbol.iterator](),P;!(h=(P=C.next()).done);h=!0){var fe=P.value,ge=fe.start,he=fe.end,De=r.isAtomic(fe);De&&ge.path.equals(n)&&ge.offset<t&&(!he.path.equals(n)||he.offset>t)&&r.removeAnnotation(fe)}}catch(Je){A=!0,_=Je}finally{try{!h&&C.return&&C.return()}finally{if(A)throw _}}r.applyOperation({type:"remove_text",path:n,offset:t,text:v})})},Ct.replaceNodeByPath=function(r,n,t){t=pt.create(t);var e=n.last(),a=Fe.lift(n);r.withoutNormalizing(function(){r.removeNodeByPath(n),r.insertNodeByPath(a,e,t)})},Ct.replaceTextByPath=function(r,n,t,e,a,s){r.withoutNormalizing(function(){r.removeTextByPath(n,t,e),r.insertTextByPath(n,t,a,s)})},Ct.setMarkByPath=function(r,n,t,e,a,s){a=Ft.create(a),s=Ft.createProperties(s);var c=r.value,l=c.document,v=l.assertNode(n);r.withoutNormalizing(function(){t+e<v.text.length&&r.splitNodeByPath(n,t+e),t>0&&(r.splitNodeByPath(n,t),n=Fe.increment(n),t=0),r.applyOperation({type:"set_mark",path:n,properties:a,newProperties:s})})},Ct.setNodeByPath=function(r,n,t){var e=r.value,a=e.document,s=a.assertNode(n);t=pt.createProperties(t);var c=W()(s,Object.keys(t));r.applyOperation({type:"set_node",path:n,properties:c,newProperties:t})},Ct.setTextByPath=function(r,n,t,e){var a=r.value,s=a.document,c=s.assertNode(n),l=c.text.length;r.replaceTextByPath(n,0,l,t,e)},Ct.splitNodeByPath=function(r,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=e.target,s=a===void 0?null:a,c=r.value,l=c.document,v=l.getDescendant(n);r.applyOperation({type:"split_node",path:n,position:t,target:s,properties:{type:v.type,data:v.data}})},Ct.splitDescendantsByPath=function(r,n,t,e){if(n.equals(t)){r.splitNodeByPath(t,e);return}var a=r.value,s=a.document,c=e,l=t;r.withoutNormalizing(function(){r.splitNodeByKey(t,e);var v=!0,h=!1,A=void 0;try{for(var _=s.ancestors(t)[Symbol.iterator](),C;!(v=(C=_.next()).done);v=!0){var P=C.value,fe=de(P,2),ge=fe[1],he=c;if(c=l.last()+1,l=ge,r.splitNodeByPath(ge,c,{target:he}),ge.equals(n))break}}catch(De){h=!0,A=De}finally{try{!v&&_.return&&_.return()}finally{if(h)throw A}}})},Ct.unwrapInlineByPath=function(r,n,t){var e=r.value,a=e.document,s=e.selection,c=a.assertNode(n),l=c.getFirstText(),v=c.getLastText(),h=s.moveToRangeOfNode(l,v);r.unwrapInlineAtRange(h,t)},Ct.unwrapBlockByPath=function(r,n,t){var e=r.value,a=e.document,s=e.selection,c=a.assertNode(n),l=c.getFirstText(),v=c.getLastText(),h=s.moveToRangeOfNode(l,v);r.unwrapBlockAtRange(h,t)},Ct.unwrapNodeByPath=function(r,n){var t=r.value,e=t.document;e.assertNode(n);var a=Fe.lift(n),s=e.assertNode(a),c=n.last(),l=a.last(),v=Fe.lift(a),h=c===0,A=c===s.nodes.size-1;r.withoutNormalizing(function(){if(s.nodes.size===1)r.moveNodeByPath(n,v,l+1),r.removeNodeByPath(a);else if(h)r.moveNodeByPath(n,v,l);else if(A)r.moveNodeByPath(n,v,l+1);else{var _=Fe.increment(n,1,a.size-1);_=_.set(_.size-1,0),r.splitNodeByPath(a,c),r.moveNodeByPath(_,v,l+1)}})},Ct.unwrapChildrenByPath=function(r,n){n=Fe.create(n);var t=r.value,e=t.document,a=e.assertNode(n),s=Fe.lift(n),c=n.last(),l=a.nodes;r.withoutNormalizing(function(){l.reverse().forEach(function(v,h){var A=l.size-h-1,_=n.push(A);r.moveNodeByPath(_,s,c+1)}),r.removeNodeByPath(n)})},Ct.wrapBlockByPath=function(r,n,t){t=gr.create(t),t=t.set("nodes",t.nodes.clear());var e=Fe.lift(n),a=n.last(),s=Fe.increment(n);r.withoutNormalizing(function(){r.insertNodeByPath(e,a,t),r.moveNodeByPath(s,n,0)})},Ct.wrapInlineByPath=function(r,n,t){t=Vt.create(t),t=t.set("nodes",t.nodes.clear());var e=Fe.lift(n),a=n.last(),s=Fe.increment(n);r.withoutNormalizing(function(){r.insertNodeByPath(e,a,t),r.moveNodeByPath(s,n,0)})},Ct.wrapNodeByPath=function(r,n,t){t=pt.create(t),t.object==="block"?r.wrapBlockByPath(n,t):t.object==="inline"&&r.wrapInlineByPath(n,t)};var wn=["addMark","insertFragment","insertNode","insertText","mergeNode","removeAllMarks","removeMark","removeNode","removeText","replaceMarks","replaceNode","replaceText","setMark","setNode","setText","splitNode","unwrapBlock","unwrapChildren","unwrapInline","unwrapNode","wrapBlock","wrapInline","wrapNode"],nr=function(n){Ct[n+"ByKey"]=function(t,e){for(var a=arguments.length,s=Array(a>2?a-2:0),c=2;c<a;c++)s[c-2]=arguments[c];var l=t.value,v=l.document,h=v.assertPath(e);t[n+"ByPath"].apply(t,[h].concat(s))}},bt=!0,cn=!1,Ir=void 0;try{for(var zt=wn[Symbol.iterator](),Qr;!(bt=(Qr=zt.next()).done);bt=!0){var Qn=Qr.value;nr(Qn)}}catch(r){cn=!0,Ir=r}finally{try{!bt&&zt.return&&zt.return()}finally{if(cn)throw Ir}}Ct.moveNodeByKey=function(r,n,t){for(var e=arguments.length,a=Array(e>3?e-3:0),s=3;s<e;s++)a[s-3]=arguments[s];var c=r.value,l=c.document,v=l.assertPath(n),h=l.assertPath(t);r.moveNodeByPath.apply(r,[v,h].concat(a))},Ct.splitDescendantsByKey=function(r,n,t){for(var e=arguments.length,a=Array(e>3?e-3:0),s=3;s<e;s++)a[s-3]=arguments[s];var c=r.value,l=c.document,v=l.assertPath(n),h=l.assertPath(t);r.splitDescendantsByPath.apply(r,[v,h].concat(a))};var Ar={};Ar.save=function(r,n){var t=r.operations,e=r.value,a=e.data,s=r.tmp,c=s.save,l=s.merge;if(!(c===!1||!Sr(n))){var v=a.get("undos")||(0,E.List)(),h=v.last(),A=h&&h.last();if(l==null&&(t.size!==0?l=!0:l=$n(n,A)),l&&h){var _=h.push(n);v=v.pop(),v=v.push(_)}else{var C=(0,E.List)([n]);v=v.push(C)}v.size>100&&(v=v.takeLast(100)),r.withoutSaving(function(){var P=(0,E.List)(),fe=a.set("undos",v).set("redos",P);r.setData(fe)})}},Ar.redo=function(r){var n=r.value,t=n.data,e=t.get("redos")||(0,E.List)(),a=t.get("undos")||(0,E.List)(),s=e.last();s&&r.withoutSaving(function(){r.withoutNormalizing(function(){s.forEach(function(l){var v=l,h=v.type,A=v.newProperties;h==="set_selection"&&(l=l.set("newProperties",J()(A,"isFocused"))),r.applyOperation(l)}),e=e.pop(),a=a.push(s);var c=t.set("undos",a).set("redos",e);r.setData(c)})})},Ar.undo=function(r){var n=r.value,t=n.data,e=t.get("redos")||(0,E.List)(),a=t.get("undos")||(0,E.List)(),s=a.last();s&&r.withoutSaving(function(){r.withoutNormalizing(function(){s.slice().reverse().map(function(l){return l.invert()}).forEach(function(l){var v=l,h=v.type,A=v.newProperties;h==="set_selection"&&(l=l.set("newProperties",J()(A,"isFocused"))),r.applyOperation(l)}),e=e.push(s),a=a.pop();var c=t.set("undos",a).set("redos",e);r.setData(c)})})},Ar.withoutMerging=function(r,n){var t=r.tmp.merge;r.tmp.merge=!1,n(r),r.tmp.merge=t},Ar.withoutSaving=function(r,n){var t=r.tmp.save;r.tmp.save=!1,n(r),r.tmp.save=t};function $n(r,n){if(!n)return!1;var t=r.type==="set_selection"&&n.type==="set_selection"||r.type==="insert_text"&&n.type==="insert_text"&&r.offset===n.offset+n.text.length&&r.path.equals(n.path)||r.type==="remove_text"&&n.type==="remove_text"&&r.offset+r.text.length===n.offset&&r.path.equals(n.path);return t}function Sr(r){if(r.type==="set_selection"){var n=r.newProperties,t=n.isFocused,e=n.anchor,a=n.focus;if(t!==void 0&&!e&&!a)return!1}return!0}var ae={};ae.blur=function(r){r.select({isFocused:!1})},ae.deselect=function(r){var n=lr.create();r.select(n)},ae.focus=function(r){r.select({isFocused:!0})},ae.flip=function(r){r.command(Jt,"flip")},ae.moveAnchorBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Dr,"anchor"].concat(t))},ae.moveAnchorWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[nn,"anchor"].concat(t))},ae.moveAnchorForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Ur,"anchor"].concat(t))},ae.moveAnchorWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xr,"anchor"].concat(t))},ae.moveAnchorTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveAnchorTo"].concat(t))},ae.moveAnchorToEndOfBlock=function(r){r.command($t,"anchor","end","block")},ae.moveAnchorToEndOfInline=function(r){r.command($t,"anchor","end","inline")},ae.moveAnchorToEndOfDocument=function(r){r.moveAnchorToEndOfNode(r.value.document).moveToAnchor()},ae.moveAnchorToEndOfNextBlock=function(r){r.command(tt,"anchor","end","next","block")},ae.moveAnchorToEndOfNextInline=function(r){r.command(tt,"anchor","end","next","inline")},ae.moveAnchorToEndOfNextText=function(r){r.command(tt,"anchor","end","next","text")},ae.moveAnchorToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveAnchorToEndOfNode"].concat(t))},ae.moveAnchorToEndOfPreviousBlock=function(r){r.command(tt,"anchor","end","previous","block")},ae.moveAnchorToEndOfPreviousInline=function(r){r.command(tt,"anchor","end","previous","inline")},ae.moveAnchorToEndOfPreviousText=function(r){r.command(tt,"anchor","end","previous","text")},ae.moveAnchorToEndOfText=function(r){r.command($t,"anchor","end","text")},ae.moveAnchorToStartOfBlock=function(r){r.command($t,"anchor","start","block")},ae.moveAnchorToStartOfDocument=function(r){r.moveAnchorToStartOfNode(r.value.document).moveToAnchor()},ae.moveAnchorToStartOfInline=function(r){r.command($t,"anchor","start","inline")},ae.moveAnchorToStartOfNextBlock=function(r){r.command(tt,"anchor","start","next","block")},ae.moveAnchorToStartOfNextInline=function(r){r.command(tt,"anchor","start","next","inline")},ae.moveAnchorToStartOfNextText=function(r){r.command(tt,"anchor","start","next","text")},ae.moveAnchorToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveAnchorToStartOfNode"].concat(t))},ae.moveAnchorToStartOfPreviousBlock=function(r){r.command(tt,"anchor","start","previous","block")},ae.moveAnchorToStartOfPreviousInline=function(r){r.command(tt,"anchor","start","previous","inline")},ae.moveAnchorToStartOfPreviousText=function(r){r.command(tt,"anchor","start","previous","text")},ae.moveAnchorToStartOfText=function(r){r.command($t,"anchor","start","text")},ae.moveBackward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n!==0){var t=r.value,e=t.document,a=t.selection,s=a.start,c=e.getClosestBlock(s.key),l=c.getOffset(s.key),v=l+s.offset,h=c.text,A=Kr.getCharOffsetBackward(h,v,n);r.moveAnchorBackward(A).moveFocusBackward(A)}},ae.moveWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.moveFocusWordBackward.apply(r,t).moveToFocus()},ae.moveEndBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Dr,"end"].concat(t))},ae.moveEndWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[nn,"end"].concat(t))},ae.moveEndForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Ur,"end"].concat(t))},ae.moveEndWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xr,"end"].concat(t))},ae.moveEndTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveEndTo"].concat(t))},ae.moveEndToEndOfBlock=function(r){r.command($t,"end","end","block")},ae.moveEndToEndOfDocument=function(r){r.moveEndToEndOfNode(r.value.document).moveToEnd()},ae.moveEndToEndOfInline=function(r){r.command($t,"end","end","inline")},ae.moveEndToEndOfNextBlock=function(r){r.command(tt,"end","end","next","block")},ae.moveEndToEndOfNextInline=function(r){r.command(tt,"end","end","next","inline")},ae.moveEndToEndOfNextText=function(r){r.command(tt,"end","end","next","text")},ae.moveEndToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveEndToEndOfNode"].concat(t))},ae.moveEndToEndOfPreviousBlock=function(r){r.command(tt,"end","end","previous","block")},ae.moveEndToEndOfPreviousInline=function(r){r.command(tt,"end","end","previous","inline")},ae.moveEndToEndOfPreviousText=function(r){r.command(tt,"end","end","previous","text")},ae.moveEndToEndOfText=function(r){r.command($t,"end","end","text")},ae.moveEndToStartOfBlock=function(r){r.command($t,"end","start","block")},ae.moveEndToStartOfDocument=function(r){r.moveEndToStartOfNode(r.value.document).moveToEnd()},ae.moveEndToStartOfInline=function(r){r.command($t,"end","start","inline")},ae.moveEndToStartOfNextBlock=function(r){r.command(tt,"end","start","next","block")},ae.moveEndToStartOfNextInline=function(r){r.command(tt,"end","start","next","inline")},ae.moveEndToStartOfNextText=function(r){r.command(tt,"end","start","next","text")},ae.moveEndToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveEndToStartOfNode"].concat(t))},ae.moveEndToStartOfPreviousBlock=function(r){r.command(tt,"end","start","previous","block")},ae.moveEndToStartOfPreviousInline=function(r){r.command(tt,"end","start","previous","inline")},ae.moveEndToStartOfPreviousText=function(r){r.command(tt,"end","start","previous","text")},ae.moveEndToStartOfText=function(r){r.command($t,"end","start","text")},ae.moveFocusBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Dr,"focus"].concat(t))},ae.moveFocusWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[nn,"focus"].concat(t))},ae.moveFocusForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Ur,"focus"].concat(t))},ae.moveFocusWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xr,"focus"].concat(t))},ae.moveFocusTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveFocusTo"].concat(t))},ae.moveFocusToEndOfBlock=function(r){r.command($t,"focus","end","block")},ae.moveFocusToEndOfDocument=function(r){r.moveFocusToEndOfNode(r.value.document).moveToFocus()},ae.moveFocusToEndOfInline=function(r){r.command($t,"focus","end","inline")},ae.moveFocusToEndOfNextBlock=function(r){r.command(tt,"focus","end","next","block")},ae.moveFocusToEndOfNextInline=function(r){r.command(tt,"focus","end","next","inline")},ae.moveFocusToEndOfNextText=function(r){r.command(tt,"focus","end","next","text")},ae.moveFocusToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveFocusToEndOfNode"].concat(t))},ae.moveFocusToEndOfPreviousBlock=function(r){r.command(tt,"focus","end","previous","block")},ae.moveFocusToEndOfPreviousInline=function(r){r.command(tt,"focus","end","previous","inline")},ae.moveFocusToEndOfPreviousText=function(r){r.command(tt,"focus","end","previous","text")},ae.moveFocusToEndOfText=function(r){r.command($t,"focus","end","text")},ae.moveFocusToStartOfBlock=function(r){r.command($t,"focus","start","block")},ae.moveFocusToStartOfDocument=function(r){r.moveFocusToStartOfNode(r.value.document).moveToFocus()},ae.moveFocusToStartOfInline=function(r){r.command($t,"focus","start","inline")},ae.moveFocusToStartOfNextBlock=function(r){r.command(tt,"focus","start","next","block")},ae.moveFocusToStartOfNextInline=function(r){r.command(tt,"focus","start","next","inline")},ae.moveFocusToStartOfNextText=function(r){r.command(tt,"focus","start","next","text")},ae.moveFocusToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveFocusToStartOfNode"].concat(t))},ae.moveFocusToStartOfPreviousBlock=function(r){r.command(tt,"focus","start","previous","block")},ae.moveFocusToStartOfPreviousInline=function(r){r.command(tt,"focus","start","previous","inline")},ae.moveFocusToStartOfPreviousText=function(r){r.command(tt,"focus","start","previous","text")},ae.moveFocusToStartOfText=function(r){r.command($t,"focus","start","text")},ae.moveForward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(n!==0){var t=r.value,e=t.document,a=t.selection,s=a.start,c=e.getClosestBlock(s.path),l=c.getOffset(s.key),v=l+s.offset,h=c.text,A=Kr.getCharOffsetForward(h,v,n);r.moveAnchorForward(A).moveFocusForward(A)}},ae.moveWordForward=function(r){for(var n,t=arguments.length,e=Array(t>1?t-1:0),a=1;a<t;a++)e[a-1]=arguments[a];(n=r.moveFocusWordForward.apply(r,e)).moveToFocus.apply(n,e)},ae.moveStartBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Dr,"start"].concat(t))},ae.moveStartWordBackward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[nn,"start"].concat(t))},ae.moveStartForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Ur,"start"].concat(t))},ae.moveStartWordForward=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Xr,"start"].concat(t))},ae.moveStartTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveStartTo"].concat(t))},ae.moveStartToEndOfBlock=function(r){r.command($t,"start","end","block")},ae.moveStartToEndOfDocument=function(r){r.moveStartToEndOfNode(r.value.document).moveToStart()},ae.moveStartToEndOfInline=function(r){r.command($t,"start","end","inline")},ae.moveStartToEndOfNextBlock=function(r){r.command(tt,"start","end","next","block")},ae.moveStartToEndOfNextInline=function(r){r.command(tt,"start","end","next","inline")},ae.moveStartToEndOfNextText=function(r){r.command(tt,"start","end","next","text")},ae.moveStartToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveStartToEndOfNode"].concat(t))},ae.moveStartToEndOfPreviousBlock=function(r){r.command(tt,"start","end","previous","block")},ae.moveStartToEndOfPreviousInline=function(r){r.command(tt,"start","end","previous","inline")},ae.moveStartToEndOfPreviousText=function(r){r.command(tt,"start","end","previous","text")},ae.moveStartToEndOfText=function(r){r.command($t,"start","end","text")},ae.moveStartToStartOfBlock=function(r){r.command($t,"start","start","block")},ae.moveStartToStartOfDocument=function(r){r.moveStartToStartOfNode(r.value.document).moveToStart()},ae.moveStartToStartOfInline=function(r){r.command($t,"start","start","inline")},ae.moveStartToStartOfNextBlock=function(r){r.command(tt,"start","start","next","block")},ae.moveStartToStartOfNextInline=function(r){r.command(tt,"start","start","next","inline")},ae.moveStartToStartOfNextText=function(r){r.command(tt,"start","start","next","text")},ae.moveStartToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveStartToStartOfNode"].concat(t))},ae.moveStartToStartOfPreviousBlock=function(r){r.command(tt,"start","start","previous","block")},ae.moveStartToStartOfPreviousInline=function(r){r.command(tt,"start","start","previous","inline")},ae.moveStartToStartOfPreviousText=function(r){r.command(tt,"start","start","previous","text")},ae.moveStartToStartOfText=function(r){r.command($t,"start","start","text")},ae.moveTo=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveTo"].concat(t))},ae.moveToAnchor=function(r){r.command(Jt,"moveToAnchor")},ae.moveToEnd=function(r){r.command(Jt,"moveToEnd")},ae.moveToEndOfBlock=function(r){r.moveEndToEndOfBlock().moveToEnd()},ae.moveToEndOfDocument=function(r){r.moveEndToEndOfNode(r.value.document).moveToEnd()},ae.moveToEndOfInline=function(r){r.moveEndToEndOfInline().moveToEnd()},ae.moveToEndOfNextBlock=function(r){r.moveEndToEndOfNextBlock().moveToEnd()},ae.moveToEndOfNextInline=function(r){r.moveEndToEndOfNextInline().moveToEnd()},ae.moveToEndOfNextText=function(r){r.moveEndToEndOfNextText().moveToEnd()},ae.moveToEndOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveToEndOfNode"].concat(t))},ae.moveToEndOfPreviousBlock=function(r){r.moveStartToEndOfPreviousBlock().moveToStart()},ae.moveToEndOfPreviousInline=function(r){r.moveStartToEndOfPreviousInline().moveToStart()},ae.moveToEndOfPreviousText=function(r){r.moveStartToEndOfPreviousText().moveToStart()},ae.moveToEndOfText=function(r){r.moveEndToEndOfText().moveToEnd()},ae.moveToFocus=function(r){r.command(Jt,"moveToFocus")},ae.moveToRangeOfDocument=function(r){r.moveToRangeOfNode(r.value.document)},ae.moveToRangeOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveToRangeOfNode"].concat(t))},ae.moveToStart=function(r){r.command(Jt,"moveToStart")},ae.moveToStartOfBlock=function(r){r.moveStartToStartOfBlock().moveToStart()},ae.moveToStartOfDocument=function(r){r.moveStartToStartOfNode(r.value.document).moveToStart()},ae.moveToStartOfInline=function(r){r.moveStartToStartOfInline().moveToStart()},ae.moveToStartOfNextBlock=function(r){r.moveEndToStartOfNextBlock().moveToEnd()},ae.moveToStartOfNextInline=function(r){r.moveEndToStartOfNextInline().moveToEnd()},ae.moveToStartOfNextText=function(r){r.moveEndToStartOfNextText().moveToEnd()},ae.moveToStartOfNode=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"moveToStartOfNode"].concat(t))},ae.moveToStartOfPreviousBlock=function(r){r.moveStartToStartOfPreviousBlock().moveToStart()},ae.moveToStartOfPreviousInline=function(r){r.moveStartToStartOfPreviousInline().moveToStart()},ae.moveToStartOfPreviousText=function(r){r.moveStartToStartOfPreviousText().moveToStart()},ae.moveToStartOfText=function(r){r.moveStartToStartOfText().moveToStart()},ae.select=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};n=lr.createProperties(n);var e=t.snapshot,a=e===void 0?!1:e,s=r.value,c=s.document,l=s.selection,v={},h=l.setProperties(n);h=c.resolveSelection(h),n=W()(h,Object.keys(n));for(var A in n)(a===!0||!(0,E.is)(n[A],l[A]))&&(v[A]=n[A]);if(l.marks&&!v.marks&&(v.anchor||v.focus)&&(v.marks=null),Object.keys(v).length!==0){var _=W()(l.toJSON(),Object.keys(v));r.applyOperation({type:"set_selection",value:s,properties:_,newProperties:v},a?{skip:!1,merge:!1}:{})}},ae.setAnchor=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"setAnchor"].concat(t))},ae.setEnd=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"setEnd"].concat(t))},ae.setFocus=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"setFocus"].concat(t))},ae.setStart=function(r){for(var n=arguments.length,t=Array(n>1?n-1:0),e=1;e<n;e++)t[e-1]=arguments[e];r.command.apply(r,[Jt,"setStart"].concat(t))},ae.snapshotSelection=function(r){r.withoutMerging(function(){r.select(r.value.selection,{snapshot:!0})})};function Jt(r,n){for(var t,e=arguments.length,a=Array(e>2?e-2:0),s=2;s<e;s++)a[s-2]=arguments[s];var c=(t=r.value.selection)[n].apply(t,a);r.select(c)}function $t(r,n,t,e){var a=n.slice(0,1).toUpperCase()+n.slice(1),s=t.slice(0,1).toUpperCase()+t.slice(1),c=e.slice(0,1).toUpperCase()+e.slice(1),l="move"+a+"To"+s+"OfNode",v=e==="text"?"getNode":"getClosest"+c,h=r.value,A=h.document,_=h.selection,C=_[n],P=A[v](C.key);P&&r[l](P)}function tt(r,n,t,e,a){var s=n.slice(0,1).toUpperCase()+n.slice(1),c=t.slice(0,1).toUpperCase()+t.slice(1),l=e.slice(0,1).toUpperCase()+e.slice(1),v=a.slice(0,1).toUpperCase()+a.slice(1),h="move"+s+"To"+c+"OfNode",A=a==="text"?"getNode":"getClosest"+v,_="get"+l+v,C=r.value,P=C.document,fe=C.selection,ge=fe[n],he=P[A](ge.key);if(he){var De=P[_](he.key);De&&r[h](De)}}function Dr(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){if(t<0)return Ur(r,n,-t);var e=n.slice(0,1).toUpperCase()+n.slice(1),a=r.value,s=a.document,c=a.selection,l=c[n],v=s.hasVoidParent(l.path,r);if(!v&&l.offset-t>=0){var h=c["move"+e+"Backward"](t);r.select(h);return}var A=s.getPreviousText(l.path);if(A){var _=s.getClosestBlock(l.path),C=_.hasNode(A.key),P=A&&s.hasVoidParent(A.key,r);if(r["move"+e+"ToEndOfNode"](A),!v&&!P&&C){var fe=r.value.selection["move"+e+"Backward"](t);r.select(fe)}}}}function Ur(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(t!==0){if(t<0)return Dr(r,n,-t);var e=n.slice(0,1).toUpperCase()+n.slice(1),a=r.value,s=a.document,c=a.selection,l=c[n],v=s.getNode(l.path),h=s.hasVoidParent(l.path,r);if(!h&&l.offset+t<=v.text.length){var A=c["move"+e+"Forward"](t);r.select(A);return}var _=s.getNextText(l.path);if(_){var C=s.getClosestBlock(l.path),P=C.hasNode(_.key),fe=s.hasVoidParent(_.key,r);if(r["move"+e+"ToStartOfNode"](_),!h&&!fe&&P){var ge=r.value.selection["move"+e+"Forward"](t);r.select(ge)}}}}function nn(r,n){var t=r.value,e=t.document,a=t.selection,s=a[n],c=e.getClosestBlock(s.key),l=c.getOffset(s.key),v=l+s.offset,h=c.text,A=Kr.getWordOffsetBackward(h,v);r.command(Dr,n,A>0?A:1)}function Xr(r,n){var t=r.value,e=t.document,a=t.selection,s=a[n],c=e.getClosestBlock(s.key),l=c.getOffset(s.key),v=l+s.offset,h=c.text,A=Kr.getWordOffsetForward(h,v);r.command(Ur,n,A>0?A:1)}var en={};en.setData=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=r.value,e=wr.createProperties({data:n}),a=W()(t,Object.keys(e));r.applyOperation({type:"set_value",properties:a,newProperties:e})},en.addAnnotation=function(r,n){n=jt.create(n),r.applyOperation({type:"add_annotation",annotation:n})},en.removeAnnotation=function(r,n){n=jt.create(n),r.applyOperation({type:"remove_annotation",annotation:n})},en.setAnnotation=function(r,n,t){n=jt.create(n),t=jt.createProperties(t),r.applyOperation({type:"set_annotation",properties:n,newProperties:t})},en.setAnnotations=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=r.value,e=wr.createProperties({annotations:n}),a=W()(t,Object.keys(e));r.applyOperation({type:"set_value",properties:a,newProperties:e})};function bn(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};function n(e,a){for(var s in r)e.registerQuery(s);return a()}function t(e,a,s){var c=e.type,l=e.args,v=r[c];if(!v)return s();var h=v.apply(void 0,[a].concat(Ue(l)));return h===void 0?s():h}return{onConstruct:n,onQuery:t}}var qr=function(r){it(n,r);function n(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze(this,n);var a=Ye(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));a.code=t;for(var s in e)a[s]=e[s];return Error.captureStackTrace?Error.captureStackTrace(a,a.constructor):a.stack=new Error().stack,a}return n}(Error);function Kn(r){var n=r.rules,t=r.document,e=r.blocks,a=r.inlines,s=r.marks,c=r.annotations,l=r.decorations,v=[];if(n&&(v=v.concat(n)),t&&v.push(et({match:[{object:"document"}]},t)),e)for(var h in e)v.push(et({match:[{object:"block",type:h}]},e[h]));if(a)for(var A in a)v.push(et({match:[{object:"inline",type:A}]},a[A]));if(s)for(var _ in s)v.push(et({match:[{object:"mark",type:_}]},s[_]));if(c)for(var C in c)v.push(et({match:[{object:"annotation",type:C}]},c[C]));if(l)for(var P in l)v.push(et({match:[{object:"decoration",type:P}]},l[P]));function fe(ot,ft){var Xe=v.find(function(vt){return"isAtomic"in vt&&tn(ft,vt.match)});return Xe&&Xe.isAtomic}function ge(ot,ft){var Xe=v.find(function(vt){return"isVoid"in vt&&tn(ft,vt.match)});return Xe&&Xe.isVoid}function he(ot,ft,Xe){var vt=De(ot,ft,function(){});return vt?function(){var p=vt.rule,g=ft.operations.size;p.normalize&&p.normalize(ft,vt),ft.operations.size===g&&An(ft,vt)}:Xe()}function De(ot,ft,Xe){var vt=v.filter(function(w){return tn(ot,w.match)}),p=Pr(ot,vt,v,{every:!0});if(!p)return Xe();var g=new qr(p.code,p);return g}var Je=bn({isAtomic:fe,isVoid:ge});return[{normalizeNode:he,validateNode:De},Je]}function An(r,n){var t=n.code,e=n.node,a=n.child,s=n.next,c=n.previous,l=n.key,v=n.mark;switch(t){case"child_max_invalid":case"child_object_invalid":case"child_type_invalid":case"child_unknown":case"first_child_object_invalid":case"first_child_type_invalid":case"last_child_object_invalid":case"last_child_type_invalid":return a.object==="text"&&e.object==="block"&&e.nodes.size===1?r.removeNodeByKey(e.key):r.removeNodeByKey(a.key);case"previous_sibling_object_invalid":case"previous_sibling_type_invalid":return c.object==="text"&&e.object==="block"&&e.nodes.size===1?r.removeNodeByKey(e.key):r.removeNodeByKey(c.key);case"next_sibling_object_invalid":case"next_sibling_type_invalid":return s.object==="text"&&e.object==="block"&&e.nodes.size===1?r.removeNodeByKey(e.key):r.removeNodeByKey(s.key);case"child_min_invalid":case"node_text_invalid":case"parent_object_invalid":case"parent_type_invalid":return e.object==="document"?e.nodes.forEach(function(h){return r.removeNodeByKey(h.key)}):r.removeNodeByKey(e.key);case"node_data_invalid":return e.data.get(l)===void 0&&e.object!=="document"?r.removeNodeByKey(e.key):r.setNodeByKey(e.key,{data:e.data.delete(l)});case"node_mark_invalid":return e.getTexts().forEach(function(h){return r.removeMarkByKey(h.key,0,h.text.length,v)});default:return r.removeNodeByKey(e.key)}}function tn(r,n){var t=Pr(r,n);return!t}function Pr(r,n,t){var e=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},a=e.every,s=a===void 0?!1:a,c=e.match,l=c===void 0?null:c;if(typeof n=="function"){var v=n(r,l);return v?null:pr("node_invalid",{rule:n,node:r})}if(Array.isArray(n)){var h=n.length?n:[{}],A=void 0,_=!0,C=!1,P=void 0;try{for(var fe=h[Symbol.iterator](),ge;!(_=(ge=fe.next()).done);_=!0){var he=ge.value,De=Pr(r,he,t);if(A=A||De,s&&De)return De;if(!s&&!De)return}}catch(ot){C=!0,P=ot}finally{try{!_&&fe.return&&fe.return()}finally{if(C)throw P}}return A}var Je=Un(r,n)||Bn(r,n)||xn(r,n)||qn(r,n)||xr(r,n)||In(r,n)||Xn(r,n)||ea(r,n,t);return Je}function Un(r,n){if(n.object!=null&&n.object!==r.object&&!(typeof n.object=="function"&&n.object(r.object)))return pr("node_object_invalid",{rule:n,node:r})}function Bn(r,n){if(n.type!=null&&n.type!==r.type&&!(typeof n.type=="function"&&n.type(r.type)))return pr("node_type_invalid",{rule:n,node:r})}function xn(r,n){if(n.data!=null&&r.data!=null){if(typeof n.data=="function")return n.data(r.data)?void 0:pr("node_data_invalid",{rule:n,node:r});for(var t in n.data){var e=n.data[t],a=r.data&&r.data.get(t),s=typeof e=="function"?e(a):e===a;if(!s)return pr("node_data_invalid",{rule:n,node:r,key:t,value:a})}}}function qn(r,n){if(n.marks!=null){var t=r.object==="text"?r.marks.toArray():r.getMarks().toArray(),e=function(C){var P=n.marks.some(function(fe){return typeof fe.type=="function"?fe.type(C.type):fe.type===C.type});return P?"continue":{v:pr("node_mark_invalid",{rule:n,node:r,mark:C})}},a=!0,s=!1,c=void 0;try{for(var l=t[Symbol.iterator](),v;!(a=(v=l.next()).done);a=!0){var h=v.value,A=e(h);switch(A){case"continue":continue;default:if((typeof A>"u"?"undefined":It(A))==="object")return A.v}}}catch(_){s=!0,c=_}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}}}function xr(r,n){if(n.text!=null){var t=r.text,e=typeof n.text=="function"?n.text(t):n.text.test(t);if(!e)return pr("node_text_invalid",{rule:n,node:r,text:t})}}function In(r,n){if(n.first!=null){var t=r.nodes.first();if(t){var e=Pr(t,n.first);if(e)return e.rule=n,e.node=r,e.child=t,e.code=e.code.replace("node_","first_child_"),e}}}function Xn(r,n){if(n.last!=null){var t=r.nodes.last();if(t){var e=Pr(t,n.last);if(e)return e.rule=n,e.node=r,e.child=t,e.code=e.code.replace("node_","last_child_"),e}}}function ea(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];if(r.nodes==null)return;var e=r.nodes,a=n.nodes!=null?n.nodes.slice():[],s=0,c=0,l=null,v=-1,h=null,A=null,_=null,C=null,P=null;function fe(){return a.length===0?!1:(h=a.shift(),c=s,s=0,l=h.min||null,A=h.max||null,!0)}function ge(){return v+=1,C=v?e.get(v-1):null,_=e.get(v),P=e.get(v+1),_?(c=s,s+=1,!0):!1}function he(){v>0&&(v-=1,s=c)}for(n.nodes!=null&&fe();ge();){var De=ta(r,_,t)||ra(r,_,C,v,t)||na(r,_,P,v,t);if(De)return De;if(n.nodes!=null){if(!h)return pr("child_unknown",{rule:n,node:r,child:_,index:v});if(h.match){var Je=Pr(_,h.match);if(Je){if(A!=null&&s-1>A)return he(),pr("child_max_invalid",{rule:n,node:r,index:v,child:e.get(v),count:s,limit:A});var ot=l;if(fe()){if(c-1>=ot){v-=1;continue}return Pr(_,h.match)==null?(he(),pr("child_min_invalid",{rule:n,node:r,index:v,count:c-1,limit:ot})):(Je.rule=n,Je.node=r,Je.child=_,Je.index=v,Je.code=Je.code.replace("node_","child_"),Je)}return A!=null&&s>A?pr("child_unknown",{rule:n,node:r,child:_,index:v}):(Je.rule=n,Je.node=r,Je.child=_,Je.index=v,Je.code=Je.code.replace("node_","child_"),Je)}}}}if(A!=null&&s>A)return pr("child_max_invalid",{rule:n,node:r,index:v-1,count:s,child:e.get(v-1),limit:A});if(n.nodes!=null)do if(s<l)return pr("child_min_invalid",{rule:n,node:r,index:v,count:s,limit:l});while(fe())}function ta(r,n,t){var e=!0,a=!1,s=void 0;try{for(var c=t[Symbol.iterator](),l;!(e=(l=c.next()).done);e=!0){var v=l.value;if(v.parent!=null&&tn(n,v.match)){var h=Pr(r,v.parent);if(h)return h.rule=v,h.parent=r,h.node=n,h.code=h.code.replace("node_","parent_"),h}}}catch(A){a=!0,s=A}finally{try{!e&&c.return&&c.return()}finally{if(a)throw s}}}function ra(r,n,t,e,a){if(t){var s=!0,c=!1,l=void 0;try{for(var v=a[Symbol.iterator](),h;!(s=(h=v.next()).done);s=!0){var A=h.value;if(A.previous!=null&&tn(n,A.match)){var _=Pr(t,A.previous);if(_)return _.rule=A,_.node=r,_.child=n,_.index=e,_.previous=t,_.code=_.code.replace("node_","previous_sibling_"),_}}}catch(C){c=!0,l=C}finally{try{!s&&v.return&&v.return()}finally{if(c)throw l}}}}function na(r,n,t,e,a){if(t){var s=!0,c=!1,l=void 0;try{for(var v=a[Symbol.iterator](),h;!(s=(h=v.next()).done);s=!0){var A=h.value;if(A.next!=null&&tn(n,A.match)){var _=Pr(t,A.next,[],{match:n});if(_)return _.rule=A,_.node=r,_.child=n,_.index=e,_.next=t,_.code=_.code.replace("node_","next_sibling_"),_}}}catch(C){c=!0,l=C}finally{try{!s&&v.return&&v.return()}finally{if(c)throw l}}}}function pr(r,n){return et({code:r},n)}function Mr(r){var n=r.value,t=n.selection;t.isExpanded&&r.delete()}var Kt={};Kt.addMark=function(r,n){n=Ft.create(n);var t=r.value,e=t.document,a=t.selection;if(a.isExpanded)r.addMarkAtRange(a,n);else if(a.marks){var s=a.marks.add(n),c=a.set("marks",s);r.select(c)}else{var l=e.getActiveMarksAtRange(a).add(n),v=a.set("marks",l);r.select(v)}},Kt.addMarks=function(r,n){n.forEach(function(t){return r.addMark(t)})},Kt.delete=function(r){var n=r.value,t=n.selection;r.deleteAtRange(t),r.moveToFocus()},Kt.deleteBackward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.value,e=t.selection;e.isExpanded?r.delete():r.deleteBackwardAtRange(e,n)},Kt.deleteCharBackward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteCharBackwardAtRange(t)},Kt.deleteLineBackward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteLineBackwardAtRange(t)},Kt.deleteWordBackward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteWordBackwardAtRange(t)},Kt.deleteForward=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=r.value,e=t.selection;e.isExpanded?r.delete():r.deleteForwardAtRange(e,n)},Kt.deleteCharForward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteCharForwardAtRange(t)},Kt.deleteLineForward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteLineForwardAtRange(t)},Kt.deleteWordForward=function(r){var n=r.value,t=n.selection;t.isExpanded?r.delete():r.deleteWordForwardAtRange(t)},Kt.insertBlock=function(r,n){Mr(r),n=gr.create(n);var t=r.value,e=t.selection;r.insertBlockAtRange(e,n);var a=r.value.document.getNode(n.key);a&&r.moveToEndOfNode(a)},Kt.insertFragment=function(r,n){if(n.nodes.size){Mr(r);var t=r.value,e=t,a=e.document,s=e.selection,c=s.start,l=Array.from(a.texts(),function(fe){var ge=de(fe,1),he=ge[0];return he.key});r.insertFragmentAtRange(s,n),t=r.value,a=t.document;var v=a.getTexts().filter(function(fe){return!l.includes(fe.key)});if(v.size!==0){var h=n.text.length,A=a.getNode(c.key)||v.first(),_=v.last()||A;if(A===_){r.moveTo(_.key,h);return}var C=a.getCommonAncestor(A.key,_.key),P=C.getOffset(A.key)+(c.key===A.key?c.offset:0);_=C.getTextAtOffset(P+h-1)||_,r.moveTo(_.key,P+h-C.getOffset(_.key))}}},Kt.insertInline=function(r,n){Mr(r),n=Vt.create(n);var t=r.value,e=t.selection;r.insertInlineAtRange(e,n);var a=r.value.document.getNode(n.key);a&&r.moveToEndOfNode(a)},Kt.insertText=function(r,n,t){Mr(r);var e=r.value,a=e.document,s=e.selection;t=t||s.marks||a.getInsertMarksAtRange(s),r.withoutNormalizing(function(){r.insertTextAtRange(s,n,t),s.marks&&a!==r.value.document&&r.select({marks:null})})},Kt.removeMark=function(r,n){n=Ft.create(n);var t=r.value,e=t.document,a=t.selection;if(a.isExpanded)r.removeMarkAtRange(a,n);else if(a.marks){var s=a.marks.remove(n),c=a.set("marks",s);r.select(c)}else{var l=e.getActiveMarksAtRange(a).remove(n),v=a.set("marks",l);r.select(v)}},Kt.replaceMark=function(r,n,t){r.removeMark(n),r.addMark(t)},Kt.setBlocks=function(r,n){var t=r.value,e=t.selection;r.setBlocksAtRange(e,n)},Kt.setInlines=function(r,n){var t=r.value,e=t.selection;r.setInlinesAtRange(e,n)},Kt.splitBlock=function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;Mr(r);var t=r.value,e=t.selection,a=t.document,s=e.marks||a.getInsertMarksAtRange(e);r.splitBlockAtRange(e,n).moveToEnd(),s&&s.size!==0&&r.select({marks:s})},Kt.splitInline=function(r,n){Mr(r);var t=r.value,e=t.selection;r.splitInlineAtRange(e,n)},Kt.toggleMark=function(r,n){n=Ft.create(n);var t=r.value,e=t.activeMarks.has(n);e?r.removeMark(n):r.addMark(n)},Kt.unwrapBlock=function(r,n){var t=r.value,e=t.selection;r.unwrapBlockAtRange(e,n)},Kt.unwrapInline=function(r,n){var t=r.value,e=t.selection;r.unwrapInlineAtRange(e,n)},Kt.wrapBlock=function(r,n){var t=r.value,e=t.selection;r.wrapBlockAtRange(e,n)},Kt.wrapInline=function(r,n){var t=r.value,e=t.selection;r.wrapInlineAtRange(e,n)},Kt.wrapText=function(r,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n,e=r.value,a=e.selection;r.wrapTextAtRange(a,n,t),a.isCollapsed&&r.moveStartBackward(n.length),r.moveEndBackward(t.length),a.isForward!==r.value.selection.isForward&&r.flip()};function la(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=r.plugins,t=n===void 0?[]:n,e=H(et({},qt,Ct,Ar,ae,en,Kt)),a=bn({isAtomic:function(){return!1},isVoid:function(){return!1}}),s=Kn({rules:[{match:{object:"document"},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:{object:"block"}},nodes:[{match:{object:"block"}}]},{match:{object:"block",first:[{object:"inline"},{object:"text"}]},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:{object:"inline"},nodes:[{match:[{object:"inline"},{object:"text"}]}]},{match:[{object:"block"},{object:"inline"}],nodes:[{min:1}],normalize:function(l,v){var h=v.code,A=v.node;h==="child_min_invalid"&&A.nodes.isEmpty()&&l.insertNodeByKey(A.key,0,fr.create())}},{match:{object:"block"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],normalize:function(l,v){var h=v.code,A=v.node,_=fr.create(),C=void 0;if(h==="first_child_object_invalid")C=0;else if(h==="last_child_object_invalid")C=A.nodes.size;else return;l.insertNodeByKey(A.key,C,_)}},{match:{object:"inline"},first:[{object:"block"},{object:"text"}],last:[{object:"block"},{object:"text"}],previous:[{object:"block"},{object:"text"}],next:[{object:"block"},{object:"text"}],normalize:function(l,v){var h=v.code,A=v.node,_=v.index,C=fr.create(),P=void 0;if(h==="first_child_object_invalid")P=0;else if(h==="last_child_object_invalid")P=A.nodes.size;else if(h==="previous_sibling_object_invalid")P=_;else if(h==="next_sibling_object_invalid")P=_+1;else return;l.insertNodeByKey(A.key,P,C)}},{match:{object:"text"},next:function(l,v){return l.object!=="text"||!v.marks.equals(l.marks)},normalize:function(l,v){var h=v.code,A=v.next;h==="next_sibling_invalid"&&l.mergeNodeByKey(A.key)}},{match:{object:"text"},previous:function(l){return l.object!=="text"||l.text!==""},next:function(l){return l.object!=="text"||l.text!==""},normalize:function(l,v){var h=v.code,A=v.next,_=v.previous;h==="next_sibling_invalid"?l.removeNodeByKey(A.key):h==="previous_sibling_invalid"&&l.removeNodeByKey(_.key)}}]});return[s].concat(Ue(t),[e,a])}var Dn=ne()("slate:editor"),_n=function(){function r(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};ze(this,r);var e=t.controller,a=e===void 0?this:e,s=t.construct,c=s===void 0?!0:s,l=n.onChange,v=l===void 0?function(){}:l,h=n.plugins,A=h===void 0?[]:h,_=n.readOnly,C=_===void 0?!1:_,P=n.value,fe=P===void 0?wr.create():P;this.controller=a,this.middleware={},this.onChange=v,this.operations=(0,E.List)(),this.readOnly=null,this.value=null,this.tmp={dirty:[],flushing:!1,merge:null,normalize:!0,save:!0};var ge=la({plugins:A});Jr(this,ge),c&&(this.run("onConstruct"),this.setReadOnly(C),this.setValue(fe,t))}return ve(r,[{key:"applyOperation",value:function(t){var e=this,a=this.operations,s=this.controller,c=this.value;F()(t)&&(t=et({},t,{value:c})),t=x.create(t),this.withoutNormalizing(function(){s.save(t),c=e.value}),Dn("apply",{operation:t}),this.value=t.apply(c),this.operations=a.push(t);var l=Jn(t),v=this.tmp.dirty.map(function(_){_=Fe.create(_);var C=Fe.transform(_,t);return C.toArray()}),h={},A=Array.prototype.concat.apply(l,v);return this.tmp.dirty=[],A.forEach(function(_){var C=_.join(",");h[C]||e.tmp.dirty.push(_),h[C]=!0}),this.tmp.flushing||(this.tmp.flushing=!0,Promise.resolve().then(function(){return e.flush()})),s}},{key:"flush",value:function(){this.run("onChange");var t=this.value,e=this.operations,a=this.controller,s={value:t,operations:e};return this.operations=(0,E.List)(),this.tmp.flushing=!1,this.onChange(s),a}},{key:"command",value:function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];var c=this.controller;if(typeof t=="function")return t.apply(void 0,[c].concat(a)),Wt(this),c;Dn("command",{type:t,args:a});var l={type:t,args:a};return this.run("onCommand",l),Wt(this),c}},{key:"hasCommand",value:function(t){var e=this.controller,a=t in e&&e[t].__command;return a}},{key:"hasQuery",value:function(t){var e=this.controller,a=t in e&&e[t].__query;return a}},{key:"normalize",value:function(){var t=this.value,e=this.controller,a=t.document,s=a.getKeysToPathsTable(),c=Object.values(s).map(Fe.create);this.tmp.dirty=this.tmp.dirty.concat(c),Wt(this);var l=t.selection;return a=t.document,l.isUnset&&a.nodes.size&&e.moveToStartOfDocument(),e}},{key:"query",value:function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];var c=this.controller;if(typeof t=="function")return t.apply(void 0,[c].concat(a));Dn("query",{type:t,args:a});var l={type:t,args:a};return this.run("onQuery",l)}},{key:"registerCommand",value:function(t){var e=this,a=this.controller;if(t in a&&a[t].__command)return a;(0,Q.A)(!(t in a),"You cannot register a `"+t+"` command because it would overwrite an existing property of the `Editor`.");var s=function(){for(var l=arguments.length,v=Array(l),h=0;h<l;h++)v[h]=arguments[h];return e.command.apply(e,[t].concat(v))};return a[t]=s,s.__command=!0,a}},{key:"registerQuery",value:function(t){var e=this,a=this.controller;if(t in a&&a[t].__query)return a;(0,Q.A)(!(t in a),"You cannot register a `"+t+"` query because it would overwrite an existing property of the `Editor`.");var s=function(){for(var l=arguments.length,v=Array(l),h=0;h<l;h++)v[h]=arguments[h];return e.query.apply(e,[t].concat(v))};return a[t]=s,s.__query=!0,a}},{key:"run",value:function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];var c=this.controller,l=this.middleware,v=l[t]||[],h=0;function A(){var _=v[h++];if(_){for(var C=arguments.length,P=Array(C),fe=0;fe<C;fe++)P[fe]=arguments[fe];P.length&&(a=P);var ge=_.apply(void 0,Ue(a).concat([c,A]));return ge}}return Object.defineProperty(A,"change",{get:function(){(0,Q.A)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(A,"onChange",{get:function(){(0,Q.A)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(A,"props",{get:function(){(0,Q.A)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(A,"schema",{get:function(){(0,Q.A)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),Object.defineProperty(A,"stack",{get:function(){(0,Q.A)(!1,"As of Slate 0.42, the `editor` is no longer passed as the third argument to event handlers. You can access it via `change.editor` instead.")}}),A()}},{key:"setReadOnly",value:function(t){return this.readOnly=t,this}},{key:"setValue",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=e.normalize,s=a===void 0?t!==this.value:a;return this.value=t,s&&this.normalize(),this}},{key:"withoutNormalizing",value:function(t){var e=this.controller,a=this.tmp.normalize;return this.tmp.normalize=!1,t(e),this.tmp.normalize=a,Wt(this),e}},{key:"change",value:function(t){z(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so the `editor.change()` method is deprecated.`");for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];t.apply(void 0,[this.controller].concat(a))}},{key:"call",value:function(t){z(!1,"As of Slate 0.43 the `editor.call(fn)` method has been deprecated, please use `editor.command(fn)` instead.");for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];return t.apply(void 0,[this.controller].concat(a)),this.controller}},{key:"applyOperations",value:function(t){var e=this;return z(!1,"As of Slate 0.43 the `applyOperations` method is deprecated, please apply each operation in a loop instead."),t.forEach(function(a){return e.applyOperation(a)}),this.controller}},{key:"setOperationFlag",value:function(t,e){return z(!1,"As of slate@0.41 the `change.setOperationFlag` method has been deprecated."),this.tmp[t]=e,this}},{key:"getFlag",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return z(!1,"As of slate@0.41 the `change.getFlag` method has been deprecated."),e[t]!==void 0?e[t]:this.tmp[t]}},{key:"unsetOperationFlag",value:function(t){return z(!1,"As of slate@0.41 the `change.unsetOperationFlag` method has been deprecated."),delete this.tmp[t],this}},{key:"withoutNormalization",value:function(t){return z(!1,"As of slate@0.41 the `change.withoutNormalization` helper has been renamed to `change.withoutNormalizing`."),this.withoutNormalizing(t)}},{key:"editor",get:function(){return z(!1,"As of Slate 0.43 the `change` object has been replaced with `editor`, so you don't need to access `change.editor`."),this.controller}}]),r}();function Jn(r){var n=r.type,t=r.node,e=r.path,a=r.newPath;switch(n){case"add_mark":case"insert_text":case"remove_mark":case"remove_text":case"set_mark":case"set_node":{var s=Fe.getAncestors(e).toArray();return[].concat(Ue(s),[e])}case"insert_node":{var c=t.getKeysToPathsTable(),l=Object.values(c).map(function(he){return e.concat(he)}),v=Fe.getAncestors(e).toArray();return[].concat(Ue(v),[e],Ue(l))}case"split_node":{var h=Fe.getAncestors(e).toArray(),A=Fe.increment(e);return[].concat(Ue(h),[e,A])}case"merge_node":{var _=Fe.getAncestors(e).toArray(),C=Fe.decrement(e);return[].concat(Ue(_),[C])}case"move_node":{if(Fe.isEqual(e,a))return[];var P=Fe.getAncestors(e).reduce(function(he,De){return he.push.apply(he,Ue(Fe.transform(De,r).toArray())),he},[]),fe=Fe.getAncestors(a).reduce(function(he,De){return he.push.apply(he,Ue(Fe.transform(De,r).toArray())),he},[]);return[].concat(Ue(P),Ue(fe))}case"remove_node":{var ge=Fe.getAncestors(e).toArray();return[].concat(Ue(ge))}default:return[]}}function Wt(r){r.tmp.normalize&&r.tmp.dirty.length&&r.withoutNormalizing(function(){for(;r.tmp.dirty.length;){var n=r.tmp.dirty.pop();On(r,n)}})}function On(r,n){for(var t=r.controller,e=r.value,a=e,s=a.document,c=s.assertNode(n),l=0,v=100+(c.object==="text"?1:c.nodes.size);c;){var h=c.normalize(t);if(!h)break;h(t),e=r.value,s=e.document;var A=c,_=A.key,C=s.getDescendant(n);if(C&&C.key===_)c=C;else if(C=s.getDescendant(_),C)c=C,n=s.getPath(_);else break;if(l++,l>v)throw new Error("A schema rule could not be normalized after sufficient iterations. This is usually due to a `rule.normalize` or `plugin.normalizeNode` function of a schema being incorrectly written, causing an infinite loop.")}}function Jr(r,n){if(Array.isArray(n)){n.forEach(function(C){return Jr(r,C)});return}if(n!=null){var t=n.commands,e=n.queries,a=n.schema,s=gt(n,["commands","queries","schema"]);if(t){var c=H(t);Jr(r,c)}if(e){var l=bn(e);Jr(r,l)}if(a){var v=Kn(a);Jr(r,v)}for(var h in s){var A=s[h],_=r.middleware[h]=r.middleware[h]||[];_.push(A)}}}var Wr={marks:void 0,text:void 0},Vr=function(r){it(n,r);function n(){return ze(this,n),Ye(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return ve(n,[{key:"updateMark",value:function(e,a){var s=this.marks;if(a.equals(e))return this;if(!s.has(e))return this;var c=s.withMutations(function(l){l.remove(e).add(a)});return this.set("marks",c)}},{key:"addMark",value:function(e){var a=this.marks;return this.set("marks",a.add(e))}},{key:"addMarks",value:function(e){var a=this.marks;return this.set("marks",a.union(e))}},{key:"insertText",value:function(e,a){var s=this.text,c=s.slice(0,e)+a+s.slice(e);return this.set("text",c)}},{key:"removeMark",value:function(e){var a=this.marks;return this.set("marks",a.remove(e))}},{key:"toJSON",value:function(){var e={object:this.object,text:this.text,marks:this.marks.toArray().map(function(a){return a.toJSON()})};return e}}],[{key:"create",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(z(!1,"As of slate@0.47 the `Leaf` model is deprecated."),n.isLeaf(e))return e;if(typeof e=="string"&&(e={text:e}),F()(e))return n.fromJSON(e);throw new Error("`Leaf.create` only accepts objects, strings or leaves, but you passed it: "+e)}},{key:"createLeaves",value:function(e){if(e.size<=1)return e;var a=!1,s=(0,E.List)().withMutations(function(c){e.findLast(function(l,v){var h=c.first();if(h){if(h.marks.equals(l.marks)){a=!0,c.set(0,h.set("text",""+l.text+h.text));return}if(h.text===""){a=!0,c.set(0,l);return}if(l.text===""){a=!0;return}}c.unshift(l)})});return a?s:e}},{key:"splitLeaves",value:function(e,a){if(a<0)return[(0,E.List)(),e];if(e.size===0)return[(0,E.List)(),(0,E.List)()];var s=0,c=-1,l=void 0,v=void 0;return e.find(function(h){c++;var A=s,_=h.text;if(s+=_.length,s<a||A>a)return!1;var C=a-A;return l=h.set("text",_.slice(0,C)),v=h.set("text",_.slice(C)),!0}),l?l.text===""?c===0?[E.List.of(l),e]:[e.take(c),e.skip(c)]:v.text===""?c===e.size-1?[e,E.List.of(v)]:[e.take(c+1),e.skip(c+1)]:[e.take(c).push(l),e.skip(c+1).unshift(v)]:[e,(0,E.List)()]}},{key:"createList",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];if(E.List.isList(e)||Array.isArray(e)){var a=new E.List(e.map(n.create));return a}throw new Error("`Leaf.createList` only accepts arrays or lists, but you passed it: "+e)}},{key:"fromJSON",value:function(e){var a=e.text,s=a===void 0?"":a,c=e.marks,l=c===void 0?[]:c,v=new n({text:s,marks:(0,E.Set)(l.map(Ft.fromJSON))});return v}},{key:"isLeafList",value:function(e){return E.List.isList(e)&&e.every(function(a){return n.isLeaf(a)})}}]),n}((0,E.Record)(Wr));function Rr(r,n){var t=!0,e=!1,a=void 0;try{for(var s=n[Symbol.iterator](),c;!(t=(c=s.next()).done);t=!0){var l=c.value,v=!0,h=!1,A=void 0;try{for(var _=Object.getOwnPropertyNames(r)[Symbol.iterator](),C;!(v=(C=_.next()).done);v=!0){var P=C.value;if(!l.hasOwnProperty(P)){var fe=Object.getOwnPropertyDescriptor(r,P);Object.defineProperty(l,P,fe)}}}catch(Xe){h=!0,A=Xe}finally{try{!v&&_.return&&_.return()}finally{if(h)throw A}}var ge=!0,he=!1,De=void 0;try{for(var Je=Object.getOwnPropertyNames(r.prototype)[Symbol.iterator](),ot;!(ge=(ot=Je.next()).done);ge=!0){var ft=ot.value;if(!l.prototype.hasOwnProperty(ft)){var fe=Object.getOwnPropertyDescriptor(r.prototype,ft);Object.defineProperty(l.prototype,ft,fe)}}}catch(Xe){he=!0,De=Xe}finally{try{!ge&&Je.return&&Je.return()}finally{if(he)throw De}}}}catch(Xe){e=!0,a=Xe}finally{try{!t&&s.return&&s.return()}finally{if(e)throw a}}}function Yt(r){var n=un[r],t=""+r.charAt(0).toUpperCase()+r.slice(1),e="is"+t,a=function(){function s(){ze(this,s)}return ve(s,[{key:"object",get:function(){return r}}]),s}();return a[e]=$r.bind(null,r),a.prototype[n]=!0,a}Object.entries({Annotation:jt,Block:gr,Change:V,Decoration:kr,Document:Zt,Editor:_n,Inline:Vt,Leaf:Vr,Mark:Ft,Node:pt,Operation:x,Point:xt,Range:Qt,Selection:lr,Text:fr,Value:wr}).forEach(function(r){var n=de(r,2),t=n[0],e=n[1];return Rr(Yt(t.toLowerCase()),[e])});var Sn=function(){function r(){ze(this,r)}return ve(r,[{key:"toJS",value:function(){return this.toJSON.apply(this,arguments)}}],[{key:"fromJS",value:function(){return this.fromJSON.apply(this,arguments)}}]),r}();Rr(Sn,[jt,gr,kr,Zt,Vt,Vr,Ft,pt,x,xt,Qt,lr,fr,wr]);var an=!0,fn=Symbol("LEAF"),ar=Symbol("STORE_KEY"),Fr=Symbol("undefined"),aa=Symbol("null"),En=void 0,on=new WeakMap;function ln(r,n){var t=function(A){var _=r[A];if(!_)throw new Error('Object does not have a property named "'+A+'".');r[A]=function(){for(var C=arguments.length,P=Array(C),fe=0;fe<C;fe++)P[fe]=arguments[fe];if(!an)return _.apply(this,P);on.has(this)||on.set(this,{noArgs:{},hasArgs:{}});var ge=on.get(this),he=ge.noArgs,De=ge.hasArgs,Je=P.length!==0,ot=void 0,ft=void 0;if(Je?(ft=[A].concat(P),ot=oa(De,ft)):ot=he[A],ot!==En)return ot===Fr?void 0:ot;var Xe=_.apply(this,P),vt=Xe===void 0?Fr:Xe;return Je?Tr(De,ft,vt):he[A]=vt,Xe}},e=!0,a=!1,s=void 0;try{for(var c=n[Symbol.iterator](),l;!(e=(l=c.next()).done);e=!0){var v=l.value;t(v)}}catch(h){a=!0,s=h}finally{try{!e&&c.return&&c.return()}finally{if(a)throw s}}}function oa(r,n){var t=!0,e=!1,a=void 0;try{for(var s=n[Symbol.iterator](),c;!(t=(c=s.next()).done);t=!0){var l=c.value;if(l===void 0?l=Fr:l==null&&(l=aa),(typeof l>"u"?"undefined":It(l))==="object"?r=r[ar]&&r[ar].get(l):r=r[l],r===En)return En}}catch(v){e=!0,a=v}finally{try{!t&&s.return&&s.return()}finally{if(e)throw a}}return r[fn]}function Tr(r,n,t){var e=r,a=!0,s=!1,c=void 0;try{for(var l=n[Symbol.iterator](),v;!(a=(v=l.next()).done);a=!0){var h=v.value;if(h===void 0?h=Fr:h==null&&(h=aa),(typeof h>"u"?"undefined":It(h))!=="object"){e[h]||(e[h]={}),e=e[h];continue}if(e[ar]||(e[ar]=new WeakMap),!e[ar].has(h)){var A={};e[ar].set(h,A),e=A;continue}e=e[ar].get(h)}}catch(_){s=!0,c=_}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return e[fn]=t,r}function ia(){on=new WeakMap}function dn(r){an=r}var Wn=function(){function r(){ze(this,r)}return ve(r,[{key:"getFirstText",value:function(){if(this.object==="text")return this;var t=null,e=this.nodes.find(function(a){return a.object==="text"?!0:(t=a.getFirstText(),!!t)});return t||e}},{key:"getKeysToPathsTable",value:function(){var t=Qe({},this.key,[]);return this.nodes&&this.nodes.forEach(function(e,a){var s=e.getKeysToPathsTable();for(var c in s){var l=s[c];z(!(c in t),'A node with a duplicate key of "'+c+'" was found! Duplicate keys are not allowed, you should use `node.regenerateKey` before inserting if you are reusing an existing node.'),t[c]=[a].concat(Ue(l))}}),t}},{key:"getLastText",value:function(){if(this.object==="text")return this;var t=null,e=this.nodes.findLast(function(a){return a.object==="text"?!0:(t=a.getLastText(),t)});return t||e}},{key:"getNode",value:function(t){if(t=this.resolvePath(t),!t||this.object==="text"&&t.size)return null;var e=t.size?this.getDescendant(t):this;return e}},{key:"getPath",value:function(t){if(E.List.isList(t))return t;if(pt.isNode(t)&&this.descendants){var e=!0,a=!1,s=void 0;try{for(var c=this.descendants()[Symbol.iterator](),l;!(e=(l=c.next()).done);e=!0){var v=l.value,h=de(v,2),A=h[0],_=h[1];if(t===A)return _}}catch(fe){a=!0,s=fe}finally{try{!e&&c.return&&c.return()}finally{if(a)throw s}}}var C=this.getKeysToPathsTable(),P=C[t];return P?(0,E.List)(P):null}},{key:"getText",value:function(){if(this.object==="text")return this.text;var t=this.nodes.reduce(function(e,a){return e+a.text},"");return t}},{key:"hasNode",value:function(t){var e=this.getNode(t);return!!e}},{key:"normalize",value:function(t){var e=t.run("normalizeNode",this);return e}},{key:"regenerateKey",value:function(){var t=Ze.create(),e=this.set("key",t);return e}},{key:"resolvePath",value:function(t,e){return typeof t=="string"?(t=this.getPath(t),e!=null&&(t=t.concat(e))):t=Fe.create(t),t}},{key:"validate",value:function(t){var e=t.run("validateNode",this);return e}}]),r}();ln(Wn.prototype,["getFirstText","getKeysToPathsTable","getLastText","getText","normalize","validate"]),Rr(Wn,[gr,Zt,Vt,fr]);var vn=typeof X.g<"u"?X.g:typeof self<"u"?self:typeof window<"u"?window:{};function hn(){return!0}var Vn=function(){function r(){ze(this,r)}return ve(r,[{key:"addMark",value:function(t,e){t=this.resolvePath(t);var a=this.assertDescendant(t);a=a.addMark(e);var s=this.replaceNode(t,a);return s}},{key:"ancestors",value:function(t){var e=this.createIterable({path:t,direction:null,downward:!1,includeTargetAncestors:!0,includeRoot:!0});return e}},{key:"blocks",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.onlyLeaves,a=t.onlyRoots,s=t.onlyTypes,c=t.match,l=gt(t,["onlyLeaves","onlyRoots","onlyTypes","match"]),v=this.descendants(et({includeDocument:!1,includeInlines:!1,includeTexts:!1},l,{match:function(A,_){return s&&!s.includes(A.type)||a&&_.size!==1||e&&!A.isLeafBlock()?!1:!(c&&!c(A,_))}}));return v}},{key:"createAnnotation",value:function(t){t=jt.createProperties(t);var e=this.resolveAnnotation(t);return e}},{key:"createDecoration",value:function(t){t=kr.createProperties(t);var e=this.resolveDecoration(t);return e}},{key:"createIterable",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.direction,a=e===void 0?"forward":e,s=t.downward,c=s===void 0?!0:s,l=t.upward,v=l===void 0?!0:l,h=t.includeBlocks,A=h===void 0?!0:h,_=t.includeDocument,C=_===void 0?!0:_,P=t.includeInlines,fe=P===void 0?!0:P,ge=t.includeRoot,he=ge===void 0?!1:ge,De=t.includeTarget,Je=De===void 0?!!t.range:De,ot=t.includeTargetAncestors,ft=ot===void 0?!1:ot,Xe=t.includeTexts,vt=Xe===void 0?!0:Xe,p=t.match,g=p===void 0?null:p,w=this,k=null,b=null;t.range?(b=w.resolveRange(t.range),k=w.resolvePath(b.start.path)):t.path&&(k=w.resolvePath(t.path));var R=k&&w.assertNode(k),M=typeof window>"u"?vn.Set:window.Set;return Qe({},Symbol.iterator,function(){var q=new M,Y=b&&b.start.path,D=b&&b.end.path,L=k,ee=R,se=!1,le=!1,ke=!1,me=function(){return!L||!ee?{done:!0}:!he&&ee===w||!A&&ee.object==="block"||!C&&ee.object==="document"||!fe&&ee.object==="inline"||!vt&&ee.object==="text"||g&&!g(ee,L)?Ae():{value:[ee,L],done:!1}},Ae=function re(){if(!L||!ee)return me();if(Y&&!le)return ke?L.size===Y.size-1?(le=!0,L=k,ee=R,re()):(L=Y.slice(0,L.size+1),ee=w.assertNode(L),me()):(ke=!0,L=Fe.create([]),ee=w,me());if(Je&&!se)return se=!0,me();if(D&&L.equals(D))return ee=null,L=null,re();if(c&&ee.nodes&&ee.nodes.size&&!q.has(ee)){q.add(ee);var G=a==="forward"?0:ee.nodes.size-1;return L=L.push(G),ee=w.assertNode(L),me()}if(a==="forward"){var _e=Fe.increment(L),Pe=w.getNode(_e);if(Pe)return L=_e,ee=Pe,me()}if(a==="backward"&&L.last()!==0){var be=Fe.decrement(L),je=w.getNode(be);if(je)return L=be,ee=je,me()}return v&&L.size?(L=Fe.lift(L),ee=w.assertNode(L),q.has(ee)?re():(q.add(ee),ft?me():re())):(L=null,ee=null,re())};return{next:Ae}})}},{key:"createPoint",value:function(t){t=xt.createProperties(t);var e=this.resolvePoint(t);return e}},{key:"createRange",value:function(t){t=Qt.createProperties(t);var e=this.resolveRange(t);return e}},{key:"createSelection",value:function(t){t=lr.createProperties(t);var e=this.resolveSelection(t);return e}},{key:"descendants",value:function(t){var e=this.createIterable(et({path:[]},t));return e}},{key:"filterDescendants",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn,e=[],a=!0,s=!1,c=void 0;try{for(var l=this.descendants()[Symbol.iterator](),v;!(a=(v=l.next()).done);a=!0){var h=v.value,A=de(h,2),_=A[0],C=A[1];t(_,C)&&e.push(_)}}catch(P){s=!0,c=P}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return(0,E.List)(e)}},{key:"findDescendant",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn,e=!0,a=!1,s=void 0;try{for(var c=this.descendants()[Symbol.iterator](),l;!(e=(l=c.next()).done);e=!0){var v=l.value,h=de(v,2),A=h[0],_=h[1];if(t(A,_))return A}}catch(C){a=!0,s=C}finally{try{!e&&c.return&&c.return()}finally{if(a)throw s}}return null}},{key:"forEachDescendant",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn,e=!0,a=!1,s=void 0;try{for(var c=this.descendants()[Symbol.iterator](),l;!(e=(l=c.next()).done);e=!0){var v=l.value,h=t.apply(void 0,Ue(v));if(h===!1)return}}catch(A){a=!0,s=A}finally{try{!e&&c.return&&c.return()}finally{if(a)throw s}}}},{key:"getActiveMarksAtRange",value:function(t){if(t=this.resolveRange(t),t.isUnset)return(0,E.Set)();if(t.isCollapsed){var e=t,a=e.start;return this.getInsertMarksAtPoint(a)}var s=t,c=s.start,l=s.end,v=c.path,h=c.offset,A=l.path,_=l.offset,C=this.getDescendant(v),P=this.getDescendant(A);if(!v.equals(A)){for(;!v.equals(A)&&_===0;){var fe=this.texts({path:A,direction:"backward"}),ge=de(fe,1),he=de(ge[0],2);P=he[0],A=he[1],_=P.text.length}for(;!v.equals(A)&&h===C.text.length;){var De=this.texts({path:v}),Je=de(De,1),ot=de(Je[0],2);C=ot[0],v=ot[1],h=0}}if(v.equals(A))return C.marks;var ft=C.marks;if(ft.size===0)return(0,E.Set)();var Xe=P.marks,vt=ft.intersect(Xe);if(vt.size===0)return vt;var p=this.texts({path:v}),g=de(p,1),w=de(g[0],2);for(C=w[0],v=w[1];!v.equals(A);){if(C.text.length!==0&&(vt=vt.intersect(C.marks),vt.size===0))return(0,E.Set)();var k=this.texts({path:v}),b=de(k,1),R=de(b[0],2);C=R[0],v=R[1]}return vt}},{key:"getAncestors",value:function(t){var e=this.ancestors(t),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}).reverse(),s=(0,E.List)(a);return s}},{key:"getBlocks",value:function(){var t=this.blocks({onlyLeaves:!0}),e=Array.from(t,function(s){var c=de(s,1),l=c[0];return l}),a=(0,E.List)(e);return a}},{key:"getBlocksByType",value:function(t){var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getChild",value:function(t){if(t=this.resolvePath(t),!t||t.size>1)return null;var e=this.nodes.get(t.first());return e}},{key:"getClosest",value:function(t,e){var a=!0,s=!1,c=void 0;try{for(var l=this.ancestors(t)[Symbol.iterator](),v;!(a=(v=l.next()).done);a=!0){var h=v.value,A=de(h,2),_=A[0],C=A[1];if(e(_,C))return _}}catch(P){s=!0,c=P}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return null}},{key:"getClosestBlock",value:function(t){var e=this.getClosest(t,function(a){return a.object==="block"});return e}},{key:"getClosestInline",value:function(t){var e=this.getClosest(t,function(a){return a.object==="inline"});return e}},{key:"getClosestVoid",value:function(t,e){(0,Q.A)(!wr.isValue(e),"As of Slate 0.42.0, the `node.getClosestVoid` method takes an `editor` instead of a `value`.");var a=this.getClosest(t,function(s){return e.isVoid(s)});return a}},{key:"getCommonAncestor",value:function(t,e){if(t=this.resolvePath(t),e=this.resolvePath(e),!t||!e)return null;var a=Fe.relate(t,e),s=this.getNode(a);return s}},{key:"getDecorations",value:function(t){var e=t.run("decorateNode",this);return e=kr.createList(e),e}},{key:"getDepth",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(t=this.resolvePath(t),!t)return null;var a=this.getNode(t),s=a?t.size-1+e:null;return s}},{key:"getDescendant",value:function(t){if(t=this.resolvePath(t),!t||!t.size)return null;var e=this;return t.forEach(function(a){return e=e.getIn(["nodes",a]),!!e}),e}},{key:"getDescendantsAtRange",value:function(t){var e=this.descendants({range:t}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getFragmentAtRange",value:function(t){if(t=this.resolveRange(t),t.isUnset)return Zt.create();for(var e=t,a=e.start,s=e.end,c=this,l=s.path,v=s.offset,h="end";l.size;){var A=l.last();c=c.splitNode(l,v),v=A+1,l=Fe.lift(l),!l.size&&h==="end"&&(l=a.path,v=a.offset,h="start")}var _=a.path.first()+1,C=s.path.first()+2,P=c.nodes.slice(_,C),fe=Zt.create({nodes:P});return fe}},{key:"getFurthest",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:hn,a=this.ancestors(t),s=Array.from(a).reverse(),c=!0,l=!1,v=void 0;try{for(var h=s[Symbol.iterator](),A;!(c=(A=h.next()).done);c=!0){var _=A.value,C=de(_,2),P=C[0],fe=C[1];if(e(P,fe))return P}}catch(ge){l=!0,v=ge}finally{try{!c&&h.return&&h.return()}finally{if(l)throw v}}return null}},{key:"getFurthestBlock",value:function(t){var e=this.getFurthest(t,function(a){return a.object==="block"});return e}},{key:"getFurthestChild",value:function(t){if(t=this.resolvePath(t),!t||!t.size)return null;var e=this.nodes.get(t.first());return e}},{key:"getFurthestInline",value:function(t){var e=this.getFurthest(t,function(a){return a.object==="inline"});return e}},{key:"getInlines",value:function(){var t=this.inlines({onlyLeaves:!0}),e=Array.from(t,function(s){var c=de(s,1),l=c[0];return l}),a=(0,E.List)(e);return a}},{key:"getInlinesByType",value:function(t){var e=this.inlines({onlyLeaves:!0,onlyTypes:[t]}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getInsertMarksAtPoint",value:function(t){t=this.resolvePoint(t);var e=t,a=e.path,s=e.offset,c=this.getDescendant(a);if(s!==0)return c.marks;var l=void 0,v=void 0,h=!0,A=!1,_=void 0;try{for(var C=this.ancestors(a)[Symbol.iterator](),P;!(h=(P=C.next()).done);h=!0){var fe=P.value,ge=de(fe,2),he=ge[0],De=ge[1];he.object==="block"&&(l=he,v=De)}}catch(g){A=!0,_=g}finally{try{!h&&C.return&&C.return()}finally{if(A)throw _}}var Je=Fe.drop(a,v.size),ot=l.texts({path:Je,direction:"backward"}),ft=de(ot,1),Xe=ft[0];if(!Xe)return c.marks;var vt=de(Xe,1),p=vt[0];return p.marks}},{key:"getInsertMarksAtRange",value:function(t){t=this.resolveRange(t);var e=t,a=e.start;if(t.isUnset)return(0,E.Set)();if(t.isCollapsed)return this.getInsertMarksAtPoint(a);var s=this.getDescendant(a.path);return s.marks}},{key:"getLeafBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyLeaves:!0}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getLeafInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyLeaves:!0}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getNodesToPathsMap",value:function(){var t=this,e=typeof window>"u"?new vn.Map:new window.Map;return e.set(t,Fe.create([])),t.forEachDescendant(function(a,s){e.set(a,s)}),e}},{key:"getMarks",value:function(){var t=this.marks(),e=Array.from(t,function(a){var s=de(a,1),c=s[0];return c});return(0,E.OrderedSet)(e)}},{key:"getMarksAtRange",value:function(t){var e=this.marks({range:t}),a=Array.from(e,function(s){var c=de(s,1),l=c[0];return l});return(0,E.OrderedSet)(a)}},{key:"getMarksByType",value:function(t){var e=this.marks({onlyTypes:[t]}),a=Array.from(e,function(s){var c=de(s,1),l=c[0];return l});return(0,E.OrderedSet)(a)}},{key:"getNextBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getNextNode",value:function(t){var e=this.createIterable({path:t,downward:!1}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getNextSibling",value:function(t){var e=this.siblings(t),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getNextText",value:function(t){var e=this.texts({path:t}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getOffset",value:function(t){t=this.resolvePath(t),this.assertDescendant(t);var e=t.first(),a=this.nodes.slice(0,e).reduce(function(c,l){return c+l.text.length},0),s=t.size===1?a:a+this.nodes.get(e).getOffset(Fe.drop(t));return s}},{key:"getOffsetAtRange",value:function(t){if(t=this.resolveRange(t),t.isUnset)throw new Error("The range cannot be unset to calculcate its offset.");if(t.isExpanded)throw new Error("The range must be collapsed to calculcate its offset.");var e=t,a=e.start,s=this.getOffset(a.path)+a.offset;return s}},{key:"getParent",value:function(t){if(t=this.resolvePath(t),!t||!t.size)return null;var e=Fe.lift(t),a=this.getNode(e);return a}},{key:"getPreviousBlock",value:function(t){var e=this.blocks({path:t,onlyLeaves:!0,direction:"backward"}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getPreviousNode",value:function(t){var e=this.createIterable({path:t,downward:!1,direction:"backward"}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getPreviousSibling",value:function(t){var e=this.siblings(t,{direction:"backward"}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getPreviousText",value:function(t){var e=this.texts({path:t,direction:"backward"}),a=de(e,1),s=a[0],c=s?s[0]:null;return c}},{key:"getRootBlocksAtRange",value:function(t){var e=this.blocks({range:t,onlyRoots:!0}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getRootInlinesAtRange",value:function(t){var e=this.inlines({range:t,onlyRoots:!0}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"getTextAtOffset",value:function(t){if(t===0)return this.getFirstText();if(t===this.text.length)return this.getLastText();if(t<0||t>this.text.length)return null;var e=0,a=!0,s=!1,c=void 0;try{for(var l=this.texts()[Symbol.iterator](),v;!(a=(v=l.next()).done);a=!0){var h=v.value,A=de(h,1),_=A[0];if(e+=_.text.length,e>t)return _}}catch(C){s=!0,c=C}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}return null}},{key:"getTextDirection",value:function(){var t=ue()(this.text);return t==="neutral"?null:t}},{key:"getTexts",value:function(){var t=this.texts(),e=Array.from(t,function(s){var c=de(s,1),l=c[0];return l}),a=(0,E.List)(e);return a}},{key:"getTextsAtRange",value:function(t){var e=this.texts({range:t}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"hasBlockChildren",value:function(){return!!(this.nodes&&this.nodes.find(function(t){return t.object==="block"}))}},{key:"hasChild",value:function(t){var e=this.getChild(t);return!!e}},{key:"hasInlineChildren",value:function(){return!!(this.nodes&&this.nodes.find(function(t){return t.object==="inline"||t.object==="text"}))}},{key:"hasDescendant",value:function(t){var e=this.getDescendant(t);return!!e}},{key:"hasVoidParent",value:function(t,e){(0,Q.A)(!wr.isValue(e),"As of Slate 0.42.0, the `node.hasVoidParent` method takes an `editor` instead of a `value`.");var a=this.getClosestVoid(t,e);return!!a}},{key:"inlines",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},a=e.onlyLeaves,s=e.onlyRoots,c=e.onlyTypes,l=e.match,v=gt(e,["onlyLeaves","onlyRoots","onlyTypes","match"]),h=this.descendants(et({includeBlocks:!1,includeTexts:!1,includeDocument:!1},v,{match:function(_,C){return c&&!c.includes(_.type)||a&&!_.isLeafInline()||s&&t.getParent(C).object!=="block"?!1:!(l&&!l(_,C))}}));return h}},{key:"insertNode",value:function(t,e){t=this.resolvePath(t);var a=t.last(),s=Fe.lift(t),c=this.assertNode(s),l=c.nodes.splice(a,0,e);c=c.set("nodes",l);var v=this.replaceNode(s,c);return v}},{key:"insertText",value:function(t,e,a){t=this.resolvePath(t);var s=this.assertDescendant(t);s=s.insertText(e,a);var c=this.replaceNode(t,s);return c}},{key:"isLeafBlock",value:function(){return!(this.object!=="block"||this.nodes.some(function(t){return t.object==="block"}))}},{key:"isLeafInline",value:function(){return!(this.object!=="inline"||this.nodes.some(function(t){return t.object==="inline"}))}},{key:"isInRange",value:function(t,e){if(t=this.resolvePath(t),e=this.resolveRange(e),e.isUnset)return!1;var a=Fe.compare(t,e.start.path),s=Fe.compare(t,e.end.path),c=a!==-1&&s!==1;return c}},{key:"mapChildren",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn,a=this.nodes;a.forEach(function(c,l){var v=e(c,l,t.nodes);v!==c&&(a=a.set(v.key,v))});var s=this.set("nodes",a);return s}},{key:"mapDescendants",value:function(){var t=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:hn,a=this.nodes;a.forEach(function(c,l){var v=c;v.object!=="text"&&(v=v.mapDescendants(e)),v=e(v,l,t.nodes),v!==c&&(a=a.set(l,v))});var s=this.set("nodes",a);return s}},{key:"marks",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=t.onlyTypes,a=e===void 0?null:e,s=t.match,c=gt(t,["onlyTypes","match"]),l=this.texts(c);return Qe({},Symbol.iterator,function(){var v=l[Symbol.iterator](),h=null,A=null,_=[],C=function P(){if(_.length){var fe=_.shift();return a&&!a.includes(fe.type)||s&&!s(fe,h,A)?P():{value:[fe,h,A],done:!1}}var ge=v.next(),he=ge.value,De=ge.done;if(De)return{done:!0};var Je=de(he,2);return h=Je[0],A=Je[1],_=h.marks.toArray(),P()};return{next:C}})}},{key:"mergeNode",value:function(t){var e=this.assertNode(t);if(t=this.resolvePath(t),t.last()===0)throw new Error("Unable to merge node because it has no previous sibling: "+e);var a=Fe.decrement(t),s=this.assertNode(a);if(s.object!==e.object)throw new Error("Unable to merge two different kinds of nodes: "+s+" and "+e);var c=s.object==="text"?s.mergeText(e):s.set("nodes",s.nodes.concat(e.nodes)),l=this;return l=l.removeNode(t),l=l.removeNode(a),l=l.insertNode(a,c),l}},{key:"moveNode",value:function(t,e){var a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,s=this.assertNode(t);t=this.resolvePath(t),e=this.resolvePath(e,a);var c=Fe.lift(e);this.assertNode(c);var l=x.create({type:"move_node",path:t,newPath:e});e=Fe.transform(t,l).first();var v=this;return v=v.removeNode(t),v=v.insertNode(e,s),v}},{key:"removeMark",value:function(t,e){t=this.resolvePath(t);var a=this.assertDescendant(t);a=a.removeMark(e);var s=this.replaceNode(t,a);return s}},{key:"removeNode",value:function(t){this.assertDescendant(t),t=this.resolvePath(t);var e=t.flatMap(function(s){return["nodes",s]}),a=this.deleteIn(e);return a}},{key:"removeText",value:function(t,e,a){var s=this.assertDescendant(t);s=s.removeText(e,a.length);var c=this.replaceNode(t,s);return c}},{key:"replaceNode",value:function(t,e){if(t=this.resolvePath(t),!t)throw new Error("Unable to replace a node because it could not be found in the first place: "+t);if(!t.size)return e;this.assertNode(t);var a=t.flatMap(function(c){return["nodes",c]}),s=this.setIn(a,e);return s}},{key:"resolveAnnotation",value:function(t){return t=jt.create(t),t=t.normalize(this),t}},{key:"resolveDecoration",value:function(t){return t=kr.create(t),t=t.normalize(this),t}},{key:"resolvePoint",value:function(t){return t=xt.create(t),t=t.normalize(this),t}},{key:"resolveRange",value:function(t){return t=Qt.create(t),t=t.normalize(this),t}},{key:"resolveSelection",value:function(t){return t=lr.create(t),t=t.normalize(this),t}},{key:"setNode",value:function(t,e){var a=this.assertNode(t);a=a.merge(e);var s=this.replaceNode(t,a);return s}},{key:"setMark",value:function(t,e,a){t=this.resolvePath(t);var s=this.assertDescendant(t);s=s.setMark(e,a);var c=this.replaceNode(t,s);return c}},{key:"siblings",value:function(t,e){var a=this.createIterable(et({path:t,upward:!1,downward:!1},e));return a}},{key:"splitNode",value:function(t,e,a){var s=this.assertNode(t);t=this.resolvePath(t);var c=void 0,l=void 0;if(s.object==="text"){var v=s.splitText(e),h=de(v,2);c=h[0],l=h[1]}else{var A=s.nodes.take(e),_=s.nodes.skip(e);c=s.set("nodes",A),l=s.set("nodes",_).regenerateKey()}a&&s.object!=="text"&&(l=l.merge(a));var C=this;return C=C.removeNode(t),C=C.insertNode(t,l),C=C.insertNode(t,c),C}},{key:"texts",value:function(t){var e=this.descendants(et({includeBlocks:!1,includeInlines:!1,includeDocument:!1},t));return e}},{key:"getBlocksAtRange",value:function(t){return z(!1,"As of slate@0.44 the `node.getBlocksAtRange` method has been renamed to `getLeafBlocksAtRange`."),this.getLeafBlocksAtRange(t)}},{key:"getBlocksAtRangeAsArray",value:function(t){return z(!1,"As of slate@0.44 the `node.getBlocksAtRangeAsArray` method has been renamed to `getLeafBlocksAtRangeAsArray`."),this.getLeafBlocksAtRangeAsArray(t)}},{key:"getInlinesAtRange",value:function(t){return z(!1,"As of slate@0.44 the `node.getInlinesAtRange` method has been renamed to `getLeafInlinesAtRange`."),this.getLeafInlinesAtRange(t)}},{key:"getInlinesAtRangeAsArray",value:function(t){return z(!1,"As of slate@0.44 the `node.getInlinesAtRangeAsArray` method has been renamed to `getLeafInlinesAtRangeAsArray`."),this.getLeafInlinesAtRangeAsArray(t)}},{key:"getNextTextAndPath",value:function(t){return z(!1,"As of slate@0.47, the `getNextTextAndPath` method has been renamed to `getNextTextEntry`."),this.getNextTextEntry(t)}},{key:"getNextDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};z(!1,"As of slate@0.47, the `getNextDeepMatchingNodeAndPath` method is deprecated.");var a=this.getNextMatchingNodeAndPath(t);if(!a)return null;for(var s=de(a,2),c=s[0],l=s[1],v=void 0,h=function(){return v=c.object!=="text"&&c.findFirstDescendantAndPath(e,l),v};h(v);){var A=v,_=de(A,2);c=_[0],l=_[1]}return c?e(c)?[c,l]:this.getNextDeepMatchingNodeAndPath(a[1],e):null}},{key:"getPreviousTextAndPath",value:function(t){return z(!1,"As of slate@0.47, the `getPreviousTextAndPath` method has been renamed to `getPreviousTextEntry`."),this.getPreviousTextEntry(t)}},{key:"findFirstDescendantAndPath",value:function(t,e){return z(!1,"As of slate@0.47, the `findFirstDescendantAndPath` method is deprecated."),this.findDescendantAndPath(t,e,!1)}},{key:"getPreviousMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(z(!1,"As of slate@0.47, the `getPreviousMatchingNodeAndPath` method is deprecated."),!t)return null;for(var a=t.size;a>0;a--){var s=t.slice(0,a);if(s.last()!==0){for(var c=Fe.decrement(s),l=this.getNode(c);l&&!e(l);)c=Fe.decrement(c),l=this.getNode(c);if(l)return[l,c]}}return null}},{key:"getPreviousDeepMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};z(!1,"As of slate@0.47, the `getPreviousDeepMatchingNodeAndPath` method is deprecated.");var a=this.getPreviousMatchingNodeAndPath(t);if(!a)return null;for(var s=de(a,2),c=s[0],l=s[1],v=void 0,h=function(){return v=c.object!=="text"&&c.findLastDescendantAndPath(e,l),v};h(v);){var A=v,_=de(A,2);c=_[0],l=_[1]}return c?e(c)?[c,l]:this.getPreviousDeepMatchingNodeAndPath(a[1],e):null}},{key:"findLastDescendantAndPath",value:function(t,e){return z(!1,"As of slate@0.47, the `findLastDescendantAndPath` method is deprecated."),this.findDescendantAndPath(t,e,!0)}},{key:"findDescendantAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.create([]),a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;z(!1,"As of slate@0.47, the `findDescendantAndPath` method is deprecated.");var s=void 0,c=void 0;return this.forEachDescendantWithPath(function(l,v,h){if(t(l,v,h))return s=l,c=v,!1},e,a),s?[s,c]:null}},{key:"forEachDescendantWithPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Fe.create([]),a=arguments[2];z(!1,"As of slate@0.47, the `forEachDescendantWithPath` method is deprecated.");var s=this.nodes,c=void 0;return a&&(s=s.reverse()),s.forEach(function(l,v){var h=e.concat(v);if(t(l,h,s)===!1)return c=!1,!1;if(l.object!=="text")return c=l.forEachDescendantWithPath(t,h,a),c}),c}},{key:"getNextMatchingNodeAndPath",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:function(){return!0};if(z(!1,"As of slate@0.47, the `getNextMatchingNodeAndPath` method is deprecated."),!t)return null;for(var a=t.size;a>0;a--){for(var s=t.slice(0,a),c=Fe.increment(s),l=this.getNode(c);l&&!e(l);)c=Fe.increment(c),l=this.getNode(c);if(l)return[l,c]}return null}},{key:"getSelectionIndexes",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;z(!1,"As of slate@0.47, the `getSelectionIndexes` method is deprecated.");var a=t.start,s=t.end;if(!e||t.isUnset)return null;if(a.path.equals(s.path)){var c=this.getFurthestAncestor(a.path),l=c?this.nodes.indexOf(c):null;return{start:l,end:l+1}}var v=null,h=null;return this.nodes.forEach(function(A,_){return A.object==="text"?(v==null&&A.key===a.key&&(v=_),h==null&&A.key===s.key&&(h=_+1)):(v==null&&A.hasDescendant(a.key)&&(v=_),h==null&&A.hasDescendant(s.key)&&(h=_+1)),v==null||h==null}),e&&v==null&&(v=0),e&&h==null&&(h=this.nodes.size),v==null?null:{start:v,end:h}}},{key:"getTextsBetweenPositionsAsArray",value:function(t,e){return z(!1,"As of slate@0.47, the `getTextsBetweenPositionsAsArray` method is deprecated."),t=this.resolvePath(t),e=this.resolvePath(e),this.getTextsBetweenPathPositionsAsArray(t,e)}},{key:"getOrderedMarksBetweenPositions",value:function(t,e,a,s){z(!1,"As of slate@0.47, the `getOrderedMarksBetweenPositions` method is deprecated."),t=this.resolvePath(t),a=this.resolvePath(a);var c=this.getDescendant(t);if(Fe.isEqual(t,a))return c.marks;var l=this.getTextsBetweenPathPositionsAsArray(t,a);return(0,E.OrderedSet)().withMutations(function(v){l.forEach(function(h){v.union(h.marks)})})}},{key:"getTextsBetweenPathPositionsAsArray",value:function(t,e){if(z(!1,"As of slate@0.47, the `getTextsBetweenPathPositionsAsArray` method is deprecated."),t&&e&&Fe.isEqual(t,e))return[this.getDescendant(t)];if(!t&&!e)return this.getTextsAsArray();var a=t?t.get(0,0):0,s=e?e.get(0,this.nodes.size-1):this.nodes.size-1,c=[];return this.nodes.slice(a,s+1).forEach(function(l,v){if(l.object==="text")c.push(l);else{var h=t&&v===0?Fe.drop(t):null,A=e&&v===s-a?Fe.drop(e):null;c=c.concat(l.getTextsBetweenPathPositionsAsArray(h,A))}}),c}},{key:"getFurthestAncestor",value:function(t){return z(!1,"As of slate@0.47, the `getFurthestAncestor` method has been renamed to `getFurthestChild`."),this.getFurthestChild(t)}},{key:"getLeafBlocksAtRangeAsArray",value:function(t){if(z(!1,"As of slate@0.47, the `getLeafBlocksAtRangeAsArray` method is deprecated."),t=this.resolveRange(t),t.isUnset)return[];var e=t,a=e.start,s=e.end;return this.getLeafBlocksBetweenPathPositionsAsArray(a.path,s.path)}},{key:"getLeafBlocksBetweenPathPositionsAsArray",value:function(t,e){if(z(!1,"As of slate@0.47, the `getLeafBlocksBetweenPathPositionsAsArray` method is deprecated."),t&&e&&Fe.isEqual(t,e))return[this.getClosestBlock(t)];if(!t&&!e)return this.getBlocksAsArray();var a=t?t.get(0,0):0,s=e?e.get(0,this.nodes.size-1):this.nodes.size-1,c=[];return this.nodes.slice(a,s+1).forEach(function(l,v){if(l.object==="block")if(l.isLeafBlock())c.push(l);else{var h=t&&v===0?Fe.drop(t):null,A=e&&v===s-a?Fe.drop(e):null;c=c.concat(l.getLeafBlocksBetweenPathPositionsAsArray(h,A))}}),c}},{key:"getBlocksAsArray",value:function(){z(!1,"As of slate@0.47, the `getBlocksAsArray` method is deprecated.");var t=this.blocks({onlyLeaves:!0}),e=Array.from(t,function(a){var s=de(a,1),c=s[0];return c});return e}},{key:"getBlocksByTypeAsArray",value:function(t){z(!1,"As of slate@0.47, the `getBlocksByTypeAsArray` method is deprecated.");var e=this.blocks({onlyLeaves:!0,onlyTypes:[t]}),a=Array.from(e,function(s){var c=de(s,1),l=c[0];return l});return a}},{key:"getFurthestOnlyChildAncestor",value:function(t){z(!1,"As of slate@0.47, the `getFurthestOnlyChildAncestor` method is deprecated.");var e=this.getAncestors(t);if(!e)return null;var a=e.rest().reverse().takeUntil(function(s){return s.nodes.size>1}).last();return a||null}},{key:"getInlinesAsArray",value:function(){z(!1,"As of slate@0.47, the `getInlinesAsArray` method is deprecated.");var t=Array.from(this.inlines({onlyLeaves:!0}),function(e){var a=de(e,1),s=a[0];return s});return t}},{key:"getInlinesByTypeAsArray",value:function(t){z(!1,"As of slate@0.47, the `getInlinesByTypeAsArray` method is deprecated.");var e=Array.from(this.inlines({onlyLeaves:!0,onlyTypes:[t]}),function(a){var s=de(a,1),c=s[0];return c});return e}},{key:"getLeafInlinesAtRangeAsArray",value:function(t){var e=this;if(z(!1,"As of slate@0.47, the `getLeafInlinesAtRangeAsArray` method is deprecated."),t=this.resolveRange(t),t.isUnset)return[];var a=this.getTextsAtRangeAsArray(t).map(function(s){return e.getClosestInline(s.key)}).filter(function(s){return s});return a}},{key:"getOrderedMarks",value:function(){return z(!1,"As of slate@0.47, the `getOrderedMarks` method has been folded into `getMarks`, which will now return an ordered set."),this.getMarks()}},{key:"getOrderedMarksAtRange",value:function(t){return z(!1,"As of slate@0.47, the `getOrderedMarksAtRange` method has been folded into `getMarksAtRange`, which will now return an ordered set."),this.getMarksAtRange(t)}},{key:"getOrderedMarksByType",value:function(t){return z(!1,"As of slate@0.47, the `getOrderedMarksByType` method has been folded into `getMarksByType`, which will now return an ordered set."),this.getMarksByType(t)}},{key:"getMarksByTypeAsArray",value:function(t){z(!1,"As of slate@0.47, the `getMarksByTypeAsArray` method is deprecated.");var e=this.nodes.reduce(function(a,s){return s.object==="text"?a.concat(s.marks.filter(function(c){return c.type===t})):a.concat(s.getMarksByTypeAsArray(t))},[]);return e}},{key:"getMarksAsArray",value:function(){var t;z(!1,"As of slate@0.47, the `getMarksAsArray` method is deprecated.");var e=[],a=!0,s=!1,c=void 0;try{for(var l=this.texts()[Symbol.iterator](),v;!(a=(v=l.next()).done);a=!0){var h=v.value,A=de(h,1),_=A[0];e.push(_.marks.toArray())}}catch(P){s=!0,c=P}finally{try{!a&&l.return&&l.return()}finally{if(s)throw c}}var C=(t=[]).concat.apply(t,e);return C}},{key:"getRootInlinesAtRangeAsArray",value:function(t){var e=this;if(z(!1,"As of slate@0.47, the `getRootInlinesAtRangeAsArray` method is deprecated."),t=this.resolveRange(t),t.isUnset)return(0,E.List)();var a=this.getTextsAtRangeAsArray(t).map(function(s){return e.getFurthestInline(s.key)}).filter(function(s){return s});return a}},{key:"getTextsAsArray",value:function(){z(!1,"As of slate@0.47, the `getTextsAsArray` method is deprecated.");var t=this.texts(),e=Array.from(t,function(a){var s=de(a,1),c=s[0];return c});return e}},{key:"getTextsAtRangeAsArray",value:function(t){z(!1,"As of slate@0.47, the `getTextsAtRangeAsArray` method is deprecated.");var e=this.texts({range:t}),a=Array.from(e,function(s){var c=de(s,1),l=c[0];return l});return a}},{key:"getMarksAtPosition",value:function(t,e){z(!1,"As of slate@0.47, the `getMarksAtPosition` method is deprecated."),t=this.resolvePath(t);var a=this.getDescendant(t),s=a.marks;if(e!==0)return(0,E.OrderedSet)(s);var c=this.getClosestBlock(t);if(c.text==="")return(0,E.OrderedSet)(s);var l=this.texts({path:t,direction:"backward"}),v=de(l,1),h=v[0];if(!h)return(0,E.OrderedSet)();var A=de(h,2),_=A[0],C=A[1];return c.hasDescendant(C)?(0,E.OrderedSet)(_.marks):(0,E.OrderedSet)(s)}},{key:"getNodesAtRange",value:function(t){z(!1,"As of slate@0.47, the `getNodesAtRange` method has been renamed to `getDescendantsAtRange`.");var e=this.descendants({range:t}),a=Array.from(e,function(c){var l=de(c,1),v=l[0];return v}),s=(0,E.List)(a);return s}},{key:"isNodeInRange",value:function(t,e){return z(!1,"As of slate@0.47, the `isNodeInRange` method has been renamed to `isInRange`."),this.isInRange(t,e)}},{key:"text",get:function(){return this.getText()}}]),r}(),Tn=["Child","Depth","Descendant","Node","Parent","Path"],Mn=function(n){Vn.prototype["assert"+n]=function(t){for(var e=arguments.length,a=Array(e>1?e-1:0),s=1;s<e;s++)a[s-1]=arguments[s];var c=this["get"+n].apply(this,[t].concat(a));if(c==null)throw new Error("`Node.assert"+n+"` could not find node with path or key: "+t);return c}},Nn=!0,yr=!1,sa=void 0;try{for(var or=Tn[Symbol.iterator](),ua;!(Nn=(ua=or.next()).done);Nn=!0){var da=ua.value;Mn(da)}}catch(r){yr=!0,sa=r}finally{try{!Nn&&or.return&&or.return()}finally{if(yr)throw sa}}ln(Vn.prototype,["getBlocksAsArray","getBlocksByTypeAsArray","getDecorations","getFragmentAtRange","getInlinesAsArray","getInlinesByTypeAsArray","getInsertMarksAtRange","getLeafBlocksAtRangeAsArray","getLeafBlocksAtRangeAsArray","getLeafInlinesAtRangeAsArray","getMarksAsArray","getMarksAtPosition","getMarksByTypeAsArray","getNextBlock","getNodesAtRange","getNodesToPathsMap","getOffset","getOffsetAtRange","getOrderedMarksBetweenPositions","getPreviousBlock","getRootBlocksAtRange","getRootInlinesAtRangeAsArray","getTextAtOffset","getTextDirection","getTextsAsArray","getTextsBetweenPathPositionsAsArray"]),Rr(Vn,[gr,Zt,Vt]);var ca=function(){function r(){ze(this,r)}return ve(r,[{key:"flip",value:function(){var t=this.setPoints([this.focus,this.anchor]);return t}},{key:"moveForward",value:function(t){return this.updatePoints(function(e){return e.moveForward(t)})}},{key:"moveBackward",value:function(t){return this.updatePoints(function(e){return e.moveBackward(t)})}},{key:"moveAnchorBackward",value:function(t){var e=this.setAnchor(this.anchor.moveBackward(t));return e}},{key:"moveAnchorForward",value:function(t){var e=this.setAnchor(this.anchor.moveForward(t));return e}},{key:"moveAnchorTo",value:function(t,e){var a=this.setAnchor(this.anchor.moveTo(t,e));return a}},{key:"moveAnchorToStartOfNode",value:function(t){var e=this.setAnchor(this.anchor.moveToStartOfNode(t));return e}},{key:"moveAnchorToEndOfNode",value:function(t){var e=this.setAnchor(this.anchor.moveToEndOfNode(t));return e}},{key:"moveEndBackward",value:function(t){var e=this.setEnd(this.end.moveBackward(t));return e}},{key:"moveEndForward",value:function(t){var e=this.setEnd(this.end.moveForward(t));return e}},{key:"moveEndTo",value:function(t,e){var a=this.setEnd(this.end.moveTo(t,e));return a}},{key:"moveEndToStartOfNode",value:function(t){var e=this.setEnd(this.end.moveToStartOfNode(t));return e}},{key:"moveEndToEndOfNode",value:function(t){var e=this.setEnd(this.end.moveToEndOfNode(t));return e}},{key:"moveFocusBackward",value:function(t){var e=this.setFocus(this.focus.moveBackward(t));return e}},{key:"moveFocusForward",value:function(t){var e=this.setFocus(this.focus.moveForward(t));return e}},{key:"moveFocusTo",value:function(t,e){var a=this.setFocus(this.focus.moveTo(t,e));return a}},{key:"moveFocusToStartOfNode",value:function(t){var e=this.setFocus(this.focus.moveToStartOfNode(t));return e}},{key:"moveFocusToEndOfNode",value:function(t){var e=this.setFocus(this.focus.moveToEndOfNode(t));return e}},{key:"moveStartBackward",value:function(t){var e=this.setStart(this.start.moveBackward(t));return e}},{key:"moveStartForward",value:function(t){var e=this.setStart(this.start.moveForward(t));return e}},{key:"moveStartTo",value:function(t,e){var a=this.setStart(this.start.moveTo(t,e));return a}},{key:"moveStartToStartOfNode",value:function(t){var e=this.setStart(this.start.moveToStartOfNode(t));return e}},{key:"moveStartToEndOfNode",value:function(t){var e=this.setStart(this.start.moveToEndOfNode(t));return e}},{key:"moveTo",value:function(t,e){return this.updatePoints(function(a){return a.moveTo(t,e)})}},{key:"moveToAnchor",value:function(){var t=this.setFocus(this.anchor);return t}},{key:"moveToEnd",value:function(){var t=this.setStart(this.end);return t}},{key:"moveToEndOfNode",value:function(t){return this.updatePoints(function(e){return e.moveToEndOfNode(t)})}},{key:"moveToFocus",value:function(){var t=this.setAnchor(this.focus);return t}},{key:"moveToRangeOfNode",value:function(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:t,a=this.setPoints([this.anchor.moveToStartOfNode(t),this.focus.moveToEndOfNode(e)]);return a}},{key:"moveToStart",value:function(){var t=this.setEnd(this.start);return t}},{key:"moveToStartOfNode",value:function(t){return this.updatePoints(function(e){return e.moveToStartOfNode(t)})}},{key:"normalize",value:function(t){return this.updatePoints(function(e){return e.normalize(t)})}},{key:"setAnchor",value:function(t){var e=this.set("anchor",t);return e}},{key:"setEnd",value:function(t){var e=this.isBackward?this.setAnchor(t):this.setFocus(t);return e}},{key:"setFocus",value:function(t){var e=this.set("focus",t);return e}},{key:"setPoints",value:function(t){var e=de(t,2),a=e[0],s=e[1],c=this.set("anchor",a).set("focus",s);return c}},{key:"updatePoints",value:function(t){var e=this.anchor,a=this.focus;return e=t(e),a=t(a),this.merge({anchor:e,focus:a})}},{key:"setStart",value:function(t){var e=this.isBackward?this.setFocus(t):this.setAnchor(t);return e}},{key:"setProperties",value:function(t){t=Qt.createProperties(t);var e=t,a=e.anchor,s=e.focus,c=gt(e,["anchor","focus"]);a&&(c.anchor=xt.create(a)),s&&(c.focus=xt.create(s));var l=this.merge(c);return l}},{key:"toJSON",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e={object:this.object,anchor:this.anchor.toJSON(t),focus:this.focus.toJSON(t)};return e}},{key:"toRange",value:function(){var t=Qt.createProperties(this),e=Qt.create(t);return e}},{key:"unset",value:function(){var t=this.updatePoints(function(e){return e.unset()});return t}},{key:"isCollapsed",get:function(){return this.anchor===this.focus||this.anchor.key===this.focus.key&&this.anchor.offset===this.focus.offset}},{key:"isExpanded",get:function(){return!this.isCollapsed}},{key:"isBackward",get:function(){var t=this.isUnset,e=this.anchor,a=this.focus;if(t)return null;if(e.key===a.key)return e.offset>a.offset;var s=Fe.isBefore(a.path,e.path);return s}},{key:"isForward",get:function(){var t=this.isBackward,e=t==null?null:!t;return e}},{key:"isUnset",get:function(){var t=this.anchor,e=this.focus,a=t.isUnset||e.isUnset;return a}},{key:"isSet",get:function(){return!this.isUnset}},{key:"start",get:function(){return this.isBackward?this.focus:this.anchor}},{key:"end",get:function(){return this.isBackward?this.anchor:this.focus}}]),r}();Rr(ca,[jt,kr,Qt,lr]);var Ln={Annotation:jt,Block:gr,Change:V,Data:ur,Decoration:kr,Document:Zt,Editor:_n,Inline:Vt,KeyUtils:Ze,Leaf:Vr,Mark:Ft,Node:pt,Operation:x,PathUtils:Fe,Point:xt,Range:Qt,resetMemoization:ia,Selection:lr,Text:fr,TextUtils:Kr,useMemoization:dn,Value:wr},Cn=null},"../../node_modules/slate/node_modules/debug/src/browser.js":function(Ke,Ie,X){"use strict";var E=X("../../node_modules/process/browser.js");function Z(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Z=function(W){return typeof W}:Z=function(W){return W&&typeof Symbol=="function"&&W.constructor===Symbol&&W!==Symbol.prototype?"symbol":typeof W},Z(j)}Ie.log=B,Ie.formatArgs=T,Ie.save=z,Ie.load=Q,Ie.useColors=F,Ie.storage=ye(),Ie.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function F(){return typeof window<"u"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)?!0:typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)?!1:typeof document<"u"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window<"u"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function T(j){if(j[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+j[0]+(this.useColors?"%c ":" ")+"+"+Ke.exports.humanize(this.diff),!!this.useColors){var K="color: "+this.color;j.splice(1,0,K,"color: inherit");var W=0,$=0;j[0].replace(/%[a-zA-Z%]/g,function(J){J!=="%%"&&(W++,J==="%c"&&($=W))}),j.splice($,0,K)}}function B(){var j;return(typeof console>"u"?"undefined":Z(console))==="object"&&console.log&&(j=console).log.apply(j,arguments)}function z(j){try{j?Ie.storage.setItem("debug",j):Ie.storage.removeItem("debug")}catch{}}function Q(){var j;try{j=Ie.storage.getItem("debug")}catch{}return!j&&typeof E<"u"&&"env"in E&&(j=E.env.DEBUG),j}function ye(){try{return localStorage}catch{}}Ke.exports=X("../../node_modules/slate/node_modules/debug/src/common.js")(Ie);var ne=Ke.exports.formatters;ne.j=function(j){try{return JSON.stringify(j)}catch(K){return"[UnexpectedJSONParseError]: "+K.message}}},"../../node_modules/slate/node_modules/debug/src/common.js":function(Ke,Ie,X){"use strict";function E(Z){T.debug=T,T.default=T,T.coerce=j,T.disable=ye,T.enable=Q,T.enabled=ne,T.humanize=X("../../node_modules/ms/index.js"),Object.keys(Z).forEach(function(K){T[K]=Z[K]}),T.instances=[],T.names=[],T.skips=[],T.formatters={};function F(K){for(var W=0,$=0;$<K.length;$++)W=(W<<5)-W+K.charCodeAt($),W|=0;return T.colors[Math.abs(W)%T.colors.length]}T.selectColor=F;function T(K){var W;function $(){if($.enabled){for(var J=arguments.length,ie=new Array(J),ue=0;ue<J;ue++)ie[ue]=arguments[ue];var xe=$,Ne=Number(new Date),We=Ne-(W||Ne);xe.diff=We,xe.prev=W,xe.curr=Ne,W=Ne,ie[0]=T.coerce(ie[0]),typeof ie[0]!="string"&&ie.unshift("%O");var Ce=0;ie[0]=ie[0].replace(/%([a-zA-Z%])/g,function(Ze,It){if(Ze==="%%")return Ze;Ce++;var ze=T.formatters[It];if(typeof ze=="function"){var ve=ie[Ce];Ze=ze.call(xe,ve),ie.splice(Ce,1),Ce--}return Ze}),T.formatArgs.call(xe,ie);var ht=xe.log||T.log;ht.apply(xe,ie)}}return $.namespace=K,$.enabled=T.enabled(K),$.useColors=T.useColors(),$.color=F(K),$.destroy=B,$.extend=z,typeof T.init=="function"&&T.init($),T.instances.push($),$}function B(){var K=T.instances.indexOf(this);return K!==-1?(T.instances.splice(K,1),!0):!1}function z(K,W){return T(this.namespace+(typeof W>"u"?":":W)+K)}function Q(K){T.save(K),T.names=[],T.skips=[];var W,$=(typeof K=="string"?K:"").split(/[\s,]+/),J=$.length;for(W=0;W<J;W++)$[W]&&(K=$[W].replace(/\*/g,".*?"),K[0]==="-"?T.skips.push(new RegExp("^"+K.substr(1)+"$")):T.names.push(new RegExp("^"+K+"$")));for(W=0;W<T.instances.length;W++){var ie=T.instances[W];ie.enabled=T.enabled(ie.namespace)}}function ye(){T.enable("")}function ne(K){if(K[K.length-1]==="*")return!0;var W,$;for(W=0,$=T.skips.length;W<$;W++)if(T.skips[W].test(K))return!1;for(W=0,$=T.names.length;W<$;W++)if(T.names[W].test(K))return!0;return!1}function j(K){return K instanceof Error?K.stack||K.message:K}return T.enable(T.load()),T}Ke.exports=E},"../../node_modules/slate/node_modules/is-plain-object/index.js":function(Ke,Ie,X){"use strict";/*!
 * is-plain-object <https://github.com/jonschlinkert/is-plain-object>
 *
 * Copyright (c) 2014-2017, Jon Schlinkert.
 * Released under the MIT License.
 */var E=X("../../node_modules/isobject/index.js");function Z(F){return E(F)===!0&&Object.prototype.toString.call(F)==="[object Object]"}Ke.exports=function(T){var B,z;return!(Z(T)===!1||(B=T.constructor,typeof B!="function")||(z=B.prototype,Z(z)===!1)||z.hasOwnProperty("isPrototypeOf")===!1)}}}]);
